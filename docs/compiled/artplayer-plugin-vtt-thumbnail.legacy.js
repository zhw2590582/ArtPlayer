
/*!
 * artplayer-plugin-vtt-thumbnail.js v1.0.3
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2026 Harvey Zack
 * Released under the MIT License.
 */
!function(e,t,r,n,o){var u="u">typeof globalThis?globalThis:"u">typeof self?self:"u">typeof window?window:"u">typeof global?global:{},i="function"==typeof u[n]&&u[n],l=i.i||{},c=i.cache||{},a="u">typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(t,r){if(!c[t]){if(!e[t]){if(o[t])return o[t];var l="function"==typeof u[n]&&u[n];if(!r&&l)return l(t,!0);if(i)return i(t,!0);if(a&&"string"==typeof t)return a(t);var f=Error("Cannot find module '"+t+"'");throw f.code="MODULE_NOT_FOUND",f}d.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},d.cache={};var p=c[t]=new s.Module(t);e[t][0].call(p.exports,d,p,p.exports,u)}return c[t].exports;function d(e){var t=d.resolve(e);if(!1===t)return{};if(Array.isArray(t)){var r={__esModule:!0};return t.forEach(function(e){var t=e[0],n=e[1],o=e[2]||e[0],u=s(n);"*"===t?Object.keys(u).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}})}):"*"===o?Object.defineProperty(r,t,{enumerable:!0,value:u}):Object.defineProperty(r,t,{enumerable:!0,get:function(){return"default"===o?u.__esModule?u.default:u:u[o]}})}),r}return s(t)}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.require=a,this.exports={}},s.modules=e,s.cache=c,s.parent=i,s.distDir=void 0,s.publicUrl=void 0,s.devServer=void 0,s.i=l,s.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(s,"root",{get:function(){return u[n]}}),u[n]=s;for(var f=0;f<t.length;f++)s(t[f]);if(r){var p=s(r);"object"==typeof exports&&"u">typeof module?module.exports=p:"function"==typeof define&&define.amd&&define(function(){return p})}}({gJaKg:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"default",function(){return a});var u=e("@swc/helpers/cjs/_async_to_generator.cjs"),i=e("@swc/helpers/cjs/_ts_generator.cjs"),l=e("./getVttArray"),c=o.interopDefault(l);function a(e){return function(t){return(0,u._)(function(){var r,n,o,l,a,s,f;return(0,i._)(this,function(p){switch(p.label){case 0:return n=(r=t.constructor.utils).setStyle,o=r.isMobile,l=r.addClass,a=t.template.$progress,s=null,[4,(0,c.default)(e.vtt)];case 1:return f=p.sent(),t.controls.add({name:"vtt-thumbnail",position:"top",index:20,style:e.style||{},mounted:function(e){l(e,"art-control-thumbnails"),t.on("setBar",function(r,l,c){return(0,u._)(function(){var u,p,d,h;return(0,i._)(this,function(i){if(u="played"===r&&c&&o,"hover"===r||u){if(p=a.clientWidth*l,d=l*t.duration,n(e,"display","flex"),!(h=f.find(function(e){return d>=e.start&&d<=e.end})))return[2,n(e,"display","none")];if(p>0&&p<a.clientWidth)n(e,"backgroundImage","url(".concat(h.url,")")),n(e,"height","".concat(h.h,"px")),n(e,"width","".concat(h.w,"px")),n(e,"backgroundPosition","-".concat(h.x,"px -").concat(h.y,"px")),p<=h.w/2?n(e,"left",0):p>a.clientWidth-h.w/2?n(e,"left","".concat(a.clientWidth-h.w,"px")):n(e,"left","".concat(p-h.w/2,"px"));else o||n(e,"display","none");u&&(clearTimeout(s),s=setTimeout(function(){n(e,"display","none")},500))}return[2]})})()})}}),[2,{name:"artplayerPluginVttThumbnail"}]}})})()}}"u">typeof window&&(window.artplayerPluginVttThumbnail=a)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","./getVttArray":"j5vq0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cZn0e:[function(e,t,r,n){"use strict";function o(e,t,r,n,o,u,i){try{var l=e[u](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}r._=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,u){var i=e.apply(t,r);function l(e){o(i,n,u,l,c,"next",e)}function c(e){o(i,n,u,l,c,"throw",e)}l(void 0)})}}},{}],eltGh:[function(e,t,r,n){"use strict";r._=function(e,t){var r,n,o,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),l=Object.defineProperty;return l(i,"next",{value:c(0)}),l(i,"throw",{value:c(1)}),l(i,"return",{value:c(2)}),"function"==typeof Symbol&&l(i,Symbol.iterator,{value:function(){return this}}),i;function c(l){return function(c){var a=[l,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}}},{}],j5vq0:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"default",function(){return c});var u=e("@swc/helpers/cjs/_async_to_generator.cjs"),i=e("@swc/helpers/cjs/_ts_generator.cjs");function l(e){var t,r,n,o=e.split("."),u=o[0].split(":")||[],i=Number((t=o[1]||"0",r=3,n="0",t.length>r?String(t):((r-=t.length)>n.length&&(n+=n.repeat(r/n.length)),String(t)+n.slice(0,r))))/1e3;return 3600*Number(u[u.length-3]||0)+60*Number(u[u.length-2]||0)+Number(u[u.length-1]||0)+i}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u._)(function(){var t,r,n,o,u,c,a,s,f,p,d,h,y,b,g,v,m;return(0,i._)(this,function(i){switch(i.label){case 0:return[4,fetch(e)];case 1:return[4,i.sent().text()];case 2:for(n=1,t=i.sent().split(/[\n\r]/g).filter(function(e){return e.trim()}),r=[];n<t.length;n+=2)if(o=t[n],(u=t[n+1]).trim()){for(c=/((?:\d{2}:)?(?:\d{2}:)?\d{2}(?:.\d{3})?) ?-->?((?:\d{2}:)?(?:\d{2}:)?\d{2}(?:.\d{3})?)/,a=o.match(c),s=/(.*)#(\w{4})=(.*)/,f=u.match(s),p=Math.floor(l(a[1])),d=Math.floor(l(a[2])),h=f[1],/^\/|(?:https?|ftp|file):\/\//i.test(h)||((y=e.split("/")).pop(),y.push(h),h=y.join("/")),b={start:p,end:d,url:h},g=f[2].split(""),v=f[3].split(","),m=0;m<g.length;m++)b[g[m]]=v[m];r.push(b)}return[2,r]}})})()}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],qpMMf:[function(e,t,r,n){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}]},["gJaKg"],"gJaKg","parcelRequire4dc0",{});