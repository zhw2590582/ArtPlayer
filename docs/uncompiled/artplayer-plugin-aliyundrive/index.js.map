{"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAAA;;AAEA,SAAS,aAAa,GAAG,EAAE;IACvB,MAAM,EACF,QAAO,EACP,OAAO,EAAE,YAAW,EAAE,CAAA,EACzB,GAAG,IAAI,WAAW;IACnB,MAAM,MAAM,QAAQ,KAAK,CAAC,KAAK,GAAG,CAAC;IACnC,MAAM,QAAQ,GAAG,CAAC,EAAE;IACpB,MAAM,QAAQ,GAAG,CAAC,EAAE,GAAG;IACvB,YACI,QAAQ,SAAS,MACjB,CAAC,aAAa,EAAE,QAAQ,kDAAkD,EAAE,2BAA2B,OAAO,CAAC,gDAAgD,CAAC;AAExK;AAEe,SAAS,6BAA6B;IACjD,OAAO,CAAC,MAAQ;QACZ,aAAa;QAEb,MAAM,EACF,UAAU,EAAE,QAAO,EAAE,QAAO,EAAE,CAAA,EAC9B,aAAa,EACT,OAAO,EAAE,OAAM,EAAE,aAAY,EAAE,SAAQ,EAAE,CAAA,EAC5C,CAAA,EACJ,GAAG;QAEJ,SAAS,SAAS;QAClB,MAAM,WAAW,OAAO,SAAS,CAAC,uCAAuC,CAAC;QAC1E,MAAM,YAAY,OAAO,SAAS,CAAC,wCAAwC,CAAC;QAC5E,MAAM,SAAS;YAAC;YAAwB;YAAoB;SAAiB;QAE7E,IAAK,IAAI,QAAQ,GAAG,QAAQ,OAAO,MAAM,EAAE,QACvC,IAAI,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,IAAM;YACxB,SAAS,SAAS,GAAG,aAAa,IAAI,WAAW;YACjD,UAAU,SAAS,GAAG,aAAa,IAAI,QAAQ;QACnD;QAGJ,OAAO;YACH,MAAM;QACV;IACJ;AACJ;kBA3BwB;AA6BxB,2BAA2B,GAAG;AAC9B,2BAA2B,OAAO;AAClC,2BAA2B,KAAK;AAEhC,IAAI,OAAO,aAAa,aACpB;IAAA,IAAI,CAAC,SAAS,cAAc,CAAC,iCAAiC;QAC1D,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,OAAO,EAAE,GAAG;QACZ,OAAO,WAAW,GAAG,CAAA,GAAA,yBAAK,AAAD;QACzB,SAAS,IAAI,CAAC,WAAW,CAAC;IAC9B,CAAC;AAAD,CACH;AAED,IAAI,OAAO,WAAW,aAClB,MAAM,CAAC,6BAA6B,GAAG;;;AC3D3C,OAAO,OAAO,GAAG;;;ACAjB,QAAQ,cAAc,GAAG,SAAU,CAAC,EAAE;IACpC,OAAO,KAAK,EAAE,UAAU,GAAG,IAAI;QAAC,SAAS;IAAC,CAAC;AAC7C;AAEA,QAAQ,iBAAiB,GAAG,SAAU,CAAC,EAAE;IACvC,OAAO,cAAc,CAAC,GAAG,cAAc;QAAC,OAAO,IAAI;IAAA;AACrD;AAEA,QAAQ,SAAS,GAAG,SAAU,MAAM,EAAE,IAAI,EAAE;IAC1C,OAAO,IAAI,CAAC,QAAQ,OAAO,CAAC,SAAU,GAAG,EAAE;QACzC,IAAI,QAAQ,aAAa,QAAQ,gBAAgB,KAAK,cAAc,CAAC,MACnE;QAGF,OAAO,cAAc,CAAC,MAAM,KAAK;YAC/B,YAAY,IAAI;YAChB,KAAK,WAAY;gBACf,OAAO,MAAM,CAAC,IAAI;YACpB;QACF;IACF;IAEA,OAAO;AACT;AAEA,QAAQ,MAAM,GAAG,SAAU,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE;IAC9C,OAAO,cAAc,CAAC,MAAM,UAAU;QACpC,YAAY,IAAI;QAChB,KAAK;IACP;AACF","sources":["packages/artplayer-plugin-aliyundrive/src/index.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-b84c1c3827c02482.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["import style from 'bundle-text:./style.less';\n\nfunction checkVersion(art) {\n    const {\n        version,\n        utils: { errorHandle },\n    } = art.constructor;\n    const arr = version.split('.').map(Number);\n    const major = arr[0];\n    const minor = arr[1] / 100;\n    errorHandle(\n        major + minor >= 4.06,\n        `Artplayer.js@${version} is not compatible the artplayerPluginAliyundrive@${artplayerPluginAliyundrive.version}. Please update it to version Artplayer.js@4.6.x`,\n    );\n}\n\nexport default function artplayerPluginAliyundrive() {\n    return (art) => {\n        checkVersion(art);\n\n        const {\n            template: { $bottom, $player },\n            constructor: {\n                utils: { append, secondToTime, addClass },\n            },\n        } = art;\n\n        addClass($player, 'artplayer-plugin-aliyundrive');\n        const $current = append($bottom, `<div class=\"apa-control-current\"></div>`);\n        const $duration = append($bottom, `<div class=\"apa-control-duration\"></div>`);\n        const events = ['video:loadedmetadata', 'video:timeupdate', 'video:progress'];\n\n        for (let index = 0; index < events.length; index++) {\n            art.on(events[index], () => {\n                $current.innerText = secondToTime(art.currentTime);\n                $duration.innerText = secondToTime(art.duration);\n            });\n        }\n\n        return {\n            name: 'artplayerPluginAliyundrive',\n        };\n    };\n}\n\nartplayerPluginAliyundrive.env = process.env.NODE_ENV;\nartplayerPluginAliyundrive.version = process.env.APP_VER;\nartplayerPluginAliyundrive.build = process.env.BUILD_DATE;\n\nif (typeof document !== 'undefined') {\n    if (!document.getElementById('artplayer-plugin-aliyundrive')) {\n        const $style = document.createElement('style');\n        $style.id = 'artplayer-plugin-aliyundrive';\n        $style.textContent = style;\n        document.head.appendChild($style);\n    }\n}\n\nif (typeof window !== 'undefined') {\n    window['artplayerPluginAliyundrive'] = artplayerPluginAliyundrive;\n}\n","module.exports = \"15b2d952cfc074cb\";","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../../"}