{"mappings":"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","sources":["packages/artplayer-plugin-hls-quality/src/index.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-cdfe3d14efbab84d.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["import image from 'bundle-text:./image.svg';\n\nexport default function artplayerPluginHlsQuality(option) {\n    return (art) => {\n        const { $video } = art.template;\n        const { errorHandle } = art.constructor.utils;\n\n        function update() {\n            const hls = art.hls || window.hls;\n            errorHandle(hls && hls.media === $video, 'Cannot find instance of HLS from \"art.hls\" or \"window.hls\"');\n            const auto = option.auto || 'Auto';\n            const title = option.title || 'Quality';\n            const getResolution = option.getResolution || ((level) => (level.height || 'Unknown ') + 'P');\n            const defaultLevel = hls.levels[hls.currentLevel];\n            const defaultHtml = defaultLevel ? getResolution(defaultLevel) : auto;\n\n            if (option.control) {\n                art.controls.add({\n                    name: 'hls-quality',\n                    position: 'right',\n                    html: defaultHtml,\n                    style: { padding: '0 10px' },\n                    selector: hls.levels.map((item, index) => {\n                        return {\n                            html: getResolution(item),\n                            level: item.level || index,\n                            default: defaultLevel === item,\n                        };\n                    }),\n                    onSelect(item) {\n                        hls.nextLevel = item.level;\n                        return item.html;\n                    },\n                });\n            }\n\n            if (option.setting) {\n                art.setting.add({\n                    name: 'hls-quality',\n                    tooltip: defaultHtml,\n                    html: title,\n                    icon: image,\n                    width: 200,\n                    selector: hls.levels.map((item, index) => {\n                        return {\n                            html: getResolution(item),\n                            level: item.level || index,\n                            default: defaultLevel === item,\n                        };\n                    }),\n                    onSelect: function (item) {\n                        hls.nextLevel = item.level;\n                        return item.html;\n                    },\n                });\n            }\n        }\n\n        art.on('ready', update);\n\n        return {\n            name: 'artplayerPluginHlsQuality',\n        };\n    };\n}\n\nartplayerPluginHlsQuality.env = process.env.NODE_ENV;\nartplayerPluginHlsQuality.version = process.env.APP_VER;\nartplayerPluginHlsQuality.build = process.env.BUILD_DATE;\n\nif (typeof window !== 'undefined') {\n    window['artplayerPluginHlsQuality'] = artplayerPluginHlsQuality;\n}\n","module.exports = \"138ab730cddc3409\";","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../../"}