
/*!
 * artplayer-plugin-danmuku-mask.js v1.0.0
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2025 Harvey Zack
 * Released under the MIT License.
 */
!function(e,t,r,n,a,s,o,i){var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof c[n]&&c[n],l=u.i||{},p=u.cache||{},f="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,r){if(!p[t]){if(!e[t]){if(a[t])return a[t];var s="function"==typeof c[n]&&c[n];if(!r&&s)return s(t,!0);if(u)return u(t,!0);if(f&&"string"==typeof t)return f(t);var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}l.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},l.cache={};var i=p[t]=new d.Module(t);e[t][0].call(i.exports,l,i,i.exports,c)}return p[t].exports;function l(e){var t=l.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.require=f,this.exports={}},d.modules=e,d.cache=p,d.parent=u,d.distDir=void 0,d.publicUrl=void 0,d.devServer=void 0,d.i=l,d.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(d,"root",{get:function(){return c[n]}}),c[n]=d;for(var h=0;h<t.length;h++)d(t[h]);if(r){var m=d(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return m})}}({"1FGEJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"default",function(){return u});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("@tensorflow-models/body-segmentation"),c=e("@tensorflow/tfjs-core");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var r=t.template,n=r.$video,a=r.$danmuku,u=null,l=null,p=null,f=null,d=!1,h={solutionPath:e.solutionPath||"https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation",modelSelection:e.modelSelection||1,smoothSegmentation:void 0===e.smoothSegmentation||e.smoothSegmentation,minDetectionConfidence:e.minDetectionConfidence||.5,minTrackingConfidence:e.minTrackingConfidence||.5,selfieMode:e.selfieMode||!1,drawContour:e.drawContour||!1,foregroundThreshold:e.foregroundThreshold||.5,opacity:e.opacity||1,maskBlurAmount:e.maskBlurAmount||3};function m(){return(0,s._)(function(){return(0,o._)(this,function(e){switch(e.label){case 0:if(d)return[3,2];return[4,(0,s._)(function(){var e,t;return(0,o._)(this,function(r){switch(r.label){case 0:return[4,(0,s._)(function(){return(0,o._)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,c.setBackend("webgl")];case 1:case 3:return e.sent(),[3,4];case 2:return console.warn("WebGL backend not available, falling back to CPU",e.sent().message),[4,c.setBackend("cpu")];case 4:return[2]}})})()];case 1:r.sent(),e=i.SupportedModels.MediaPipeSelfieSegmentation,t={runtime:"mediapipe",modelType:"general",solutionPath:h.solutionPath,modelSelection:h.modelSelection,smoothSegmentation:h.smoothSegmentation,minDetectionConfidence:h.minDetectionConfidence,minTrackingConfidence:h.minTrackingConfidence,selfieMode:h.selfieMode},r.label=2;case 2:return r.trys.push([2,4,,5]),[4,i.createSegmenter(e,t)];case 3:return u=r.sent(),d=!0,[3,5];case 4:return console.error("Error initializing segmenter:",r.sent()),d=!1,[3,5];case 5:return[2]}})})()];case 1:e.sent(),e.label=2;case 2:return l||(p=(l=document.createElement("canvas")).getContext("2d")),Object.assign(a.style,{maskMode:"alpha",maskSize:"contain",maskRepeat:"no-repeat",backgroundSize:"contain",backgroundRepeat:"no-repeat"}),!function e(){return(0,s._)(function(){var t,r,s,c,m;return(0,o._)(this,function(o){switch(o.label){case 0:if(!d||n.paused||n.ended)return f=requestAnimationFrame(e),[2];o.label=1;case 1:return o.trys.push([1,5,,6]),l.width=n.videoWidth,l.height=n.videoHeight,[4,u.segmentPeople(n)];case 2:if(!(t=o.sent())||0===t.length)return f=requestAnimationFrame(e),[2];return r={r:255,g:255,b:255,a:255},s={r:0,g:0,b:0,a:255},[4,i.toBinaryMask(t,r,s,h.drawContour,h.foregroundThreshold)];case 3:return c=o.sent(),[4,i.drawMask(l,n,c,h.opacity,h.maskBlurAmount)];case 4:return o.sent(),m=p.getImageData(0,0,l.width,l.height),p.putImageData(function(e){for(var t=e.data,r=0;r<t.length;r+=4)t[r]>250&&t[r+1]>250&&t[r+2]>250&&(t[r+3]=0);return e}(m),0,0),a.style.maskImage="url(".concat(l.toDataURL(),")"),[3,6];case 5:return console.error("Error in segmentBody:",o.sent()),[3,6];case 6:return f=requestAnimationFrame(e),[2]}})})()}(),[2]}})})()}function g(){a.style.maskImage="none",f&&(cancelAnimationFrame(f),f=null)}return t.on("ready",m),t.on("destroy",g),{name:"artplayerPluginDanmukuMask",start:m,stop:g}}}e("@tensorflow/tfjs-backend-webgl"),e("@tensorflow/tfjs-backend-cpu"),"undefined"!=typeof window&&(window.artplayerPluginDanmukuMask=u)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","@tensorflow-models/body-segmentation":"8yK79","@tensorflow/tfjs-core":"aOH7b","@tensorflow/tfjs-backend-webgl":"8uAp9","@tensorflow/tfjs-backend-cpu":"5BQ3i","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cZn0e:[function(e,t,r,n){"use strict";function a(e,t,r,n,a,s,o){try{var i=e[s](o),c=i.value}catch(e){r(e);return}i.done?t(c):Promise.resolve(c).then(n,a)}r._=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var o=e.apply(t,r);function i(e){a(o,n,s,i,c,"next",e)}function c(e){a(o,n,s,i,c,"throw",e)}i(void 0)})}}},{}],eltGh:[function(e,t,r,n){"use strict";r._=e("eb260df52bffddd").__generator},{eb260df52bffddd:"6yrAu"}],"6yrAu":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"__extends",function(){return i}),a.export(r,"__assign",function(){return c}),a.export(r,"__rest",function(){return u}),a.export(r,"__decorate",function(){return l}),a.export(r,"__param",function(){return p}),a.export(r,"__esDecorate",function(){return f}),a.export(r,"__runInitializers",function(){return d}),a.export(r,"__propKey",function(){return h}),a.export(r,"__setFunctionName",function(){return m}),a.export(r,"__metadata",function(){return g}),a.export(r,"__awaiter",function(){return v}),a.export(r,"__generator",function(){return _}),a.export(r,"__createBinding",function(){return x}),a.export(r,"__exportStar",function(){return y}),a.export(r,"__values",function(){return b}),a.export(r,"__read",function(){return k}),a.export(r,"__spread",function(){return j}),a.export(r,"__spreadArrays",function(){return w}),a.export(r,"__spreadArray",function(){return I}),a.export(r,"__await",function(){return T}),a.export(r,"__asyncGenerator",function(){return S}),a.export(r,"__asyncDelegator",function(){return N}),a.export(r,"__asyncValues",function(){return M}),a.export(r,"__makeTemplateObject",function(){return C}),a.export(r,"__importStar",function(){return A}),a.export(r,"__importDefault",function(){return R}),a.export(r,"__classPrivateFieldGet",function(){return P}),a.export(r,"__classPrivateFieldSet",function(){return O}),a.export(r,"__classPrivateFieldIn",function(){return D}),a.export(r,"__addDisposableResource",function(){return B}),a.export(r,"__disposeResources",function(){return G}),a.export(r,"__rewriteRelativeImportExtension",function(){return L});var s=e("@swc/helpers/cjs/_type_of.cjs"),o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function u(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function l(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(("undefined"==typeof Reflect?"undefined":(0,s._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function p(e,t){return function(r,n){t(r,n,e)}}function f(e,t,r,n,a,o){function i(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var c,u=n.kind,l="getter"===u?"get":"setter"===u?"set":"value",p=!t&&e?n.static?e:e.prototype:null,f=t||(p?Object.getOwnPropertyDescriptor(p,n.name):{}),d=!1,h=r.length-1;h>=0;h--){var m={};for(var g in n)m[g]="access"===g?{}:n[g];for(var g in n.access)m.access[g]=n.access[g];m.addInitializer=function(e){if(d)throw TypeError("Cannot add initializers after decoration has completed");o.push(i(e||null))};var v=(0,r[h])("accessor"===u?{get:f.get,set:f.set}:f[l],m);if("accessor"===u){if(void 0===v)continue;if(null===v||(void 0===v?"undefined":(0,s._)(v))!=="object")throw TypeError("Object expected");(c=i(v.get))&&(f.get=c),(c=i(v.set))&&(f.set=c),(c=i(v.init))&&a.unshift(c)}else(c=i(v))&&("field"===u?a.unshift(c):f[l]=c)}p&&Object.defineProperty(p,n.name,f),d=!0}function d(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function h(e){return(void 0===e?"undefined":(0,s._)(e))==="symbol"?e:"".concat(e)}function m(e,t,r){return(void 0===t?"undefined":(0,s._)(t))==="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function g(e,t){if(("undefined"==typeof Reflect?"undefined":(0,s._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function v(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,i)}c((n=n.apply(e,t||[])).next())})}function _(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=i(0),o.throw=i(1),o.return=i(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){var u=[i,c];if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){s.label=u[1];break}if(6===u[0]&&s.label<a[1]){s.label=a[1],a=u;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(u);break}a[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}var x=Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function y(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||x(t,e,r)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return o}function j(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(k(arguments[t]));return e}function w(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],o=0,i=s.length;o<i;o++,a++)n[a]=s[o];return n}function I(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function S(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),s=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){a[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||i(e,t)})},t&&(n[e]=t(n[e])))}function i(e,t){try{var r;(r=a[e](t)).value instanceof T?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(e){l(s[0][3],e)}}function c(e){i("next",e)}function u(e){i("throw",e)}function l(e,t){e(t),s.shift(),s.length&&i(s[0][0],s[0][1])}}function N(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:T(e[n](t)),done:!1}:a?a(t):t}:a}}function M(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=b(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){var s,o,i;s=n,o=a,i=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:i})},o)})}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},F=function(e){return(F=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=F(e),n=0;n<r.length;n++)"default"!==r[n]&&x(t,e,r[n]);return E(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function O(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}function D(e,t){if(null===t||(void 0===t?"undefined":(0,s._)(t))!=="object"&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function B(e,t,r){if(null!=t){var n,a;if((void 0===t?"undefined":(0,s._)(t))!=="object"&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var V="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function G(e){function t(t){e.error=e.hasError?new V(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function a(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(e){return t(e),a()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function L(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,a,s){return r?t?".jsx":".js":!n||a&&s?n+a+"."+s.toLowerCase()+"js":e}):e}r.default={__extends:i,__assign:c,__rest:u,__decorate:l,__param:p,__esDecorate:f,__runInitializers:d,__propKey:h,__setFunctionName:m,__metadata:g,__awaiter:v,__generator:_,__createBinding:x,__exportStar:y,__values:b,__read:k,__spread:j,__spreadArrays:w,__spreadArray:I,__await:T,__asyncGenerator:S,__asyncDelegator:N,__asyncValues:M,__makeTemplateObject:C,__importStar:A,__importDefault:R,__classPrivateFieldGet:P,__classPrivateFieldSet:O,__classPrivateFieldIn:D,__addDisposableResource:B,__disposeResources:G,__rewriteRelativeImportExtension:L}},{"@swc/helpers/cjs/_type_of.cjs":"iXhRw","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iXhRw:[function(e,t,r,n){"use strict";r._=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}},{}],qpMMf:[function(e,t,r,n){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],"8yK79":[function(e,t,r,n){var a,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SupportedModels",function(){return eA}),s.export(r,"blurBodyPart",function(){return e$}),s.export(r,"bodyPixMaskValueToRainbowColor",function(){return y}),s.export(r,"createSegmenter",function(){return eP}),s.export(r,"drawBokehEffect",function(){return eY}),s.export(r,"drawMask",function(){return eQ}),s.export(r,"drawPixelatedMask",function(){return eJ}),s.export(r,"toBinaryMask",function(){return eX}),s.export(r,"toColoredMask",function(){return eZ});var o=e("@tensorflow/tfjs-core"),i=e("@tensorflow/tfjs-converter"),c=e("@mediapipe/selfie_segmentation"),u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function l(e,t){function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function f(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,i)}c((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){var c=[s,i];if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&c[0]?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],n=0}finally{r=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function h(e){return e instanceof SVGAnimatedLength?e.baseVal.value:e}function m(e){return f(this,void 0,void 0,function(){var t,r;return d(this,function(n){switch(n.label){case 0:return t=document.createElement("canvas"),e instanceof o.Tensor?[4,o.browser.toPixels(e,t)]:[3,2];case 1:return n.sent(),[3,3];case 2:t.width=h(e.width),t.height=h(e.height),r=t.getContext("2d"),e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0),n.label=3;case 3:return[2,t]}})})}function g(e){return f(this,void 0,void 0,function(){var t,r,n,a,s,i;return d(this,function(c){switch(c.label){case 0:return e instanceof o.Tensor?(r=(t=e.shape.slice(0,2))[0],n=t[1],a=ImageData.bind,[4,o.browser.toPixels(e)]):[3,2];case 1:return[2,new(a.apply(ImageData,[void 0,c.sent(),n,r]))];case 2:return i=(s=document.createElement("canvas")).getContext("2d"),s.width=h(e.width),s.height=h(e.height),i.drawImage(e,0,0),[2,i.getImageData(0,0,s.width,s.height)]}})})}function v(e){return f(this,void 0,void 0,function(){var t,r;return d(this,function(n){switch(n.label){case 0:return e instanceof SVGImageElement||e instanceof OffscreenCanvas?[4,m(e)]:[3,2];case 1:return r=n.sent(),[3,3];case 2:r=e,n.label=3;case 3:return t=r,[2,o.browser.fromPixels(t,4)]}})})}function _(e){if(e<0||e>=256)throw Error("Mask value must be in range [0, 255] but got "+e);if(!Number.isInteger(e))throw Error("Mask value must be an integer but got "+e)}var x=[[110,64,170],[143,61,178],[178,60,178],[210,62,167],[238,67,149],[255,78,125],[255,94,99],[255,115,75],[255,140,56],[239,167,47],[217,194,49],[194,219,64],[175,240,91],[135,245,87],[96,247,96],[64,243,115],[40,234,141],[28,219,169],[26,199,194],[33,176,213],[47,150,224],[65,125,224],[84,101,214],[99,81,195]];function y(e){if(_(e),e<x.length){var t=x[e];return{r:t[0],g:t[1],b:t[2],a:255}}throw Error("Mask value must be in range [0, "+x.length+")")}function b(e){var t=e.shape[2],r=(0,o.argMax)(e,2),n=(0,o.reshape)(r,[-1]);return(0,o.oneHot)(n,t)}function k(e,t){return(0,o.tidy)(function(){return(0,o.cast)((0,o.greater)(e,(0,o.scalar)(t)),"int32")})}var j=function(){function e(e,t){this.model=e,this.outputStride=t;var r=this.model.inputs[0].shape;o.util.assert(-1===r[1]&&-1===r[2],function(){return"Input shape ["+r[1]+", "+r[2]+"] must both be equal to or -1"})}return e.prototype.predict=function(e){var t=this;return(0,o.tidy)(function(){var r=t.preprocessInput((0,o.cast)(e,"float32")),n=(0,o.expandDims)(r,0),a=t.model.predict(n).map(function(e){return(0,o.squeeze)(e,[0])}),s=t.nameOutputResults(a);return{heatmapScores:(0,o.sigmoid)(s.heatmap),offsets:s.offsets,displacementFwd:s.displacementFwd,displacementBwd:s.displacementBwd,segmentation:s.segmentation,partHeatmaps:s.partHeatmaps,longOffsets:s.longOffsets,partOffsets:s.partOffsets}})},e.prototype.dispose=function(){this.model.dispose()},e}(),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.preprocessInput=function(e){return(0,o.tidy)(function(){return(0,o.sub)((0,o.div)(e,127.5),1)})},t.prototype.nameOutputResults=function(e){return{offsets:e[0],segmentation:e[1],partHeatmaps:e[2],longOffsets:e[3],heatmap:e[4],displacementFwd:e[5],displacementBwd:e[6],partOffsets:e[7]}},t}(j),I=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],T=I.length,S=I.reduce(function(e,t,r){return e[t]=r,e},{});function N(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1],i=r.top,c=r.bottom;return[o/(r.left+r.right+a),s/(i+c+n)]}function M(e,t,r,n){return{y:n.get(e,t,r),x:n.get(e,t,r+T)}}function C(e,t,r){var n=M(e.heatmapY,e.heatmapX,e.id,r),a=n.y,s=n.x;return{x:e.heatmapX*t+s,y:e.heatmapY*t+a}}function E(e,t){return{x:e.x+t.x,y:e.y+t.y}}function F(e,t,r,n,a,s,o,i,c,u){for(var l=a[0],p=a[1],f=s[0],d=s[1],h=i[0],m=i[1],g=[],v=function(e){var t,r,n,a,s,o,i;return t=[l,p],r=[f,d],n=t[0],a=t[1],s=r[0],o=r[1],i=Math.round(((n+e.y+1)*o-1)/c),{x:Math.round(((a+e.x+1)*s-1)/c),y:i}},_=0;_<n;_++){var x=function(e,t,r,n,a,s,o){for(var i=o[0],c=o[1],u=r(e),l=u.y*n+u.x,p=a[2*l*T+t],f=a[T*(2*l+1)+t],d=e.y+p,h=e.x+f,m=0;m<s;m++){d=Math.min(d,i-1);var g=r({x:h=Math.min(h,c-1),y:d}),v=g.y*n+g.x;d+=p=a[2*v*T+t],h+=f=a[T*(2*v+1)+t]}return{x:h,y:d}}(e,_,v,o,t,u,[h,m]);g.push(x)}for(var y=-1,b=1/0,k=0;k<r.length;k++){var j=function(e,t,r){void 0===r&&(r=.3);for(var n=0,a=0,s=0;s<e.length;s++)t.keypoints[s].score>r&&(a+=1,n+=Math.pow(e[s].x-t.keypoints[s].position.x,2)+Math.pow(e[s].y-t.keypoints[s].position.y,2));return 0===a?n=1/0:n/=a,n}(g,r[k]);j<b&&(y=k,b=j)}return y}function A(e,t){var r=e[0];return[Math.round((e[1]-1)/t+1),Math.round((r-1)/t+1)]}function R(e,t,r,n,a,s,i,c,u,l,p){for(var f=i[0],d=i[1],h=e.shape,m=h[0],g=h[1],v=t.shape.slice(0,2),_=v[0],x=v[1],y=(0,o.reshape)(t,[_,x,2,T]),b=new Float32Array(p*T*3).fill(0),k=0;k<r.length;k++)for(var j=k*T*3,w=r[k],I=0;I<T;I++){var S=w.keypoints[I],M=j+3*I;b[M]=S.score,b[M+1]=S.position.y,b[M+2]=S.position.x}var C=N([n,a],[f,d],c),E=C[0],F=C[1],A=(0,o.tensor)(b,[p,T,3]),R=c.top,P=c.left,O={variableNames:["segmentation","longOffsets","poses"],outputShape:[m,g],userCode:"\n int convertToPositionInOutput(int pos, int pad, float scale, int stride) {\n return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));\n }\n\n float convertToPositionInOutputFloat(\n int pos, int pad, float scale, int stride) {\n return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);\n }\n\n float dist(float x1, float y1, float x2, float y2) {\n return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);\n }\n\n float sampleLongOffsets(float h, float w, int d, int k) {\n float fh = fract(h);\n float fw = fract(w);\n int clH = int(ceil(h));\n int clW = int(ceil(w));\n int flH = int(floor(h));\n int flW = int(floor(w));\n float o11 = getLongOffsets(flH, flW, d, k);\n float o12 = getLongOffsets(flH, clW, d, k);\n float o21 = getLongOffsets(clH, flW, d, k);\n float o22 = getLongOffsets(clH, clW, d, k);\n float o1 = mix(o11, o12, fw);\n float o2 = mix(o21, o22, fw);\n return mix(o1, o2, fh);\n }\n\n int findNearestPose(int h, int w) {\n float prob = getSegmentation(h, w);\n if (prob < 1.0) {\n return -1;\n }\n\n // Done(Tyler): convert from output space h/w to strided space.\n float stridedH = convertToPositionInOutputFloat(\n h, "+R+", "+F+", "+s+");\n float stridedW = convertToPositionInOutputFloat(\n w, "+P+", "+E+", "+s+");\n\n float minDist = 1000000.0;\n int iMin = -1;\n for (int i = 0; i < "+p+"; i++) {\n float curDistSum = 0.0;\n int numKpt = 0;\n for (int k = 0; k < "+T+"; k++) {\n float dy = sampleLongOffsets(stridedH, stridedW, 0, k);\n float dx = sampleLongOffsets(stridedH, stridedW, 1, k);\n\n float y = float(h) + dy;\n float x = float(w) + dx;\n\n for (int s = 0; s < "+u+"; s++) {\n int yRounded = round(min(y, float("+(n-1)+")));\n int xRounded = round(min(x, float("+(a-1)+")));\n\n float yStrided = convertToPositionInOutputFloat(\n yRounded, "+R+", "+F+", "+s+");\n float xStrided = convertToPositionInOutputFloat(\n xRounded, "+P+", "+E+", "+s+");\n\n float dy = sampleLongOffsets(yStrided, xStrided, 0, k);\n float dx = sampleLongOffsets(yStrided, xStrided, 1, k);\n\n y = y + dy;\n x = x + dx;\n }\n\n float poseScore = getPoses(i, k, 0);\n float poseY = getPoses(i, k, 1);\n float poseX = getPoses(i, k, 2);\n if (poseScore >"+l+") {\n numKpt = numKpt + 1;\n curDistSum = curDistSum + dist(x, y, poseX, poseY);\n }\n }\n if (numKpt > 0 && curDistSum / float(numKpt)< minDist) {\n minDist = curDistSum / float(numKpt);\n iMin = i;\n }\n }\n return iMin;\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int nearestPose = findNearestPose(coords[0], coords[1]);\n setOutput(float(nearestPose));\n }\n "};return(0,o.backend)().compileAndRun(O,[e,y,A])}function P(){return"webgl"===(0,o.getBackend)()}function O(e){return Math.floor(e/2)}[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map(function(e){var t=e[0],r=e[1];return[S[t],S[r]]});var D=function(){function e(e,t){this.priorityQueue=Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return -1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(O(e),e);)this.exchange(e,O(e)),e=O(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var r=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=r},e}(),B=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map(function(e){var t=e[0],r=e[1];return[S[t],S[r]]}),V=B.map(function(e){return e[1]}),G=B.map(function(e){return e[0]});function L(e,t,r,n){var a,s,o,i;return{y:(a=Math.round(e.y/t),s=r-1,a<0?0:a>s?s:a),x:(o=Math.round(e.x/t),i=n-1,o<0?0:o>i?i:o)}}function q(e,t,r,n,a,s,o,i){void 0===i&&(i=2);for(var c,u,l=n.shape,p=l[0],f=l[1],d=(c=L(t.position,s,p,f),u=o.shape[2]/2,{y:o.get(c.y,c.x,e),x:o.get(c.y,c.x,u+e)}),h=E(t.position,d),m=0;m<i;m++){var g=L(h,s,p,f),v=M(g.y,g.x,r,a);h=E({x:g.x*s,y:g.y*s},{x:v.x,y:v.y})}var _=L(h,s,p,f),x=n.get(_.y,_.x,r);return{position:h,part:I[r],score:x}}function z(e,t,r,n){var a=r.x,s=r.y;return e.some(function(e){var r,o,i,c,u=e.keypoints[n].position;return r=u.y,o=u.x,(i=r-s)*i+(c=o-a)*c<=t})}function U(e,t,r,n,a,s,o,i){void 0===o&&(o=.5),void 0===i&&(i=20);for(var c=[],u=function(e,t,r){for(var n=r.shape,a=n[0],s=n[1],o=n[2],i=new D(a*s*o,function(e){return e.score}),c=0;c<a;++c)for(var u=0;u<s;++u)for(var l=0;l<o;++l){var p=r.get(c,u,l);p<e||function(e,t,r,n,a,s){for(var o=s.shape,i=o[0],c=o[1],u=!0,l=Math.max(r-1,0),p=Math.min(r+a+1,i),f=l;f<p;++f){for(var d=Math.max(n-a,0),h=Math.min(n+a+1,c),m=d;m<h;++m)if(s.get(f,m,e)>t){u=!1;break}if(!u)break}return u}(l,p,c,u,1,r)&&i.enqueue({score:p,part:{heatmapY:c,heatmapX:u,id:l}})}return i}(o,0,e),l=i*i;c.length<s&&!u.empty();){var p=u.dequeue();if(!z(c,l,C(p.part,a,t),p.part.id)){var f=function(e,t,r,n,a,s){var o=t.shape[2],i=V.length,c=Array(o),u=e.part,l=e.score,p=C(u,n,r);c[u.id]={score:l,part:I[u.id],position:p};for(var f=i-1;f>=0;--f){var d=V[f],h=G[f];c[d]&&!c[h]&&(c[h]=q(f,c[d],h,t,r,n,s))}for(f=0;f<i;++f)d=G[f],h=V[f],c[d]&&!c[h]&&(c[h]=q(f,c[d],h,t,r,n,a));return c}(p,e,t,a,r,n),d=function(e,t,r){return r.reduce(function(r,n,a){var s=n.position,o=n.score;return z(e,t,s,a)||(r+=o),r},0)/r.length}(c,l,f);c.push({keypoints:f,score:d})}}return c}var H,W=[-123.15,-115.9,-103.06],K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.preprocessInput=function(e){return(0,o.add)(e,W)},t.prototype.nameOutputResults=function(e){var t=e[0],r=e[1],n=e[2],a=e[3],s=e[4],o=e[5];return{offsets:s,segmentation:e[6],partHeatmaps:o,longOffsets:a,heatmap:n,displacementFwd:r,displacementBwd:t,partOffsets:e[7]}},t}(j),X="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",Z="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function Q(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw Error("HTMLImageElement must have height and width attributes set.")}if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth];if(e instanceof o.Tensor)return[e.shape[0],e.shape[1]];throw Error("error: Unknown input type: "+e+".")}function J(e,t){return(e-1)%t==0?e:Math.floor(e/t)*t+1}var Y={low:"low",medium:"medium",high:"high",full:"full"},$=((H={})[Y.low]=.25,H[Y.medium]=.5,H[Y.high]=.75,H[Y.full]=1,H);function ee(e,t,r){var n=r[0],a=r[1],s=function(e){if("string"==typeof e){var t=$[e];return o.util.assert("number"==typeof t,function(){return"string value of inputResolution must be one of "+Object.values(Y).join(",")+" but was "+e+"."}),t}return o.util.assert("number"==typeof e&&e<=2&&e>=.1,function(){return"inputResolution must be a string or number between 0.1 and 2, but was "+e}),e}(e);return[J(n*s,t),J(a*s,t)]}function et(e,t,r,n,a){var s=t[0],i=t[1],c=r[0],u=r[1],l=n[0],p=l[0],f=l[1],d=n[1],h=d[0],m=d[1];return void 0===a&&(a=!1),(0,o.tidy)(function(){var t,r,n,l,d,g,v,_,x,y,b,k=o.image.resizeBilinear(e,[c,u],!0);return a&&(k=(0,o.sigmoid)(k)),t=k,r=[s,i],n=[[p,f],[h,m]],l=r[0],d=r[1],v=(g=n[0])[0],_=g[1],y=(x=n[1])[0],b=x[1],(0,o.tidy)(function(){var e=(0,o.expandDims)(t);return(0,o.squeeze)(o.image.cropAndResize(e,[[v/(l+v+_-1),y/(d+y+b-1),(v+l-1)/(l+v+_-1),(y+d-1)/(d+y+b-1)]],[0],[l,d]),[0])})})}function er(e,t){var r=t[0],n=t[1],a=Q(e),s=a[0],i=a[1],c=n/r,u=0,l=0,p=0,f=0;return i/s<c?(u=0,l=0,p=Math.round(.5*(c*s-i)),f=Math.round(.5*(c*s-i))):(u=Math.round(.5*(1/c*i-s)),l=Math.round(.5*(1/c*i-s)),p=0,f=0),{resized:(0,o.tidy)(function(){var t=e instanceof o.Tensor?e:o.browser.fromPixels(e);return t=(0,o.pad3d)(t,[[u,l],[p,f],[0,0]]),o.image.resizeBilinear(t,[r,n])}),padding:{top:u,left:p,right:f,bottom:l}}}function en(e){return f(this,void 0,void 0,function(){return d(this,function(t){return[2,Promise.all(e.map(function(e){return e.buffer()}))]})})}function ea(e,t,r,n,a){var s,o,i,c,u=t[0],l=t[1],p=r[0],f=r[1],d=(s=(u+n.top+n.bottom)/p,o=(l+n.left+n.right)/f,i=-n.top,c=-n.left,void 0===i&&(i=0),void 0===c&&(c=0),1===o&&1===s&&0===i&&0===c?e:e.map(function(e){var t,r;return void 0===(t=i)&&(t=0),void 0===(r=c)&&(r=0),{score:e.score,keypoints:e.keypoints.map(function(e){var n=e.score,a=e.part,i=e.position;return{score:n,part:a,position:{x:i.x*o+r,y:i.y*s+t}}})}}));return a?l<=0?d:d.map(function(e){return{score:e.score,keypoints:e.keypoints.map(function(e){var t=e.score,r=e.part,n=e.position;return{score:t,part:r,position:{x:l-1-n.x,y:n.y}}})}}):d}var es={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},eo=["MobileNetV1","ResNet50"],ei={MobileNetV1:[8,16,32],ResNet50:[32,16]},ec={MobileNetV1:[.5,.75,1],ResNet50:[1]},eu=[1,2,4],el={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},ep={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function ef(e){var t=e.segmentationThreshold,r=e.maxDetections,n=e.scoreThreshold,a=e.nmsRadius;if(t<0||t>1)throw Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(r<=0)throw Error("Invalid maxDetections "+r+". Should be >0");if(n<0||n>1)throw Error("Invalid scoreThreshold "+n+". Should be in range [0.0, 1.0]");if(a<=0)throw Error("Invalid nmsRadius "+a+".")}function ed(e){var t=e.segmentationThreshold,r=e.maxDetections,n=e.scoreThreshold,a=e.nmsRadius,s=e.minKeypointScore,o=e.refineSteps;if(t<0||t>1)throw Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(r<=0)throw Error("Invalid maxDetections "+r+". Should be >0");if(n<0||n>1)throw Error("Invalid scoreThreshold "+n+". Should be in range [0.0, 1.0]");if(a<=0)throw Error("Invalid nmsRadius "+a+".");if(s<0||s>1)throw Error("Invalid minKeypointScore "+s+".Should be in range [0.0, 1.0]");if(o<=0||o>20)throw Error("Invalid refineSteps "+o+".Should be in range [1, 20]")}var eh=function(){function e(e){this.baseModel=e}return e.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},e.prototype.segmentPersonActivation=function(e,t,r){var n=this;void 0===r&&(r=.5);var a=Q(e),s=a[0],i=a[1],c=ee(t,this.baseModel.outputStride,[s,i]),u=er(e,c),l=u.resized,p=u.padding,f=(0,o.tidy)(function(){var e=n.predictForPersonSegmentation(l),t=e.segmentLogits,a=e.heatmapScores,c=e.offsets,u=e.displacementFwd,f=e.displacementBwd,d=l.shape,h=et(t,[s,i],[d[0],d[1]],[[p.top,p.bottom],[p.left,p.right]],!0);return{segmentation:k((0,o.squeeze)(h),r),heatmapScores:a,offsets:c,displacementFwd:u,displacementBwd:f}}),d=f.segmentation,h=f.heatmapScores,m=f.offsets,g=f.displacementFwd,v=f.displacementBwd;return l.dispose(),{segmentation:d,heatmapScores:h,offsets:m,displacementFwd:g,displacementBwd:v,padding:p,internalResolutionHeightAndWidth:c}},e.prototype.segmentPerson=function(e,t){return void 0===t&&(t=el),f(this,void 0,void 0,function(){var r,n,a,s,o,i,c,u,l,f,h,m,g,v,_,x;return d(this,function(d){switch(d.label){case 0:return ef(t=p(p({},el),t)),n=(r=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold)).segmentation,a=r.heatmapScores,s=r.offsets,o=r.displacementFwd,i=r.displacementBwd,c=r.padding,u=r.internalResolutionHeightAndWidth,f=(l=n.shape)[0],h=l[1],[4,n.data()];case 1:return m=d.sent(),n.dispose(),[4,en([a,s,o,i])];case 2:return v=(g=d.sent())[0],_=g[1],x=ea(x=U(v,_,g[2],g[3],this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,h],u,c,!1),a.dispose(),s.dispose(),o.dispose(),i.dispose(),[2,{height:f,width:h,data:m,allPoses:x}]}})})},e.prototype.segmentMultiPerson=function(e,t){return void 0===t&&(t=ep),f(this,void 0,void 0,function(){var r,n,a,s,i,c,u,l,h,m,g,v,_,x,y,b,j,w,I,T=this;return d(this,function(S){switch(S.label){case 0:return ed(t=p(p({},ep),t)),n=(r=Q(e))[0],a=r[1],c=(i=er(e,s=ee(t.internalResolution,this.baseModel.outputStride,[n,a]))).resized,u=i.padding,h=(l=(0,o.tidy)(function(){var e=T.predictForMultiPersonInstanceSegmentationAndPart(c),r=e.segmentLogits,i=e.longOffsets,l=e.heatmapScores,p=e.offsets,f=e.displacementFwd,d=e.displacementBwd,h=et(r,[n,a],s,[[u.top,u.bottom],[u.left,u.right]],!0);return{segmentation:k((0,o.squeeze)(h),t.segmentationThreshold),longOffsets:i,heatmapScoresRaw:l,offsetsRaw:p,displacementFwdRaw:f,displacementBwdRaw:d}})).segmentation,m=l.longOffsets,g=l.heatmapScoresRaw,v=l.offsetsRaw,_=l.displacementFwdRaw,x=l.displacementBwdRaw,[4,en([g,v,_,x])];case 1:return b=(y=S.sent())[0],j=y[1],w=ea(w=U(b,j,y[2],y[3],this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[n,a],s,u,!1),[4,function(e,t,r,n,a,s,i,c,u,l,p,h){var m=i[0],g=i[1];return void 0===u&&(u=.2),void 0===l&&(l=8),void 0===p&&(p=.3),void 0===h&&(h=10),f(this,void 0,void 0,function(){var i,f,v,_,x;return d(this,function(d){switch(d.label){case 0:return i=r.filter(function(e){return e.score>=u}),P()?[4,Promise.all((v=(0,o.tidy)(function(){var r=R(e,t,i,n,a,s,[m,g],c,l,p,h),u=(0,o.engine)().makeTensorFromDataId(r.dataId,r.shape,r.dtype);return i.map(function(e,t){return(0,o.tidy)(function(){return(0,o.cast)((0,o.equal)(u,(0,o.scalar)(t)),"int32")})})})).map(function(e){return e.data()}))]:[3,2];case 1:return f=d.sent(),v.forEach(function(e){return e.dispose()}),[3,5];case 2:return[4,e.data()];case 3:return _=d.sent(),[4,t.data()];case 4:x=d.sent(),f=function(e,t,r,n,a,s,o,i,c,u){var l=o[0],p=o[1];void 0===u&&(u=5);for(var f=r.map(function(e){return new Uint8Array(n*a).fill(0)}),d=i.top,h=i.left,m=N([n,a],[l,p],i),g=m[0],v=m[1],_=A([l,p],s)[0],x=0;x<n;x+=1)for(var y=0;y<a;y+=1){var b=x*a+y;if(1===e[b]){var k=F({x:y,y:x},t,r,u,[d,h],[g,v],_,[n,a],s,c);k>=0&&(f[k][b]=1)}}return f}(_,x,i,n,a,s,[m,g],c,l),d.label=5;case 5:return[2,f.map(function(e,t){return{data:e,pose:i[t],width:a,height:n}})]}})})}(h,m,w,n,a,this.baseModel.outputStride,s,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return I=S.sent(),c.dispose(),h.dispose(),m.dispose(),g.dispose(),v.dispose(),_.dispose(),x.dispose(),[2,I]}})})},e.prototype.segmentPersonPartsActivation=function(e,t,r){var n=this;void 0===r&&(r=.5);var a=Q(e),s=a[0],i=a[1],c=ee(t,this.baseModel.outputStride,[s,i]),u=er(e,c),l=u.resized,p=u.padding,f=(0,o.tidy)(function(){var e,t,a,c,u,f=n.predictForPersonSegmentationAndPart(l),d=f.segmentLogits,h=f.partHeatmapLogits,m=f.heatmapScores,g=f.offsets,v=f.displacementFwd,_=f.displacementBwd,x=l.shape,y=x[0],j=x[1],w=et(d,[s,i],[y,j],[[p.top,p.bottom],[p.left,p.right]],!0),I=et(h,[s,i],[y,j],[[p.top,p.bottom],[p.left,p.right]],!0);return{partSegmentation:(e=k((0,o.squeeze)(w),r),a=(t=I.shape)[0],c=t[1],u=t[2],(0,o.tidy)(function(){var t=b(I),r=(0,o.expandDims)((0,o.range)(0,u,1,"int32"),1),n=(0,o.cast)((0,o.matMul)(t,r),"int32"),s=(0,o.reshape)(n,[a,c]),i=(0,o.add)(s,(0,o.scalar)(1,"int32"));return(0,o.sub)((0,o.mul)(i,e),(0,o.scalar)(1,"int32"))})),heatmapScores:m,offsets:g,displacementFwd:v,displacementBwd:_}}),d=f.partSegmentation,h=f.heatmapScores,m=f.offsets,g=f.displacementFwd,v=f.displacementBwd;return l.dispose(),{partSegmentation:d,heatmapScores:h,offsets:m,displacementFwd:g,displacementBwd:v,padding:p,internalResolutionHeightAndWidth:c}},e.prototype.segmentPersonParts=function(e,t){return void 0===t&&(t=el),f(this,void 0,void 0,function(){var r,n,a,s,o,i,c,u,l,f,h,m,g,v,_,x;return d(this,function(d){switch(d.label){case 0:return ef(t=p(p({},el),t)),n=(r=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold)).partSegmentation,a=r.heatmapScores,s=r.offsets,o=r.displacementFwd,i=r.displacementBwd,c=r.padding,u=r.internalResolutionHeightAndWidth,f=(l=n.shape)[0],h=l[1],[4,n.data()];case 1:return m=d.sent(),n.dispose(),[4,en([a,s,o,i])];case 2:return v=(g=d.sent())[0],_=g[1],x=ea(x=U(v,_,g[2],g[3],this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,h],u,c,!1),a.dispose(),s.dispose(),o.dispose(),i.dispose(),[2,{height:f,width:h,data:m,allPoses:x}]}})})},e.prototype.segmentMultiPersonParts=function(e,t){return void 0===t&&(t=ep),f(this,void 0,void 0,function(){var r,n,a,s,i,c,u,l,h,m,g,v,_,x,y,j,w,I,T,S,M=this;return d(this,function(C){switch(C.label){case 0:return ed(t=p(p({},ep),t)),n=(r=Q(e))[0],a=r[1],c=(i=er(e,s=ee(t.internalResolution,this.baseModel.outputStride,[n,a]))).resized,u=i.padding,h=(l=(0,o.tidy)(function(){var e,r,i,l,p=M.predictForMultiPersonInstanceSegmentationAndPart(c),f=p.segmentLogits,d=p.longOffsets,h=p.heatmapScores,m=p.offsets,g=p.displacementFwd,v=p.displacementBwd,_=p.partHeatmaps,x=et(f,[n,a],s,[[u.top,u.bottom],[u.left,u.right]],!0),y=et(_,[n,a],s,[[u.top,u.bottom],[u.left,u.right]],!0);return{segmentation:k((0,o.squeeze)(x),t.segmentationThreshold),longOffsets:d,heatmapScoresRaw:h,offsetsRaw:m,displacementFwdRaw:g,displacementBwdRaw:v,partSegmentation:(r=(e=y.shape)[0],i=e[1],l=e[2],(0,o.tidy)(function(){var e=b(y),t=(0,o.expandDims)((0,o.range)(0,l,1,"int32"),1),n=(0,o.cast)((0,o.matMul)(e,t),"int32");return(0,o.reshape)(n,[r,i])}))}})).segmentation,m=l.longOffsets,g=l.heatmapScoresRaw,v=l.offsetsRaw,_=l.displacementFwdRaw,x=l.displacementBwdRaw,y=l.partSegmentation,[4,en([g,v,_,x])];case 1:return w=(j=C.sent())[0],I=j[1],T=ea(T=U(w,I,j[2],j[3],this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[n,a],s,u,!1),[4,function(e,t,r,n,a,s,i,c,u,l,p,h,m){var g=c[0],v=c[1];return void 0===l&&(l=.2),void 0===p&&(p=8),void 0===h&&(h=.3),void 0===m&&(m=10),f(this,void 0,void 0,function(){var c,f,_,x,y,b;return d(this,function(d){switch(d.label){case 0:return c=n.filter(function(e){return e.score>=l}),P()?[4,Promise.all((_=(0,o.tidy)(function(){var n=R(e,t,c,a,s,i,[g,v],u,p,h,m),l=(0,o.engine)().makeTensorFromDataId(n.dataId,n.shape,n.dtype);return c.map(function(e,t){return(0,o.tidy)(function(){return(0,o.sub)((0,o.mul)((0,o.cast)((0,o.equal)(l,(0,o.scalar)(t)),"int32"),(0,o.add)(r,1)),1)})})})).map(function(e){return e.data()}))]:[3,2];case 1:return f=d.sent(),_.forEach(function(e){return e.dispose()}),[3,6];case 2:return[4,e.data()];case 3:return x=d.sent(),[4,t.data()];case 4:return y=d.sent(),[4,r.data()];case 5:b=d.sent(),f=function(e,t,r,n,a,s,o,i,c,u,l){var p=i[0],f=i[1];void 0===l&&(l=5);for(var d=n.map(function(e){return new Int32Array(a*s).fill(-1)}),h=c.top,m=c.left,g=N([a,s],[p,f],c),v=g[0],_=g[1],x=A([p,f],o)[0],y=0;y<a;y+=1)for(var b=0;b<s;b+=1){var k=y*s+b;if(1===e[k]){var j=F({x:b,y:y},t,n,l,[h,m],[v,_],x,[a,s],o,u);j>=0&&(d[j][k]=r[k])}}return d}(x,y,b,c,a,s,i,[g,v],u,p),d.label=6;case 6:return[2,f.map(function(e,t){return{pose:c[t],data:e,height:a,width:s}})]}})})}(h,m,y,T,n,a,this.baseModel.outputStride,s,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return S=C.sent(),c.dispose(),h.dispose(),m.dispose(),g.dispose(),v.dispose(),_.dispose(),x.dispose(),y.dispose(),[2,S]}})})},e.prototype.dispose=function(){this.baseModel.dispose()},e}(),em=["left_face","right_face","left_upper_arm_front","left_upper_arm_back","right_upper_arm_front","right_upper_arm_back","left_lower_arm_front","left_lower_arm_back","right_lower_arm_front","right_lower_arm_back","left_hand","right_hand","torso_front","torso_back","left_upper_leg_front","left_upper_leg_back","right_upper_leg_front","right_upper_leg_back","left_lower_leg_front","left_lower_leg_back","right_lower_leg_front","right_lower_leg_back","left_feet","right_feet"],eg=function(){function e(e){this.mask=e}return e.prototype.toCanvasImageSource=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,m(this.mask)]})})},e.prototype.toImageData=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,this.mask]})})},e.prototype.toTensor=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,v(this.mask)]})})},e.prototype.getUnderlyingType=function(){return"imagedata"},e}();function ev(e){if(_(e),255!==e)throw Error("Foreground id must be 255 but got "+e);return"person"}function e_(e){if(_(e),e>=em.length)throw Error("Invalid body part value "+e);return em[e]}var ex=function(){function e(e){this.bodyPixModel=e}return e.prototype.segmentPeople=function(e,t){return f(this,void 0,void 0,function(){var r,n,a,s;return d(this,function(o){switch(o.label){case 0:return e instanceof ImageBitmap&&((r=document.createElement("canvas")).getContext("2d").drawImage(e,0,0),e=r),t.segmentBodyParts?t.multiSegmentation?[4,this.bodyPixModel.segmentMultiPersonParts(e,t)]:[3,2]:[3,5];case 1:return a=o.sent(),[3,4];case 2:return[4,this.bodyPixModel.segmentPersonParts(e,t)];case 3:a=[o.sent()],o.label=4;case 4:return n=a.map(function(e){var t=e.data,r=e.width,n=e.height,a=new Uint8ClampedArray(r*n*4).fill(0);return t.forEach(function(e,t){-1===e?(a[4*t]=em.length,a[4*t+3]=0):(a[4*t]=e,a[4*t+3]=255)}),{maskValueToLabel:e_,mask:new eg(new ImageData(a,r,n))}}),[3,10];case 5:return t.multiSegmentation?[4,this.bodyPixModel.segmentMultiPerson(e,t)]:[3,7];case 6:return s=o.sent(),[3,9];case 7:return[4,this.bodyPixModel.segmentPerson(e,t)];case 8:s=[o.sent()],o.label=9;case 9:n=s.map(function(e){var t=e.data,r=e.width,n=e.height,a=new Uint8ClampedArray(r*n*4).fill(0);return t.forEach(function(e,t){0===e?(a[4*t]=0,a[4*t+3]=0):(a[4*t]=255,a[4*t+3]=255)}),{maskValueToLabel:ev,mask:new eg(new ImageData(a,r,n))}}),o.label=10;case 10:return[2,n]}})})},e.prototype.dispose=function(){this.bodyPixModel.dispose()},e.prototype.reset=function(){},e}(),ey={runtime:"mediapipe",modelType:"general"},eb=function(){function e(e){this.mask=e}return e.prototype.toCanvasImageSource=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,this.mask]})})},e.prototype.toImageData=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,g(this.mask)]})})},e.prototype.toTensor=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,v(this.mask)]})})},e.prototype.getUnderlyingType=function(){return"canvasimagesource"},e}();function ek(e){return _(e),"person"}var ej=function(){function e(e){var t,r,n=this;this.selfieMode=!1,t=+(this.selfieSegmentationSolution=new(0,c.SelfieSegmentation)({locateFile:null!=(r=e.locateFile)?r:function(t,r){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+t:r+"/"+t}}),"landscape"===e.modelType),this.selfieSegmentationSolution.setOptions({modelSelection:t,selfieMode:this.selfieMode}),this.selfieSegmentationSolution.onResults(function(e){n.segmentation=[{maskValueToLabel:ek,mask:new eb(e.segmentationMask)}]})}return e.prototype.segmentPeople=function(e,t){return f(this,void 0,void 0,function(){var r,n;return d(this,function(a){switch(a.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.selfieSegmentationSolution.setOptions({selfieMode:this.selfieMode})),e instanceof o.Tensor?(n=ImageData.bind,[4,o.browser.toPixels(e)]):[3,2];case 1:return r=new(n.apply(ImageData,[void 0,a.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:r=e,a.label=3;case 3:return e=r,[4,this.selfieSegmentationSolution.send({image:e})];case 4:return a.sent(),[2,this.segmentation]}})})},e.prototype.dispose=function(){this.selfieSegmentationSolution.close()},e.prototype.reset=function(){this.selfieSegmentationSolution.reset(),this.segmentation=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.selfieSegmentationSolution.initialize()},e}();function ew(e){return e instanceof o.Tensor?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function eI(e,t){o.util.assert(0!==e.width,function(){return t+" width cannot be 0."}),o.util.assert(0!==e.height,function(){return t+" height cannot be 0."})}var eT={runtime:"tfjs",modelType:"general",modelUrl:"https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/general/1"},eS={flipHorizontal:!1},eN={outputTensorSize:{width:256,height:256},keepAspectRatio:!1,borderMode:"zero",outputTensorFloatRange:[0,1]},eM={outputTensorSize:{width:256,height:144},keepAspectRatio:!1,borderMode:"zero",outputTensorFloatRange:[0,1]},eC={activation:"none"},eE=function(){function e(e){this.mask=e}return e.prototype.toCanvasImageSource=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,m(this.mask)]})})},e.prototype.toImageData=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,g(this.mask)]})})},e.prototype.toTensor=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,this.mask]})})},e.prototype.getUnderlyingType=function(){return"tensor"},e}();function eF(e){return _(e),"person"}var eA,eR=function(){function e(e,t){this.modelType=e,this.model=t}return e.prototype.segmentPeople=function(e,t){return f(this,void 0,void 0,function(){var r=this;return d(this,function(n){return t=function(e){if(null==e)return p({},eS);var t=p({},e);return null==t.flipHorizontal&&(t.flipHorizontal=eS.flipHorizontal),t}(t),null==e?(this.reset(),[2,[]]):[2,[{maskValueToLabel:eF,mask:new eE((0,o.tidy)(function(){var t,n,a,s,i,c,u,l,p,f,d,h,m,g,v,_,x,y,b,k,j,w,I=(v=(t="general"===r.modelType?eN:eM).outputTensorSize,_=t.keepAspectRatio,x=t.borderMode,y=t.outputTensorFloatRange,j=function(e,t,r){if(void 0===r&&(r=!1),!r)return{top:0,left:0,right:0,bottom:0};var n=t.height,a=t.width;eI(t,"targetSize"),eI(e,"roi");var s,o,i=n/a,c=e.height/e.width,u=0,l=0;return i>c?(s=e.width,o=e.width*i,l=(1-c/i)/2):(s=e.height/i,o=e.height,u=(1-i/c)/2),e.width=s,e.height=o,{top:l,left:u,right:u,bottom:l}}((n=b=ew(e),k={xCenter:.5*n.width,yCenter:.5*n.height,width:n.width,height:n.height,rotation:0}),v,_),a=b.width,s=b.height,i=k.width,c=k.height,u=1,l=Math.cos(k.rotation),p=Math.sin(k.rotation),f=k.xCenter,d=k.yCenter,h=1/a,m=1/s,(g=Array(16))[0]=i*l*u*h,g[1]=-c*p*h,g[2]=0,g[3]=(-.5*i*l*u+.5*c*p+f)*h,g[4]=i*p*u*m,g[5]=c*l*m,g[6]=0,g[7]=(-.5*c*l-.5*i*p*u+d)*m,g[8]=0,g[9]=0,g[10]=i*h,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,w=function(e){if(16!==e.length)throw Error("Array length must be 16 but got "+e.length);return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(g),{imageTensor:(0,o.tidy)(function(){var t,r=e instanceof o.Tensor?e:o.browser.fromPixels(e),n=(0,o.tensor2d)((eI(v,"inputResolution"),[1/v.width*w[0][0]*b.width,1/v.height*w[0][1]*b.width,w[0][3]*b.width,1/v.width*w[1][0]*b.height,1/v.height*w[1][1]*b.height,w[1][3]*b.height,0,0]),[1,8]),a=o.image.transform((0,o.expandDims)((0,o.cast)(r,"float32")),n,"bilinear","zero"===x?"constant":"nearest",0,[v.height,v.width]);return null!=y?(t=function(e,t,r,n){!1;var a=(n-r)/255;return{scale:a,offset:r-e*a}}(0,0,y[0],y[1]),(0,o.tidy)(function(){return(0,o.add)((0,o.mul)(a,t.scale),t.offset)})):a}),padding:j,transformationMatrix:w}).imageTensor,T=(0,o.slice)(r.model.predict(I),[0,0,0,1],-1),S=ew(e),N=(0,o.tidy)(function(){var e=(0,o.squeeze)(T,[0]),t=e.shape[2];if(1===t){var r=e;switch(eC.activation){case"none":break;case"sigmoid":r=(0,o.sigmoid)(r);break;case"softmax":throw Error("Softmax activation requires two channels.");default:throw Error("Activation not supported ("+eC.activation+")")}var n=S?o.image.resizeBilinear(r,[S.height,S.width]):r;return(0,o.squeeze)(n,[2])}throw Error("Unsupported number of tensor channels "+t)}),M=(0,o.expandDims)(N,2),C=(0,o.pad)(M,[[0,0],[0,0],[0,1]]);return(0,o.mirrorPad)(C,[[0,0],[0,0],[0,2]],"symmetric")}))}]]})})},e.prototype.dispose=function(){this.model.dispose()},e.prototype.reset=function(){},e}();function eP(e,t){return f(this,void 0,void 0,function(){var r,n;return d(this,function(a){switch(e){case eA.MediaPipeSelfieSegmentation:if(r=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,function(e){return f(this,void 0,void 0,function(){var t,r,n;return d(this,function(a){switch(a.label){case 0:return r="string"==typeof(t=function(e){if(null==e)return p({},eT);var t=p({},e);if(t.runtime="tfjs",null==t.modelType&&(t.modelType=eT.modelType),"general"!==t.modelType&&"landscape"!==t.modelType)throw Error("Model type must be one of general or landscape, but got "+t.modelType);return null==t.modelUrl&&("general"===t.modelType?t.modelUrl="https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/general/1":t.modelUrl="https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/landscape/1"),t}(e)).modelUrl&&t.modelUrl.indexOf("https://tfhub.dev")>-1,[4,(0,i.loadGraphModel)(t.modelUrl,{fromTFHub:r})];case 1:return n=a.sent(),[2,new eR(t.modelType,n)]}})})}(n)];if("mediapipe"===n.runtime)return[2,function(e){return f(this,void 0,void 0,function(){var t;return d(this,function(r){switch(r.label){case 0:return[4,(t=new ej(function(e){if(null==e)return p({},ey);var t=p({},e);return t.runtime="mediapipe",null==t.modelType&&(t.modelType=ey.modelType),t}(e))).initialize()];case 1:return r.sent(),[2,t]}})})}(n)];r=n.runtime}throw Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r);case eA.BodyPix:return[2,function(e){return f(this,void 0,void 0,function(){return d(this,function(t){return[2,(function(e){return void 0===e&&(e=es),f(this,void 0,void 0,function(){return d(this,function(t){return"ResNet50"===(e=function(e){if(null==(e=e||es).architecture&&(e.architecture="MobileNetV1"),0>eo.indexOf(e.architecture))throw Error("Invalid architecture "+e.architecture+". Should be one of "+eo);if(null==e.outputStride&&(e.outputStride=16),0>ei[e.architecture].indexOf(e.outputStride))throw Error("Invalid outputStride "+e.outputStride+". Should be one of "+ei[e.architecture]+" for architecture "+e.architecture+".");if(null==e.multiplier&&(e.multiplier=1),0>ec[e.architecture].indexOf(e.multiplier))throw Error("Invalid multiplier "+e.multiplier+". Should be one of "+ec[e.architecture]+" for architecture "+e.architecture+".");if(null==e.quantBytes&&(e.quantBytes=4),0>eu.indexOf(e.quantBytes))throw Error("Invalid quantBytes "+e.quantBytes+". Should be one of "+eu+" for architecture "+e.architecture+".");return e}(e)).architecture?[2,function(e){return f(this,void 0,void 0,function(){var t,r,n;return d(this,function(a){switch(a.label){case 0:var s;if(t=e.outputStride,r=e.quantBytes,null==o)throw Error("Cannot find TensorFlow.js. If you are using a<script>tag, please also include @tensorflow/tfjs on the page before using this\n model.");return s="model-stride"+t+".json",n=4===r?X+"float/"+s:X+"quant"+r+"/"+s,[4,(0,i.loadGraphModel)(e.modelUrl||n)];case 1:return[2,new eh(new K(a.sent(),t))]}})})}(e)]:"MobileNetV1"===e.architecture?[2,function(e){return f(this,void 0,void 0,function(){var t,r,n,a;return d(this,function(s){switch(s.label){case 0:var c,u;if(t=e.outputStride,r=e.quantBytes,n=e.multiplier,null==o)throw Error("Cannot find TensorFlow.js. If you are using a<script>tag, please also include @tensorflow/tfjs on the page before using this\n model.");return c={1:"100",.75:"075",.5:"050"},u="model-stride"+t+".json",a=4===r?Z+"float/"+c[n]+"/"+u:Z+"quant"+r+"/"+c[n]+"/"+u,[4,(0,i.loadGraphModel)(e.modelUrl||a)];case 1:return[2,new eh(new w(s.sent(),t))]}})})}(e)]:[2,null]})})})(e).then(function(e){return new ex(e)})]})})}(n=t)];default:throw Error(e+" is not a supported model name.")}})})}(a=eA||(eA={})).BodyPix="BodyPix",a.MediaPipeSelfieSegmentation="MediaPipeSelfieSegmentation";var eO="blurred",eD="blurred-mask",eB="mask",eV={};function eG(e,t,r,n){var a=e.width,s=e.height,o=t.width,i=t.height;if(a!==o||s!==i)throw Error("error: dimensions must match. "+r+" has dimensions "+a+"x"+s+", "+n+" has dimensions "+o+"x"+i)}function eL(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw Error("HTMLImageElement must have height and width attributes set.")}if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth];if(e instanceof o.Tensor)return[e.shape[0],e.shape[1]];throw Error("error: Unknown input type: "+e+".")}function eq(e){return eV[e]||(eV[e]=function(){if("undefined"!=typeof document)return document.createElement("canvas");if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0);throw Error("Cannot create a canvas in this context")}()),eV[e]}function ez(e,t){var r=eq(t);return r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(e,0,0),r}function eU(e,t,r,n,a,s){return f(this,void 0,void 0,function(){var i,c,u;return d(this,function(l){switch(l.label){case 0:return t instanceof o.Tensor?[4,o.browser.toPixels(t)]:[3,2];case 1:i=l.sent(),u=(c=eL(t))[0],t=new ImageData(i,c[1],u),l.label=2;case 2:return t instanceof ImageData&&(t=ez(t,"draw-image")),null==a||null==s?e.drawImage(t,r,n):e.drawImage(t,r,n,a,s),[2]}})})}function eH(e){var t=e.getContext("2d");t.scale(-1,1),t.translate(-e.width,0)}function eW(e,t,r){return f(this,void 0,void 0,function(){return d(this,function(n){switch(n.label){case 0:return e.globalCompositeOperation=r,[4,eU(e,t,0,0)];case 1:return n.sent(),[2]}})})}function eK(e,t,r){return f(this,void 0,void 0,function(){var n;return d(this,function(a){switch(a.label){case 0:return n=eq(r),0!==t?[3,2]:[4,function(e,t){return f(this,void 0,void 0,function(){var r,n,a;return d(this,function(s){switch(s.label){case 0:return n=(r=eL(e))[0],t.width=a=r[1],t.height=n,[4,eU(t.getContext("2d"),e,0,0,a,n)];case 1:return s.sent(),[2]}})})}(e,n)];case 1:return a.sent(),[3,4];case 2:return[4,function(e,t,r){return f(this,void 0,void 0,function(){var n,a,s,o;return d(this,function(i){switch(i.label){case 0:return a=(n=eL(e))[0],s=n[1],o=r.getContext("2d"),r.width=s,r.height=a,o.clearRect(0,0,s,a),o.save(),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?[4,function(e,t,r){return f(this,void 0,void 0,function(){var n,a,s,o,i,c,u,l;return d(this,function(p){switch(p.label){case 0:for(n=e.getContext("2d"),a=0,o=1/(2*Math.PI*(s=5)*s),i=r<3?1:2,u=-r;u<=r;u+=i)for(l=-r;l<=r;l+=i)c=o*Math.exp(-(l*l+u*u)/(2*s*s)),a+=c;u=-r,p.label=1;case 1:if(!(u<=r))return[3,6];l=-r,p.label=2;case 2:return l<=r?(n.globalAlpha=o*Math.exp(-(l*l+u*u)/(2*s*s))/a*r,[4,eU(n,t,l,u)]):[3,5];case 3:p.sent(),p.label=4;case 4:return l+=i,[3,2];case 5:return u+=i,[3,1];case 6:return n.globalAlpha=1,[2]}})})}(r,e,t)]:[3,2];case 1:return i.sent(),[3,4];case 2:return o.filter="blur("+t+"px)",[4,eU(o,e,0,0,s,a)];case 3:i.sent(),i.label=4;case 4:return o.restore(),[2]}})})}(e,t,n)];case 3:a.sent(),a.label=4;case 4:return[2,n]}})})}function eX(e,t,r,n,a,s){return void 0===t&&(t={r:0,g:0,b:0,a:0}),void 0===r&&(r={r:0,g:0,b:0,a:255}),void 0===n&&(n=!1),void 0===a&&(a=.5),void 0===s&&(s=Array.from(Array(256).keys())),f(this,void 0,void 0,function(){var o,i,c,u,l,p,f,h,m,g,v,_,x,y;return d(this,function(d){switch(d.label){case 0:return 0===(o=Array.isArray(e)?e:[e]).length?[2,null]:[4,Promise.all(o.map(function(e){return e.mask.toImageData()}))];case 1:for(p=new Uint8ClampedArray((u=(c=(i=d.sent())[0]).width)*(l=c.height)*4),f=Math.round(255*a),h=Array(256).fill(!1),s.forEach(function(e){return h[e]=!0}),m=0;m<l;m++)for(g=0;g<u;g++)for(p[4*(v=m*u+g)+0]=r.r,p[4*v+1]=r.g,p[4*v+2]=r.b,p[4*v+3]=r.a,_=0,x=i;_<x.length;_++)h[(y=x[_]).data[4*v]]&&y.data[4*v+3]>=f&&(p[4*v]=t.r,p[4*v+1]=t.g,p[4*v+2]=t.b,p[4*v+3]=t.a,n&&m-1>=0&&m+1<l&&g-1>=0&&g+1<u&&function(e,t,r,n,a,s,o){void 0===o&&(o=1);for(var i=0,c=-o;c<=o;c++)for(var u=-o;u<=o;u++)if(0!==c&&0!==u){var l=(t+c)*n+(r+u);(!a[e[4*l]]||e[4*l+3]<s)&&(i+=1)}return i>0}(y.data,m,g,u,h,f)&&function(e,t,r,n,a,s){void 0===s&&(s={r:0,g:255,b:255,a:255});for(var o=-1;o<=1;o++)for(var i=-a;i<=a;i++)if(0!==o&&0!==i){var c=(t+o)*n+(r+i);e[4*c+0]=s.r,e[4*c+1]=s.g,e[4*c+2]=s.b,e[4*c+3]=s.a}}(p,m,g,u,1));return[2,new ImageData(p,u,l)]}})})}function eZ(e,t,r,n){return void 0===r&&(r={r:0,g:0,b:0,a:255}),void 0===n&&(n=.5),f(this,void 0,void 0,function(){var a,s,o,i,c,u,l,p,f,h,m,g,v;return d(this,function(d){switch(d.label){case 0:return 0===(a=Array.isArray(e)?e:[e]).length?[2,null]:[4,Promise.all(a.map(function(e){return e.mask.toImageData()}))];case 1:for(u=new Uint8ClampedArray((i=(o=(s=d.sent())[0]).width)*(c=o.height)*4),l=Math.round(255*n),p=0;p<c*i;++p)for(u[(f=4*p)+0]=r.r,u[f+1]=r.g,u[f+2]=r.b,u[f+3]=r.a,h=0,m=s;h<m.length;h++)(g=m[h]).data[f+3]>=l&&(v=t(g.data[f]),u[f+0]=v.r,u[f+1]=v.g,u[f+2]=v.b,u[f+3]=v.a);return[2,new ImageData(u,i,c)]}})})}function eQ(e,t,r,n,a,s){return void 0===n&&(n=.7),void 0===a&&(a=0),void 0===s&&(s=!1),f(this,void 0,void 0,function(){var o,i,c,u,l;return d(this,function(p){switch(p.label){case 0:return i=(o=eL(t))[0],e.width=c=o[1],e.height=i,(u=e.getContext("2d")).save(),s&&eH(e),[4,eU(u,t,0,0)];case 1:return p.sent(),u.globalAlpha=n,r?(eG({width:c,height:i},r,"image","mask"),[4,eK(ez(r,eB),a,eD)]):[3,3];case 2:l=p.sent(),u.drawImage(l,0,0,c,i),p.label=3;case 3:return u.restore(),[2]}})})}function eJ(e,t,r,n,a,s,o){return void 0===n&&(n=.7),void 0===a&&(a=0),void 0===s&&(s=!1),void 0===o&&(o=10),f(this,void 0,void 0,function(){var i,c,u,l,p,f,h;return d(this,function(d){switch(d.label){case 0:return c=(i=eL(t))[0],eG({width:i[1],height:c},r,"image","mask"),[4,eK(ez(r,eB),a,eD)];case 1:for(e.width=(u=d.sent()).width,e.height=u.height,(l=e.getContext("2d")).save(),s&&eH(e),f=(p=eq("lowres-part-mask")).getContext("2d"),p.width=u.width*(1/o),p.height=u.height*(1/o),f.drawImage(u,0,0,u.width,u.height,0,0,p.width,p.height),l.imageSmoothingEnabled=!1,l.drawImage(p,0,0,p.width,p.height,0,0,e.width,e.height),h=0;h<p.width;h++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(o*h,0),l.lineTo(o*h,e.height),l.stroke();for(h=0;h<p.height;h++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(0,o*h),l.lineTo(e.width,o*h),l.stroke();return l.globalAlpha=1-n,[4,eU(l,t,0,0,u.width,u.height)];case 2:return d.sent(),l.restore(),[2]}})})}function eY(e,t,r,n,a,s,o){return void 0===n&&(n=.5),void 0===a&&(a=3),void 0===s&&(s=3),void 0===o&&(o=!1),f(this,void 0,void 0,function(){var i,c,u,l,p,h;return d(this,function(m){switch(m.label){case 0:return[4,eK(t,a,eO)];case 1:return e.width=(i=m.sent()).width,e.height=i.height,c=e.getContext("2d"),Array.isArray(r)&&0===r.length?(c.drawImage(i,0,0),[2]):[4,function(e,t,r){return f(this,void 0,void 0,function(){var n;return d(this,function(a){switch(a.label){case 0:return[4,eX(e,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0},!1,t)];case 1:return n=ez(a.sent(),eB),0===r?[2,n]:[2,eK(n,r,eD)]}})})}(r,n,s)];case 2:return u=m.sent(),c.save(),o&&eH(e),p=(l=eL(t))[0],h=l[1],[4,eU(c,t,0,0,h,p)];case 3:return m.sent(),[4,eW(c,u,"destination-in")];case 4:return m.sent(),[4,eW(c,i,"destination-over")];case 5:return m.sent(),c.restore(),[2]}})})}function e$(e,t,r,n,a,s,o,i){return void 0===a&&(a=.5),void 0===s&&(s=3),void 0===o&&(o=3),void 0===i&&(i=!1),f(this,void 0,void 0,function(){var c,u,l,p,h,m;return d(this,function(g){switch(g.label){case 0:return[4,eK(t,s,eO)];case 1:return e.width=(c=g.sent()).width,e.height=c.height,u=e.getContext("2d"),Array.isArray(r)&&0===r.length?(u.drawImage(c,0,0),[2]):[4,function(e,t,r,n){return f(this,void 0,void 0,function(){var a;return d(this,function(s){switch(s.label){case 0:return[4,eX(e,{r:0,g:0,b:0,a:0},{r:0,g:0,b:0,a:255},!0,r,t)];case 1:return a=ez(s.sent(),eB),0===n?[2,a]:[2,eK(a,n,eD)]}})})}(r,n,a,o)];case 2:return l=g.sent(),u.save(),i&&eH(e),h=(p=eL(t))[0],m=p[1],[4,eU(u,t,0,0,m,h)];case 3:return g.sent(),[4,eW(u,l,"destination-in")];case 4:return g.sent(),[4,eW(u,c,"destination-over")];case 5:return g.sent(),u.restore(),[2]}})})}},{"@tensorflow/tfjs-core":"aOH7b","@tensorflow/tfjs-converter":"l959W","@mediapipe/selfie_segmentation":"8XgMo","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aOH7b:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),e("./base_side_effects");var s=e("./optimizers/register_optimizers"),o=e("./base");a.exportAll(o,r),(0,s.registerOptimizers)()},{"./base_side_effects":"g3FRJ","./optimizers/register_optimizers":"8ChYA","./base":"d8Ntd","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g3FRJ:[function(e,t,r,n){var a=e("./engine");e("./flags"),e("./platforms/platform_browser"),e("./platforms/platform_node");var s=e("./ops/buffer"),o=e("./ops/cast"),i=e("./ops/clone"),c=e("./ops/print"),u=e("./tensor");(0,a.getOrMakeEngine)();var l={buffer:s.buffer,cast:o.cast,clone:i.clone,print:c.print};(0,u.setOpHandler)(l)},{"./engine":"196sS","./flags":"9AT8z","./platforms/platform_browser":"h52CH","./platforms/platform_node":"gKufJ","./ops/buffer":"fzwwJ","./ops/cast":"lsee3","./ops/clone":"cGuJy","./ops/print":"5n0Bx","./tensor":"6gbjA"}],"196sS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Engine",function(){return j}),a.export(r,"getOrMakeEngine",function(){return w}),a.export(r,"ENGINE",function(){return I}),a.export(r,"add",function(){return T});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_to_consumable_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs"),l=e("./backends/backend"),p=e("./environment"),f=e("./global_util"),d=e("./kernel_names"),h=e("./kernel_registry"),m=e("./log"),g=e("./profiler"),v=e("./tape"),_=e("./tensor"),x=e("./tensor_util"),y=e("./util");function b(e){return null!=e.kernelName}var k=function(){"use strict";function e(){(0,o._)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(function(e){return e.name})))}}}return(0,i._)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),j=function(){"use strict";function e(t){(0,o._)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new k}return(0,i._)(e,[{key:"ready",value:function(){return(0,s._)(function(){var e,t,r;return(0,u._)(this,function(n){switch(n.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,n.label=1;case 1:if(!(t<e.length))return[3,5];return r=e[t],[4,this.initializeBackend(r).success];case 2:if(!n.sent())return[3,4];return[4,this.setBackend(r)];case 3:return n.sent(),[2];case 4:return t++,[3,1];case 5:throw Error("Could not initialize any backends, all backend initializations failed.")}})}).call(this)}},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;else if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(m.warn("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:r},!0)}},{key:"setBackend",value:function(e){return(0,s._)(function(){var t,r,n;return(0,u._)(this,function(a){switch(a.label){case 0:if(null==this.registryFactory[e])throw Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,null!=this.registry[e])return[3,4];if(this.backendInstance=null,r=(t=this.initializeBackend(e)).success,!t.asyncInit)return[3,2];return[4,r];case 1:return n=a.sent(),[3,3];case 2:n=r,a.label=3;case 3:if(!n)return[2,!1];a.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new(0,g.Profiler)(this.backendInstance),[2,!0]}})}).call(this)}},{key:"setupRegisteredKernels",value:function(){var e=this;(0,h.getKernelsForBackend)(this.backendName).forEach(function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)})}},{key:"disposeRegisteredKernels",value:function(e){var t=this;(0,h.getKernelsForBackend)(e).forEach(function(r){null!=r.disposeFunc&&r.disposeFunc(t.registry[e])})}},{key:"initializeBackend",value:function(e){var t=this,r=this.registryFactory[e];if(null==r)throw Error("Cannot initialize backend ".concat(e,", no registration found."));try{var n=r.factory();if(!n||n instanceof l.KernelBackend||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,s=n.then(function(r){return!(a<t.pendingBackendInitId)&&(t.registry[e]=r,t.pendingBackendInit=null,!0)}).catch(function(r){return!(a<t.pendingBackendInitId)&&(t.pendingBackendInit=null,m.warn("Initialization of backend ".concat(e," failed")),m.warn(r.stack||r.message),!1)});return this.pendingBackendInit=s,{success:s,asyncInit:!0}}catch(t){return m.warn("Initialization of backend ".concat(e," failed")),m.warn(t.stack||t.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,r){return e.registryFactory[r].priority-e.registryFactory[t].priority})}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var r=e[t],n=this.initializeBackend(r),a=n.success,s=n.asyncInit;if(s||a)return{name:r,asyncInit:s}}throw Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var r=this.state.tensorInfo.get(t),n=r.backend,a=this.readSync(t),s=n.refCount(t);n.disposeData(t,!0),r.backend=e,e.move(t,a,r.shape,r.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var r,n=this,a=null;if(null==t){if("function"!=typeof e)throw Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun(function(){return n.startScope(a)},function(){return n.endScope(r)},function(){return(r=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})}},{key:"scopedRun",value:function(e,t,r){e();try{var n=r();return t(),n}catch(e){throw t(),e}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=I.runKernel(d.Identity,{x:e});return this.addTapeNode(this.state.activeScope.name,{x:e},[t],function(e){return{x:function(){return I.runKernel(d.Cast,{x:e},{dtype:"float32"})}}},[],{}),t}},{key:"runKernel",value:function(e,t,r){if(null==this.backendName&&this.backend,null==(0,h.getKernel)(e,this.backendName))throw Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:r})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,r){var n=this.backend.numDataIds(),a=0;r.forEach(function(e){a+="complex64"===e.dtype?3:1});var s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=n-t-a-s;if(o>0)throw Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,r,n,a,s=this,o=[],i=this.isTapeOn(),c=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var l=b(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(b(e)){var p=e.kernelName,f=e.inputs,d=e.attrs;null==this.backendName&&this.backend;var m=(0,h.getKernel)(p,this.backendName);y.assert(null!=m,function(){return"Cannot find registered kernel '".concat(p,"' for backend '").concat(s.backendName,"'")}),r=function(){var e=s.backend.numDataIds(),t=Array.isArray(n=m.kernelFunc({inputs:f,attrs:d,backend:s.backend}))?n:[n];s.shouldCheckForMemLeaks()&&s.checkKernelForMemLeak(p,e,t);var r=t.map(function(e){return null!=e.rank?e:s.makeTensorFromTensorInfo(e)});if(i){var a=s.getTensorsForGradient(p,f,r);o=s.saveTensorsForBackwardMode(a)}return r}}else{var g=e.forwardFunc,v=function(e){i&&(o=e.map(function(e){return s.keep(s.clone(e))}))};r=function(){var e=s.backend.numDataIds(),t=Array.isArray(n=s.tidy(function(){return g(s.backend,v)}))?n:[n];return s.shouldCheckForMemLeaks()&&s.checkKernelForMemLeak(l,e,t),t}}var _=e.inputs,x=e.attrs,k=b(e)?null:e.backwardsFunc;return this.scopedRun(function(){return s.state.kernelDepth++},function(){return s.state.kernelDepth--},function(){s.ENV.getBool("DEBUG")||s.state.profiling?(a=s.profiler.profileKernel(l,_,function(){return r()}),s.ENV.getBool("DEBUG")&&s.profiler.logKernelProfile(a),t=a.outputs):t=r()}),i&&this.addTapeNode(l,_,t,k,o,x),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-c,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(_).map(function(e){return null!=_[e]?_[e].shape:null}),outputShapes:t.map(function(e){return e.shape}),kernelTimeMs:a.timeMs,extraInfo:a.extraInfo}),Array.isArray(n)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this;return e.map(function(e){return t.keep(t.clone(e))})}},{key:"getTensorsForGradient",value:function(e,t,r){var n=(0,h.getGradient)(e);if(null!=n){var a,s=n.inputsToSave||[],o=n.outputsToSave||[];n.saveAllInputs?(y.assert(Array.isArray(t),function(){return"saveAllInputs is true, expected inputs to be an array."}),a=Object.keys(t).map(function(e){return t[e]})):a=s.map(function(e){return t[e]});var i=r.filter(function(e,t){return o[t]});return a.concat(i)}return[]}},{key:"makeTensor",value:function(e,t,r,n){if(null==e)throw Error("Values passed to engine.makeTensor() are null");r=r||"float32",n=n||this.backend;var a=e;"string"===r&&y.isString(e[0])&&(a=e.map(function(e){return y.encodeString(e)}));var s=n.write(a,t,r),o=new(0,_.Tensor)(t,r,s,this.nextTensorId());if(this.trackTensor(o,n),"string"===r){var i=this.state.tensorInfo.get(s),c=(0,y.bytesFromStringArray)(a);this.state.numBytes+=c-i.bytes,i.bytes=c}return o}},{key:"makeTensorFromDataId",value:function(e,t,r,n){var a={dataId:e,shape:t,dtype:r=r||"float32"};return this.makeTensorFromTensorInfo(a,n)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var r=e.dataId,n=e.shape,a=e.dtype,s=new(0,_.Tensor)(n,a,r,this.nextTensorId());return this.trackTensor(s,t),s}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;r=r||this.nextVariableId().toString(),null!=n&&n!==e.dtype&&(e=e.cast(n));var a=new(0,_.Variable)(e,t,r,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*y.bytesPerElement(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof _.Variable||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var r=e.size*y.bytesPerElement(e.dtype);this.state.numBytes-=r}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(e){return(0,s._)(function(){var t,r,n,a,s,o,i,l,p,f,d;return(0,u._)(this,function(u){switch(u.label){case 0:return this.state.profiling=!0,r=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],a=this.state.activeProfile,[4,e()];case 1:a.result=u.sent(),this.state.profiling=!1,this.state.activeProfile.peakBytes=(t=Math).max.apply(t,(0,c._)(this.state.activeProfile.kernels.map(function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-n,s=!0,o=!1,i=void 0,u.label=2;case 2:u.trys.push([2,8,9,10]),l=this.state.activeProfile.kernels[Symbol.iterator](),u.label=3;case 3:if(s=(p=l.next()).done)return[3,7];return[4,(f=p.value).kernelTimeMs];case 4:return f.kernelTimeMs=u.sent(),[4,f.extraInfo];case 5:f.extraInfo=u.sent(),u.label=6;case 6:return s=!0,[3,3];case 7:return[3,10];case 8:return d=u.sent(),o=!0,i=d,[3,10];case 9:try{s||null==l.return||l.return()}finally{if(o)throw i}return[7];case 10:return[2,this.state.activeProfile]}})}).call(this)}},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,r,n,a,s){var o=this,i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:r,saved:a},c=(0,h.getGradient)(e);null!=c&&(n=c.gradFunc),null!=n&&(i.gradient=function(e){return e=e.map(function(e,t){if(null==e){var n=r[t],a=y.makeZerosTypedArray(n.size,n.dtype);return o.makeTensor(a,n.shape,n.dtype)}return e}),n(e.length>1?e:e[0],a,s)}),this.state.activeTape.push(i)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,r=(0,x.getTensorsInContainer)(e),n=new Set(r.map(function(e){return e.id})),a=0;a<this.state.activeScope.track.length;a++){var s=this.state.activeScope.track[a];s.kept||n.has(s.id)||s.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(e){e.kept||e.scopeId!==o.id||t.track(e)})}},{key:"gradients",value:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(y.assert(t.length>0,function(){return"gradients() received an empty list of xs."}),null!=r&&"float32"!==r.dtype)throw Error("dy must have 'float32' dtype, but has '".concat(r.dtype,"'"));var s=this.scopedRun(function(){return n.startTape()},function(){return n.endTape()},function(){return n.tidy("forward",e)});y.assert(s instanceof _.Tensor,function(){return"The result y returned by f() must be a tensor."});var o=(0,v.getFilteredNodesXToY)(this.state.activeTape,t,s);if(!a&&0===o.length&&t.length>0)throw Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var e,a,i={};i[s.id]=null==r?(e=s.shape,a=(0,y.makeOnesTypedArray)((0,y.sizeFromShape)(e),"float32"),I.makeTensor(a,e,"float32")):r,(0,v.backpropagateGradients)(i,o,function(e){return n.tidy(e)},T);var c=t.map(function(e){return i[e.id]});return 0===n.state.gradientDepth&&(n.state.activeTape.forEach(function(e){var t=!0,r=!1,n=void 0;try{for(var a,s=e.saved[Symbol.iterator]();!(t=(a=s.next()).done);t=!0)a.value.dispose()}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}),n.state.activeTape=null),{value:s,grads:c}})}},{key:"customGrad",value:function(e){var t=this;return y.assert(y.isFunction(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];y.assert(a.every(function(e){return e instanceof _.Tensor}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o={};return a.forEach(function(e,t){o[t]=e}),t.runKernelFunc({forwardFunc:function(t,n){return r=e.apply(void 0,(0,c._)((0,c._)(a).concat([n]))),y.assert(r.value instanceof _.Tensor,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),y.assert(y.isFunction(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},backwardsFunc:function(e,t){var n=r.gradFunc(e,t),s=Array.isArray(n)?n:[n];y.assert(s.length===a.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),y.assert(s.every(function(e){return e instanceof _.Tensor}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var o={};return s.forEach(function(e,t){o[t]=function(){return e}}),o},inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(e){return(0,s._)(function(){var t,r;return(0,u._)(this,function(n){switch(n.label){case 0:return t=(0,y.now)(),[4,this.backend.time(e)];case 1:return(r=n.sent()).wallMs=(0,y.now)()-t,[2,r]}})}).call(this)}},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new k,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function w(){var e=(0,f.getGlobalNamespace)();if(null==e._tfengine){var t=new(0,p.Environment)(e);e._tfengine=new j(t)}return(0,p.setEnvironmentGlobal)(e._tfengine.ENV),(0,_.setTensorTracker)(function(){return e._tfengine}),e._tfengine}j.nextTensorId=0,j.nextVariableId=0;var I=w();function T(e,t){return I.runKernel(d.Add,{a:e,b:t})}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","./backends/backend":"dFyOy","./environment":"bJoCx","./global_util":"E9YMB","./kernel_names":"eNhfn","./kernel_registry":"kxOzH","./log":"jn8iP","./profiler":"cB7MP","./tape":"20JRS","./tensor":"6gbjA","./tensor_util":"39ZV0","./util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4Uf9M":[function(e,t,r,n){"use strict";r._=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}},{}],igUuK:[function(e,t,r,n){"use strict";function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r._=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}},{}],i81N6:[function(e,t,r,n){"use strict";var a=e("d402183024004bc7"),s=e("3209e2b12672cd18"),o=e("fc58adb8f1bff142"),i=e("5e213dc122a10171");r._=function(e){return a._(e)||s._(e)||i._(e)||o._()}},{d402183024004bc7:"hfQG0","3209e2b12672cd18":"fQrlQ",fc58adb8f1bff142:"fWabh","5e213dc122a10171":"fh7mx"}],hfQG0:[function(e,t,r,n){"use strict";var a=e("5bd5b10bf87fc8e");r._=function(e){if(Array.isArray(e))return a._(e)}},{"5bd5b10bf87fc8e":"1WOAB"}],"1WOAB":[function(e,t,r,n){"use strict";r._=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}},{}],fQrlQ:[function(e,t,r,n){"use strict";r._=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}},{}],fWabh:[function(e,t,r,n){"use strict";r._=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],fh7mx:[function(e,t,r,n){"use strict";var a=e("3ee51b7dc02d0c44");r._=function(e,t){if(e){if("string"==typeof e)return a._(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a._(e,t)}}},{"3ee51b7dc02d0c44":"1WOAB"}],dFyOy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EPSILON_FLOAT32",function(){return i}),a.export(r,"EPSILON_FLOAT16",function(){return c}),a.export(r,"DataStorage",function(){return u}),a.export(r,"KernelBackend",function(){return l});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=1e-7,c=1e-4,u=function(){"use strict";function e(t,r){(0,s._)(this,e),this.backend=t,this.dataMover=r,this.data=new WeakMap,this.dataIdsCount=0}return(0,o._)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),l=function(){"use strict";function e(){(0,s._)(this,e)}return(0,o._)(e,[{key:"refCount",value:function(e){return p("refCount")}},{key:"incRef",value:function(e){return p("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return p("time")}},{key:"read",value:function(e){return p("read")}},{key:"readSync",value:function(e){return p("readSync")}},{key:"readToGPU",value:function(e,t){return p("readToGPU")}},{key:"numDataIds",value:function(){return p("numDataIds")}},{key:"disposeData",value:function(e,t){return p("disposeData")}},{key:"write",value:function(e,t,r){return p("write")}},{key:"move",value:function(e,t,r,n,a){return p("move")}},{key:"createTensorFromGPUData",value:function(e,t,r){return p("createTensorFromGPUData")}},{key:"memory",value:function(){return p("memory")}},{key:"floatPrecision",value:function(){return p("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?i:c}},{key:"dispose",value:function(){return p("dispose")}}]),e}();function p(e){throw Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bJoCx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Environment",function(){return f}),a.export(r,"getQueryParams",function(){return d}),a.export(r,"env",function(){return h}),a.export(r,"ENV",function(){return m}),a.export(r,"setEnvironmentGlobal",function(){return g});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs"),l=e("./util_base"),p="tfjsflags",f=function(){"use strict";function e(t){(0,o._)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=d,this.populateURLFlags()}return(0,i._)(e,[{key:"setPlatform",value:function(e,t){null==this.platform||m.getBool("IS_TEST")||m.getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,".")),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,r){if(this.flagRegistry[e]={evaluationFn:t,setHook:r},null!=this.urlFlags[e]){var n=this.urlFlags[e];m.getBool("IS_TEST")||m.getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(n,".")),this.set(e,n)}}},{key:"getAsync",value:function(e){return(0,s._)(function(){var t;return(0,u._)(this,function(r){switch(r.label){case 0:if(e in this.flags)return[2,this.flags[e]];return t=this.flags,[4,this.evaluateFlag(e)];case 1:return t[e]=r.sent(),[2,this.flags[e]]}})}).call(this)}},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if((0,l.isPromise)(t))throw Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getString",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t=this.getQueryParams(this.global.location.search);p in t&&t[p].split(",").forEach(function(t){var r,n,a,s=(0,c._)(t.split(":"),2),o=s[0],i=s[1];e.urlFlags[o]=(r=0,"true"===(a=(n=i).toLowerCase())||"false"===a?"true"===a:"".concat(+a)===a?+a:n)})}}}]),e}();function d(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var r,n,a,s=arguments.length,o=Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return r=t,n=o[0],a=o[1],r[decodeURIComponent(n)]=decodeURIComponent(a||""),o.join("=")}),t}function h(){return m}var m=null;function g(e){m=e}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","./util_base":"3jQov","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gIQTH:[function(e,t,r,n){"use strict";var a=e("d7c30a5ae0c1ab2"),s=e("3aacfce52f67defd"),o=e("f0dae09a1a08b16a"),i=e("83f3648e614d0830");r._=function(e,t){return a._(e)||s._(e,t)||i._(e,t)||o._()}},{d7c30a5ae0c1ab2:"3QSPl","3aacfce52f67defd":"5SSeo",f0dae09a1a08b16a:"heYSj","83f3648e614d0830":"fh7mx"}],"3QSPl":[function(e,t,r,n){"use strict";r._=function(e){if(Array.isArray(e))return e}},{}],"5SSeo":[function(e,t,r,n){"use strict";r._=function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var s=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){i=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw n}}return s}}},{}],heYSj:[function(e,t,r,n){"use strict";r._=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],"3jQov":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){for(var t=e.length,r=0;t>0;)r=Math.random()*t|0,u(e,--t,r)}function o(e,t){if(e.length!==t.length)throw Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var r=e.length,n=0;r>0;)n=Math.random()*r|0,u(e,--r,n),u(t,r,n)}function i(e,t,r){return Math.max(e,Math.min(t,r))}function c(e){return e%2==0?e:e+1}function u(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function l(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}function p(e,t){var r=Math.random();return t*r+(1-r)*e}function f(e,t){for(var r=0,n=0;n<e.length;n++){var a=Number(e[n])-Number(t[n]);r+=a*a}return r}function d(e,t){if(!e)throw Error("string"==typeof t?t:t())}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";d(x(e,t),function(){return r+" Shapes ".concat(e," and ").concat(t," must match")})}function m(e){d(null!=e,function(){return"The input to the tensor constructor must be a non-null value."})}function g(e){if(0===e.length)return 1;for(var t=e[0],r=1;r<e.length;r++)t*=e[r];return t}function v(e){return 0===e.length}function _(e,t){if(e===t)return!0;if(null==e||null==t||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(null!==e[r]&&null!==t[r]&&e[r]!==t[r])return!1;return!0}function x(e,t){if(e===t)return!0;if(null==e||null==t||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function y(e){return e%1==0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return -1;var t=Math.exp(2*e);return(t-1)/(t+1)}function k(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function j(e){for(var t=new Uint32Array(e),r=0;r<e;++r)t[r]=r;return s(t),t}function w(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return new Promise(function(a,s){var o=0,i=function(){if(e())return void a();var c=t(++o);if(null!=r&&o>=r)return void s();null!=n?n(i,c):setTimeout(i,c)};i()})}function T(e,t){for(var r=1,n=-1,a=0;a<e.length;++a)if(e[a]>=0)r*=e[a];else if(-1===e[a]){if(-1!==n)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(n," and dim ").concat(a));n=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===n){if(t>0&&t!==r)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===r)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%r!=0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(r));var s=e.slice();return s[n]=t/r,s}function S(e,t){var r=t.length;return d((e=null==e?t.map(function(e,t){return t}):[].concat(e)).every(function(e){return e>=-r&&e<r}),function(){return"All values in axis param must be in range [-".concat(r,", ").concat(r,") but ")+"got axis ".concat(e)}),d(e.every(function(e){return y(e)}),function(){return"All values in axis param must be integers but "+"got axis ".concat(e)}),e.map(function(e){return e<0?r+e:e})}function N(e,t){for(var r=[],n=[],a=null!=t&&Array.isArray(t)&&0===t.length,s=null==t||a?null:S(t,e).sort(),o=0,i=0;i<e.length;++i){if(null!=s){if(s[o]===i&&1!==e[i])throw Error("Can't squeeze axis ".concat(i," since its dim '").concat(e[i],"' is not 1"));(null==s[o]||s[o]>i)&&1===e[i]&&(r.push(e[i]),n.push(i)),s[o]<=i&&o++}1!==e[i]&&(r.push(e[i]),n.push(i))}return{newShape:r,keptDims:n}}function M(e,t){return C(e,t)}function C(e,t){var r=null;if(null==e||"float32"===e)r=new Float32Array(t);else if("int32"===e)r=new Int32Array(t);else if("bool"===e)r=new Uint8Array(t);else if("string"===e)r=Array(t);else throw Error("Unknown data type ".concat(e));return r}function E(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(n,"."))}}function F(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function A(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function R(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw Error("Unknown dtype ".concat(e))}function P(e){if(null==e)return 0;var t=0;return e.forEach(function(e){return t+=e.length}),t}function O(e){return"string"==typeof e||e instanceof String}function D(e){return"boolean"==typeof e}function B(e){return"number"==typeof e}function V(e){return!!(e&&e.constructor&&e.call&&e.apply)}function G(e,t){for(var r=t;r<e;++r)if(e%r==0)return r;return e}function L(e){var t=e.length;if(t<2)return[];var r=Array(t-1);r[t-2]=e[t-1];for(var n=t-3;n>=0;--n)r[n]=r[n+1]*e[n+1];return r}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var n=e.reduce(function(e,t){return e*t})*(r?2:1);if(0===n)return[];if(n!==t.length)throw Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(r?" for a complex tensor":"","."));return function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[];if(1===r.length)for(var o=r[0]*(a?2:1),i=0;i<o;i++)s[i]=n[t+i];else for(var c=r[0],u=r.slice(1),l=u.reduce(function(e,t){return e*t})*(a?2:1),p=0;p<c;p++)s[p]=e(t+p*l,u,n,a);return s}(0,e,t,r)}function z(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw Error("Unknown dtype ".concat(t))}function U(e,t){for(var r=H(e,t),n=0;n<r.length;n++)r[n]=1;return r}function H(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw Error("Unknown data type ".concat(t))}function W(e,t){var r=e.reduce(function(e,t){return e*t},1);if(null==t||"float32"===t)return q(e,new Float32Array(r));if("int32"===t)return q(e,new Int32Array(r));if("bool"===t)return q(e,new Uint8Array(r));throw Error("Unknown data type ".concat(t))}function K(e){e.forEach(function(t){d(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")})})}function X(e,t,r){if(0===t)return 0;if(1===t)return e[0];for(var n=e[e.length-1],a=0;a<e.length-1;++a)n+=r[a]*e[a];return n}function Z(e,t,r){if(0===t)return[];if(1===t)return[e];for(var n=Array(t),a=0;a<n.length-1;++a)n[a]=Math.floor(e/r[a]),e-=n[a]*r[a];return n[n.length-1]=e,n}function Q(e){return e&&e.then&&"function"==typeof e.then}a.defineInteropFlag(r),a.export(r,"shuffle",function(){return s}),a.export(r,"shuffleCombo",function(){return o}),a.export(r,"clamp",function(){return i}),a.export(r,"nearestLargerEven",function(){return c}),a.export(r,"swap",function(){return u}),a.export(r,"sum",function(){return l}),a.export(r,"randUniform",function(){return p}),a.export(r,"distSquared",function(){return f}),a.export(r,"assert",function(){return d}),a.export(r,"assertShapesMatch",function(){return h}),a.export(r,"assertNonNull",function(){return m}),a.export(r,"sizeFromShape",function(){return g}),a.export(r,"isScalarShape",function(){return v}),a.export(r,"arraysEqualWithNull",function(){return _}),a.export(r,"arraysEqual",function(){return x}),a.export(r,"isInt",function(){return y}),a.export(r,"tanh",function(){return b}),a.export(r,"sizeToSquarishShape",function(){return k}),a.export(r,"createShuffledIndices",function(){return j}),a.export(r,"rightPad",function(){return w}),a.export(r,"repeatedTry",function(){return I}),a.export(r,"inferFromImplicitShape",function(){return T}),a.export(r,"parseAxisParam",function(){return S}),a.export(r,"squeezeShape",function(){return N}),a.export(r,"getTypedArrayFromDType",function(){return M}),a.export(r,"getArrayFromDType",function(){return C}),a.export(r,"checkConversionForErrors",function(){return E}),a.export(r,"isValidDtype",function(){return F}),a.export(r,"hasEncodingLoss",function(){return A}),a.export(r,"bytesPerElement",function(){return R}),a.export(r,"bytesFromStringArray",function(){return P}),a.export(r,"isString",function(){return O}),a.export(r,"isBoolean",function(){return D}),a.export(r,"isNumber",function(){return B}),a.export(r,"inferDtype",function(){return function e(t){if(Array.isArray(t))return e(t[0]);if(t instanceof Float32Array);else if(t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray)return"int32";else if(B(t));else if(O(t))return"string";else if(D(t))return"bool";return"float32"}}),a.export(r,"isFunction",function(){return V}),a.export(r,"nearestDivisor",function(){return G}),a.export(r,"computeStrides",function(){return L}),a.export(r,"toNestedArray",function(){return q}),a.export(r,"convertBackendValuesAndArrayBuffer",function(){return z}),a.export(r,"makeOnesTypedArray",function(){return U}),a.export(r,"makeZerosTypedArray",function(){return H}),a.export(r,"makeZerosNestedTypedArray",function(){return W}),a.export(r,"assertNonNegativeIntegerDimensions",function(){return K}),a.export(r,"locToIndex",function(){return X}),a.export(r,"indexToLoc",function(){return Z}),a.export(r,"isPromise",function(){return Q})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],E9YMB:[function(e,t,r,n){var a,s=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(){if(null==a){var e;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof global)e=global;else if("undefined"!=typeof process)e=process;else if("undefined"!=typeof self)e=self;else throw Error("Could not find a global object");a=e}return a}function i(e,t){var r,n=(null==(r=o())._tfGlobals&&(r._tfGlobals=new Map),r._tfGlobals);if(n.has(e))return n.get(e);var a=t();return n.set(e,a),n.get(e)}s.defineInteropFlag(r),s.export(r,"getGlobalNamespace",function(){return o}),s.export(r,"getGlobal",function(){return i})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eNhfn:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Abs",function(){return s}),a.export(r,"Acos",function(){return o}),a.export(r,"Acosh",function(){return i}),a.export(r,"Add",function(){return c}),a.export(r,"AddN",function(){return u}),a.export(r,"All",function(){return l}),a.export(r,"Any",function(){return p}),a.export(r,"ArgMax",function(){return f}),a.export(r,"ArgMin",function(){return d}),a.export(r,"Asin",function(){return h}),a.export(r,"Asinh",function(){return m}),a.export(r,"Atan",function(){return g}),a.export(r,"Atanh",function(){return v}),a.export(r,"Atan2",function(){return _}),a.export(r,"AvgPool",function(){return x}),a.export(r,"AvgPoolGrad",function(){return y}),a.export(r,"AvgPool3D",function(){return b}),a.export(r,"AvgPool3DGrad",function(){return k}),a.export(r,"BatchMatMul",function(){return j}),a.export(r,"BatchToSpaceND",function(){return w}),a.export(r,"Bincount",function(){return I}),a.export(r,"BitwiseAnd",function(){return T}),a.export(r,"BroadcastTo",function(){return S}),a.export(r,"BroadcastArgs",function(){return N}),a.export(r,"Cast",function(){return M}),a.export(r,"Ceil",function(){return C}),a.export(r,"ClipByValue",function(){return E}),a.export(r,"Complex",function(){return F}),a.export(r,"ComplexAbs",function(){return A}),a.export(r,"Concat",function(){return R}),a.export(r,"Conv2D",function(){return P}),a.export(r,"Conv2DBackpropFilter",function(){return O}),a.export(r,"Conv2DBackpropInput",function(){return D}),a.export(r,"Conv3D",function(){return B}),a.export(r,"Conv3DBackpropFilterV2",function(){return V}),a.export(r,"Conv3DBackpropInputV2",function(){return G}),a.export(r,"Cos",function(){return L}),a.export(r,"Cosh",function(){return q}),a.export(r,"Cumprod",function(){return z}),a.export(r,"Cumsum",function(){return U}),a.export(r,"CropAndResize",function(){return H}),a.export(r,"DenseBincount",function(){return W}),a.export(r,"DepthToSpace",function(){return K}),a.export(r,"DepthwiseConv2dNative",function(){return X}),a.export(r,"DepthwiseConv2dNativeBackpropFilter",function(){return Z}),a.export(r,"DepthwiseConv2dNativeBackpropInput",function(){return Q}),a.export(r,"Diag",function(){return J}),a.export(r,"Dilation2D",function(){return Y}),a.export(r,"Dilation2DBackpropInput",function(){return $}),a.export(r,"Dilation2DBackpropFilter",function(){return ee}),a.export(r,"Draw",function(){return et}),a.export(r,"RealDiv",function(){return er}),a.export(r,"Einsum",function(){return en}),a.export(r,"Elu",function(){return ea}),a.export(r,"EluGrad",function(){return es}),a.export(r,"Erf",function(){return eo}),a.export(r,"Equal",function(){return ei}),a.export(r,"Exp",function(){return ec}),a.export(r,"ExpandDims",function(){return eu}),a.export(r,"Expm1",function(){return el}),a.export(r,"FFT",function(){return ep}),a.export(r,"Fill",function(){return ef}),a.export(r,"FlipLeftRight",function(){return ed}),a.export(r,"Floor",function(){return eh}),a.export(r,"FloorDiv",function(){return em}),a.export(r,"FusedBatchNorm",function(){return eg}),a.export(r,"GatherV2",function(){return ev}),a.export(r,"GatherNd",function(){return e_}),a.export(r,"Greater",function(){return ex}),a.export(r,"GreaterEqual",function(){return ey}),a.export(r,"Identity",function(){return eb}),a.export(r,"IFFT",function(){return ek}),a.export(r,"Imag",function(){return ej}),a.export(r,"IsFinite",function(){return ew}),a.export(r,"IsInf",function(){return eI}),a.export(r,"IsNan",function(){return eT}),a.export(r,"LeakyRelu",function(){return eS}),a.export(r,"Less",function(){return eN}),a.export(r,"LessEqual",function(){return eM}),a.export(r,"LinSpace",function(){return eC}),a.export(r,"Log",function(){return eE}),a.export(r,"Log1p",function(){return eF}),a.export(r,"LogicalAnd",function(){return eA}),a.export(r,"LogicalNot",function(){return eR}),a.export(r,"LogicalOr",function(){return eP}),a.export(r,"LogicalXor",function(){return eO}),a.export(r,"LogSoftmax",function(){return eD}),a.export(r,"LowerBound",function(){return eB}),a.export(r,"LRN",function(){return eV}),a.export(r,"LRNGrad",function(){return eG}),a.export(r,"MatrixBandPart",function(){return eL}),a.export(r,"Max",function(){return eq}),a.export(r,"Maximum",function(){return ez}),a.export(r,"MaxPool",function(){return eU}),a.export(r,"MaxPoolGrad",function(){return eH}),a.export(r,"MaxPool3D",function(){return eW}),a.export(r,"MaxPool3DGrad",function(){return eK}),a.export(r,"MaxPoolWithArgmax",function(){return eX}),a.export(r,"Mean",function(){return eZ}),a.export(r,"Min",function(){return eQ}),a.export(r,"Minimum",function(){return eJ}),a.export(r,"MirrorPad",function(){return eY}),a.export(r,"Mod",function(){return e$}),a.export(r,"Multinomial",function(){return e0}),a.export(r,"Multiply",function(){return e1}),a.export(r,"Neg",function(){return e2}),a.export(r,"NotEqual",function(){return e3}),a.export(r,"NonMaxSuppressionV3",function(){return e4}),a.export(r,"NonMaxSuppressionV4",function(){return e6}),a.export(r,"NonMaxSuppressionV5",function(){return e7}),a.export(r,"OnesLike",function(){return e5}),a.export(r,"OneHot",function(){return e9}),a.export(r,"Pack",function(){return e8}),a.export(r,"PadV2",function(){return te}),a.export(r,"Pool",function(){return tt}),a.export(r,"Pow",function(){return tr}),a.export(r,"Prelu",function(){return tn}),a.export(r,"Prod",function(){return ta}),a.export(r,"RaggedGather",function(){return ts}),a.export(r,"RaggedRange",function(){return to}),a.export(r,"RaggedTensorToTensor",function(){return ti}),a.export(r,"Range",function(){return tc}),a.export(r,"Real",function(){return tu}),a.export(r,"Reciprocal",function(){return tl}),a.export(r,"Relu",function(){return tp}),a.export(r,"Reshape",function(){return tf}),a.export(r,"ResizeNearestNeighbor",function(){return td}),a.export(r,"ResizeNearestNeighborGrad",function(){return th}),a.export(r,"ResizeBilinear",function(){return tm}),a.export(r,"ResizeBilinearGrad",function(){return tg}),a.export(r,"Relu6",function(){return tv}),a.export(r,"Reverse",function(){return t_}),a.export(r,"Round",function(){return tx}),a.export(r,"Rsqrt",function(){return ty}),a.export(r,"ScatterNd",function(){return tb}),a.export(r,"TensorScatterUpdate",function(){return tk}),a.export(r,"SearchSorted",function(){return tj}),a.export(r,"Select",function(){return tw}),a.export(r,"Selu",function(){return tI}),a.export(r,"Slice",function(){return tT}),a.export(r,"Sin",function(){return tS}),a.export(r,"Sinh",function(){return tN}),a.export(r,"Sign",function(){return tM}),a.export(r,"Sigmoid",function(){return tC}),a.export(r,"Softplus",function(){return tE}),a.export(r,"Sqrt",function(){return tF}),a.export(r,"Sum",function(){return tA}),a.export(r,"SpaceToBatchND",function(){return tR}),a.export(r,"SplitV",function(){return tP}),a.export(r,"Softmax",function(){return tO}),a.export(r,"SparseFillEmptyRows",function(){return tD}),a.export(r,"SparseReshape",function(){return tB}),a.export(r,"SparseSegmentMean",function(){return tV}),a.export(r,"SparseSegmentSum",function(){return tG}),a.export(r,"SparseToDense",function(){return tL}),a.export(r,"SquaredDifference",function(){return tq}),a.export(r,"Square",function(){return tz}),a.export(r,"StaticRegexReplace",function(){return tU}),a.export(r,"StridedSlice",function(){return tH}),a.export(r,"StringNGrams",function(){return tW}),a.export(r,"StringSplit",function(){return tK}),a.export(r,"StringToHashBucketFast",function(){return tX}),a.export(r,"Sub",function(){return tZ}),a.export(r,"Tan",function(){return tQ}),a.export(r,"Tanh",function(){return tJ}),a.export(r,"Tile",function(){return tY}),a.export(r,"TopK",function(){return t$}),a.export(r,"Transform",function(){return t0}),a.export(r,"Transpose",function(){return t1}),a.export(r,"Unique",function(){return t2}),a.export(r,"Unpack",function(){return t3}),a.export(r,"UnsortedSegmentSum",function(){return t4}),a.export(r,"UpperBound",function(){return t6}),a.export(r,"ZerosLike",function(){return t7}),a.export(r,"Step",function(){return t5}),a.export(r,"FromPixels",function(){return t9}),a.export(r,"RotateWithOffset",function(){return t8}),a.export(r,"_FusedMatMul",function(){return re}),a.export(r,"FusedConv2D",function(){return rt}),a.export(r,"FusedDepthwiseConv2D",function(){return rr});var s="Abs",o="Acos",i="Acosh",c="Add",u="AddN",l="All",p="Any",f="ArgMax",d="ArgMin",h="Asin",m="Asinh",g="Atan",v="Atanh",_="Atan2",x="AvgPool",y="AvgPoolGrad",b="AvgPool3D",k="AvgPool3DGrad",j="BatchMatMul",w="BatchToSpaceND",I="Bincount",T="BitwiseAnd",S="BroadcastTo",N="BroadcastArgs",M="Cast",C="Ceil",E="ClipByValue",F="Complex",A="ComplexAbs",R="Concat",P="Conv2D",O="Conv2DBackpropFilter",D="Conv2DBackpropInput",B="Conv3D",V="Conv3DBackpropFilterV2",G="Conv3DBackpropInputV2",L="Cos",q="Cosh",z="Cumprod",U="Cumsum",H="CropAndResize",W="DenseBincount",K="DepthToSpace",X="DepthwiseConv2dNative",Z="DepthwiseConv2dNativeBackpropFilter",Q="DepthwiseConv2dNativeBackpropInput",J="Diag",Y="Dilation2D",$="Dilation2DBackpropInput",ee="Dilation2DBackpropFilter",et="Draw",er="RealDiv",en="Einsum",ea="Elu",es="EluGrad",eo="Erf",ei="Equal",ec="Exp",eu="ExpandDims",el="Expm1",ep="FFT",ef="Fill",ed="FlipLeftRight",eh="Floor",em="FloorDiv",eg="FusedBatchNorm",ev="GatherV2",e_="GatherNd",ex="Greater",ey="GreaterEqual",eb="Identity",ek="IFFT",ej="Imag",ew="IsFinite",eI="IsInf",eT="IsNan",eS="LeakyRelu",eN="Less",eM="LessEqual",eC="LinSpace",eE="Log",eF="Log1p",eA="LogicalAnd",eR="LogicalNot",eP="LogicalOr",eO="LogicalXor",eD="LogSoftmax",eB="LowerBound",eV="LRN",eG="LRNGrad",eL="MatrixBandPart",eq="Max",ez="Maximum",eU="MaxPool",eH="MaxPoolGrad",eW="MaxPool3D",eK="MaxPool3DGrad",eX="MaxPoolWithArgmax",eZ="Mean",eQ="Min",eJ="Minimum",eY="MirrorPad",e$="Mod",e0="Multinomial",e1="Multiply",e2="Neg",e3="NotEqual",e4="NonMaxSuppressionV3",e6="NonMaxSuppressionV4",e7="NonMaxSuppressionV5",e5="OnesLike",e9="OneHot",e8="Pack",te="PadV2",tt="Pool",tr="Pow",tn="Prelu",ta="Prod",ts="RaggedGather",to="RaggedRange",ti="RaggedTensorToTensor",tc="Range",tu="Real",tl="Reciprocal",tp="Relu",tf="Reshape",td="ResizeNearestNeighbor",th="ResizeNearestNeighborGrad",tm="ResizeBilinear",tg="ResizeBilinearGrad",tv="Relu6",t_="Reverse",tx="Round",ty="Rsqrt",tb="ScatterNd",tk="TensorScatterUpdate",tj="SearchSorted",tw="Select",tI="Selu",tT="Slice",tS="Sin",tN="Sinh",tM="Sign",tC="Sigmoid",tE="Softplus",tF="Sqrt",tA="Sum",tR="SpaceToBatchND",tP="SplitV",tO="Softmax",tD="SparseFillEmptyRows",tB="SparseReshape",tV="SparseSegmentMean",tG="SparseSegmentSum",tL="SparseToDense",tq="SquaredDifference",tz="Square",tU="StaticRegexReplace",tH="StridedSlice",tW="StringNGrams",tK="StringSplit",tX="StringToHashBucketFast",tZ="Sub",tQ="Tan",tJ="Tanh",tY="Tile",t$="TopK",t0="Transform",t1="Transpose",t2="Unique",t3="Unpack",t4="UnsortedSegmentSum",t6="UpperBound",t7="ZerosLike",t5="Step",t9="FromPixels",t8="RotateWithOffset",re="_FusedMatMul",rt="FusedConv2D",rr="FusedDepthwiseConv2D"},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kxOzH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getKernel",function(){return p}),a.export(r,"getGradient",function(){return f}),a.export(r,"getKernelsForBackend",function(){return d}),a.export(r,"registerKernel",function(){return h}),a.export(r,"registerGradient",function(){return m}),a.export(r,"unregisterKernel",function(){return g}),a.export(r,"unregisterGradient",function(){return v}),a.export(r,"copyRegisteredKernels",function(){return _});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("./environment"),i=e("./global_util"),c=e("./log"),u=(0,i.getGlobal)("kernelRegistry",function(){return new Map}),l=(0,i.getGlobal)("gradRegistry",function(){return new Map});function p(e,t){var r=x(e,t);return u.get(r)}function f(e){return l.get(e)}function d(e){for(var t=u.entries(),r=[];;){var n=t.next(),a=n.done,o=n.value;if(a)break;var i=(0,s._)(o,2),c=i[0],l=i[1];(0,s._)(c.split("_"),1)[0]===e&&r.push(l)}return r}function h(e){var t=e.kernelName,r=e.backendName,n=x(t,r);u.has(n)&&c.warn("The kernel '".concat(t,"' for backend ")+"'".concat(r,"' is already registered")),u.set(n,e)}function m(e){var t=e.kernelName;l.has(t)&&(0,o.env)().getBool("DEBUG")&&c.warn("Overriding the gradient for '".concat(t,"'")),l.set(t,e)}function g(e,t){var r=x(e,t);if(!u.has(r))throw Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));u.delete(r)}function v(e){if(!l.has(e))throw Error("The gradient '".concat(e,"' for backend is not registered"));l.delete(e)}function _(e,t){d(e).forEach(function(e){h(Object.assign({},e,{backendName:t}))})}function x(e,t){return"".concat(t,"_").concat(e)}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","./environment":"bJoCx","./global_util":"E9YMB","./log":"jn8iP","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jn8iP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"warn",function(){return i}),a.export(r,"log",function(){return c});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("./environment");function i(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,o.env)().getBool("IS_TEST")||(0,o.env)().getBool("PROD")||(e=console).warn.apply(e,(0,s._)(r))}function c(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,o.env)().getBool("IS_TEST")||(0,o.env)().getBool("PROD")||(e=console).log.apply(e,(0,s._)(r))}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","./environment":"bJoCx","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cB7MP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Profiler",function(){return u}),a.export(r,"checkComputationForErrors",function(){return l}),a.export(r,"Logger",function(){return p});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("./environment"),c=e("./util"),u=function(){"use strict";function e(t,r){(0,s._)(this,e),this.backendTimer=t,this.logger=r,null==r&&(this.logger=new p)}return(0,o._)(e,[{key:"profileKernel",value:function(e,t,r){var n=function(){p=r()},a=c.now();if(this.backendTimer.timerAvailable())f=this.backendTimer.time(n);else{n();var s=!0,o=!1,u=void 0;try{for(var p,f,d,h=p[Symbol.iterator]();!(s=(d=h.next()).done);s=!0)d.value.dataSync()}catch(e){o=!0,u=e}finally{try{s||null==h.return||h.return()}finally{if(o)throw u}}f=Promise.resolve({kernelMs:c.now()-a})}if((0,i.env)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var m=0;m<p.length;m++)!function(t){var r=p[t];r.data().then(function(t){l(t,r.dtype,e)})}(m);return{kernelName:e,outputs:p,inputs:t,timeMs:f.then(function(e){return e.kernelMs}),extraInfo:f.then(function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""})}}},{key:"logKernelProfile",value:function(e){var t=this,r=e.kernelName,n=e.outputs,a=e.timeMs,s=e.inputs,o=e.extraInfo;n.forEach(function(e){Promise.all([e.data(),a,o]).then(function(n){t.logger.logKernelProfile(r,e,n[0],n[1],s,n[2])})})}}]),e}();function l(e,t,r){if("float32"!==t)return!1;for(var n=0;n<e.length;n++){var a=e[n];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(r,"'")),!0}return!1}var p=function(){"use strict";function e(){(0,s._)(this,e)}return(0,o._)(e,[{key:"logKernelProfile",value:function(e,t,r,n,a,s){var o="number"==typeof n?c.rightPad("".concat(n,"ms"),9):n.error,i=c.rightPad(e,25),u=t.rank,l=t.size,p=c.rightPad(t.shape.toString(),14),f="";for(var d in a){var h=a[d];if(null!=h){var m=h.shape||t.shape,g=m.length;f+="".concat(d,": ").concat(g,"D ").concat(g>0?m:""," ")}}console.log("%c".concat(i," %c").concat(o," %c").concat(u,"D ").concat(p," %c").concat(l," %c").concat(f," %c").concat(s),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","./environment":"bJoCx","./util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],pzc9n:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"createScalarValue",function(){return u}),a.export(r,"toTypedArray",function(){return l}),a.export(r,"now",function(){return p}),a.export(r,"fetch",function(){return f}),a.export(r,"encodeString",function(){return d}),a.export(r,"decodeString",function(){return h}),a.export(r,"isTypedArray",function(){return m}),a.export(r,"flatten",function(){return g});var s=e("./environment"),o=e("./platforms/is_typed_array_browser"),i=e("./util_base");a.exportAll(i,r);var c=e("./hash_util");function u(e,t){return"string"===t?d(e):l([e],t)}function l(e,t){if("string"===t)throw Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=g(e)),(0,s.env)().getBool("DEBUG")&&i.checkConversionForErrors(e,t),(r=e)instanceof Float32Array&&"float32"===t||r instanceof Int32Array&&"int32"===t||r instanceof Uint8Array&&"bool"===t)return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r,n=new Uint8Array(e.length),a=0;a<n.length;++a)0!==Math.round(e[a])&&(n[a]=1);return n}throw Error("Unknown data type ".concat(t))}function p(){return(0,s.env)().platform.now()}function f(e,t){return(0,s.env)().platform.fetch(e,t)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,s.env)().platform.encode(e,t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,s.env)().platform.decode(e,t)}function m(e){return null!=(0,s.env)().platform.isTypedArray?(0,s.env)().platform.isTypedArray(e):(0,o.isTypedArrayBrowser)(e)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"==typeof e||"number"==typeof e||"string"==typeof e||i.isPromise(e)||null==e||m(e)&&r)t.push(e);else if(Array.isArray(e)||m(e))for(var n=0;n<e.length;++n)g(e[n],t,r);else{var a=-1,s=!0,o=!1,c=void 0;try{for(var u,l=Object.keys(e)[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var p=u.value;/^([1-9]+[0-9]*|0)$/.test(p)&&(a=Math.max(a,Number(p)))}}catch(e){o=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(o)throw c}}for(var f=0;f<=a;f++)g(e[f],t,r)}return t}a.exportAll(c,r)},{"./environment":"bJoCx","./platforms/is_typed_array_browser":"18zzh","./util_base":"3jQov","./hash_util":"bpjjy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"18zzh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}a.defineInteropFlag(r),a.export(r,"isTypedArrayBrowser",function(){return s})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bpjjy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"hexToLong",function(){return i}),a.export(r,"fingerPrint64",function(){return v});var s=e("long"),o=s.default||s;function i(e){return o.fromString(e,!0,16)}var c=i("c3a5c85c97cb3127"),u=i("b492b66fbe98f273"),l=i("9ae16a3b2f90404f");function p(e){return e.xor(e.shru(47))}function f(e,t,r){var n=e.slice(t,t+r);return o.fromBytes(Array.from(n),!0,!0)}function d(e,t){return f(e,t,8)}function h(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i("9ddfea08eb382d69"),n=e.xor(t).mul(r);n=n.xor(n.shru(47));var a=t.xor(n).mul(r);return(a=a.xor(a.shru(47))).mul(r)}function g(e,t,r,n){var a,s,o,i,c,u,l;return a=d(e,t),s=d(e,t+8),o=d(e,t+16),i=d(e,t+24),c=r,u=n,c=c.add(a),u=h(u.add(c).add(i),21),l=c,c=(c=c.add(s)).add(o),u=u.add(h(c,44)),[c.add(i),u.add(l)]}function v(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,a=o.fromNumber(81,!0);if(n<=32)if(n<=16)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var r=l.add(2*t),n=d(e,0).add(l),a=d(e,t-8);return m(h(a,37).mul(r).add(n),h(n,25).add(a).mul(r),r)}if(t>=4){var s=l.add(2*t);return m(f(e,0,4).shl(3).add(t),f(e,t-4,4),s)}if(t>0){var o=e[0],i=e[t>>1],u=e[t-1];return p(l.mul(o+(i<<8)).xor(c.mul(t+(u<<2)))).mul(l)}return l}(e,n);else return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r=l.add(2*t),n=d(e,0).mul(u),a=d(e,8),s=d(e,t-8).mul(r),o=d(e,t-16).mul(l);return m(h(n.add(a),43).add(h(s,30)).add(o),n.add(h(a.add(l),18)).add(s),r)}(e,n);if(n<=64)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r=l.add(2*t),n=d(e,0).mul(l),a=d(e,8),s=d(e,t-8).mul(r),o=d(e,t-16).mul(l),i=h(n.add(a),43).add(h(s,30)).add(o),c=m(i,n.add(h(a.add(l),18)).add(s),r),u=d(e,16).mul(r),p=d(e,24),f=i.add(d(e,t-32)).mul(r),g=c.add(d(e,t-24)).mul(r);return m(h(u.add(p),43).add(h(f,30)).add(g),u.add(h(p.add(n),18)).add(f),r)}(e,n);var s=a,i=a.mul(u).add(113),v=p(i.mul(l).add(113)).mul(l),_=[o.UZERO,o.UZERO],x=[o.UZERO,o.UZERO];s=s.mul(l).add(d(e,0));var y=0,b=(n-1>>6)*64,k=b+(n-1&63)-63;do s=h(s.add(i).add(_[0]).add(d(e,y+8)),37).mul(u),i=h(i.add(_[1]).add(d(e,y+48)),42).mul(u),s=s.xor(x[1]),i=i.add(_[0]).add(d(e,y+40)),v=h(v.add(x[0]),33).mul(u),_=g(e,y,_[1].mul(u),s.add(x[0])),x=g(e,y+32,v.add(x[1]),i.add(d(e,y+16))),v=(t=[s,v])[0],s=t[1],y+=64;while(y!==b)var j=u.add(v.and(255).shl(1));return y=k,x[0]=x[0].add(n-1&63),_[0]=_[0].add(x[0]),x[0]=x[0].add(_[0]),s=h(s.add(i).add(_[0]).add(d(e,y+8)),37).mul(j),i=h(i.add(_[1]).add(d(e,y+48)),42).mul(j),s=s.xor(x[1].mul(9)),i=i.add(_[0].mul(9).add(d(e,y+40))),v=h(v.add(x[0]),33).mul(j),_=g(e,y,_[1].mul(j),s.add(x[0])),x=g(e,y+32,v.add(x[1]),i.add(d(e,y+16))),v=(r=[s,v])[0],s=r[1],m(m(_[0],x[0],j).add(p(i).mul(c)).add(v),m(_[1],x[1],j).add(s),j)}},{long:"cC61R","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cC61R:[function(e,t,r,n){t.exports=s;var a=null;try{a=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function s(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function o(e){return!0===(e&&e.__isLong__)}s.prototype.__isLong__,Object.defineProperty(s.prototype,"__isLong__",{value:!0}),s.isLong=o;var i={},c={};function u(e,t){var r,n,a;if(t)return(e>>>=0,(a=0<=e&&e<256)&&(n=c[e]))?n:(r=p(e,(0|e)<0?-1:0,!0),a&&(c[e]=r),r);return(e|=0,(a=-128<=e&&e<128)&&(n=i[e]))?n:(r=p(e,e<0?-1:0,!1),a&&(i[e]=r),r)}function l(e,t){if(isNaN(e))return t?y:x;if(t){if(e<0)return y;if(e>=g)return I}else{if(e<=-v)return T;if(e+1>=v)return w}return e<0?l(-e,t).neg():p(e%m|0,e/m|0,t)}function p(e,t,r){return new s(e,t,r)}s.fromInt=u,s.fromNumber=l,s.fromBits=p;var f=Math.pow;function d(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return x;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return d(e.substring(1),t,r).neg();for(var n,a=l(f(r,8)),s=x,o=0;o<e.length;o+=8){var i=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+i),r);if(i<8){var u=l(f(r,i));s=s.mul(u).add(l(c))}else s=(s=s.mul(a)).add(l(c))}return s.unsigned=t,s}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?d(e,t):p(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}s.fromString=d,s.fromValue=h;var m=0x100000000,g=0xffffffffffffffff,v=0x8000000000000000,_=u(0x1000000),x=u(0);s.ZERO=x;var y=u(0,!0);s.UZERO=y;var b=u(1);s.ONE=b;var k=u(1,!0);s.UONE=k;var j=u(-1);s.NEG_ONE=j;var w=p(-1,0x7fffffff,!1);s.MAX_VALUE=w;var I=p(-1,-1,!0);s.MAX_UNSIGNED_VALUE=I;var T=p(0,-0x80000000,!1);s.MIN_VALUE=T;var S=s.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(!this.eq(T))return"-"+this.neg().toString(e);else{var t=l(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}for(var a=l(f(e,6),this.unsigned),s=this,o="";;){var i=s.div(a),c=(s.sub(i.mul(a)).toInt()>>>0).toString(e);if((s=i).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return(1&this.low)==1},S.isEven=function(){return(1&this.low)==0},S.equals=function(e){return o(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return 0>this.comp(e)},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return 0>=this.comp(e)},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(o(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(b)},S.neg=S.negate,S.add=function(e){o(e)||(e=h(e));var t,r,n=this.high>>>16,a=65535&this.high,s=this.low>>>16,i=65535&this.low,c=e.high>>>16,u=65535&e.high,l=e.low>>>16,f=65535&e.low,d=0,m=0;return t=0+((r=0+(i+f))>>>16),r&=65535,t+=s+l,m+=t>>>16,t&=65535,m+=a+u,d+=m>>>16,m&=65535,d+=n+c,p(t<<16|r,(d&=65535)<<16|m,this.unsigned)},S.subtract=function(e){return o(e)||(e=h(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return x;if(o(e)||(e=h(e)),a)return p(a.mul(this.low,this.high,e.low,e.high),a.get_high(),this.unsigned);if(e.isZero())return x;if(this.eq(T))return e.isOdd()?T:x;if(e.eq(T))return this.isOdd()?T:x;if(this.isNegative())if(e.isNegative())return this.neg().mul(e.neg());else return this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(_)&&e.lt(_))return l(this.toNumber()*e.toNumber(),this.unsigned);var t,r,n=this.high>>>16,s=65535&this.high,i=this.low>>>16,c=65535&this.low,u=e.high>>>16,f=65535&e.high,d=e.low>>>16,m=65535&e.low,g=0,v=0;return t=0+((r=0+c*m)>>>16),r&=65535,t+=i*m,v+=t>>>16,t&=65535,t+=c*d,v+=t>>>16,t&=65535,v+=s*m,g+=v>>>16,v&=65535,v+=i*d,g+=v>>>16,v&=65535,v+=c*f,g+=v>>>16,v&=65535,g+=n*m+s*d+i*f+c*u,p(t<<16|r,(g&=65535)<<16|v,this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(o(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(a){var t,r,n;return this.unsigned||-0x80000000!==this.high||-1!==e.low||-1!==e.high?p((this.unsigned?a.div_u:a.div_s)(this.low,this.high,e.low,e.high),a.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?y:x;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return k;n=y}else{if(this.eq(T))if(e.eq(b)||e.eq(j))return T;else return e.eq(T)?b:(t=this.shr(1).div(e).shl(1)).eq(x)?e.isNegative()?b:j:(r=this.sub(e.mul(t)),n=t.add(r.div(e)));if(e.eq(T))return this.unsigned?y:x;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=x}for(r=this;r.gte(e);){for(var s=Math.ceil(Math.log(t=Math.max(1,Math.floor(r.toNumber()/e.toNumber())))/Math.LN2),i=s<=48?1:f(2,s-48),c=l(t),u=c.mul(e);u.isNegative()||u.gt(r);)t-=i,u=(c=l(t,this.unsigned)).mul(e);c.isZero()&&(c=b),n=n.add(c),r=r.sub(u)}return n},S.div=S.divide,S.modulo=function(e){return(o(e)||(e=h(e)),a)?p((this.unsigned?a.rem_u:a.rem_s)(this.low,this.high,e.low,e.high),a.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return p(~this.low,~this.high,this.unsigned)},S.and=function(e){return o(e)||(e=h(e)),p(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return o(e)||(e=h(e)),p(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return o(e)||(e=h(e)),p(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return(o(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?p(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):p(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return(o(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?p(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):p(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(o(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?p(this.low>>>e|t<<32-e,t>>>e,this.unsigned):32===e?p(t,0,this.unsigned):p(t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?p(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:p(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},s.fromBytes=function(e,t,r){return r?s.fromBytesLE(e,t):s.fromBytesBE(e,t)},s.fromBytesLE=function(e,t){return new s(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},s.fromBytesBE=function(e,t){return new s(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},{}],"20JRS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getFilteredNodesXToY",function(){return o}),a.export(r,"backpropagateGradients",function(){return i});var s=e("./util");function o(e,t,r){for(var n={},a={},s=0;s<t.length;s++)n[t[s].id]=!0;for(var o=0;o<e.length;o++){var i=e[o],c=i.inputs;for(var u in c){for(var l=c[u],p=!1,f=0;f<t.length;f++)if(n[l.id]){i.outputs.forEach(function(e){return n[e.id]=!0}),p=!0,a[i.id]=!0;break}if(p)break}}var d={};d[r.id]=!0;for(var h={},m=e.length-1;m>=0;m--)for(var g=e[m],v=g.inputs,_=0;_<g.outputs.length;_++)if(d[g.outputs[_].id]){for(var x in v)d[v[x].id]=!0,h[g.id]=!0;break}for(var y=[],b=0;b<e.length;b++){var k=e[b];if(a[k.id]&&h[k.id]){var j={};for(var w in k.inputs){var I=k.inputs[w];n[I.id]&&(j[w]=I)}var T=Object.assign({},k);T.inputs=j,T.outputs=k.outputs,y.push(T)}}return y}function i(e,t,r,n){for(var a=t.length-1;a>=0;a--)!function(a){var o=function(t){if(!(t in u))throw Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(u),"."));var a=r(function(){return u[t]()});if("float32"!==a.dtype)throw Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var o=i.inputs[t];if(!s.arraysEqual(a.shape,o.shape))throw Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=a;else{var c=e[o.id];e[o.id]=n(c,a),c.dispose()}},i=t[a],c=[];if(i.outputs.forEach(function(t){var r=e[t.id];null!=r?c.push(r):c.push(null)}),null==i.gradient)throw Error("Cannot compute gradient: gradient function not found "+"for ".concat(i.kernelName,"."));var u=i.gradient(c);for(var l in i.inputs)o(l)}(a)}},{"./util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6gbjA":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TensorBuffer",function(){return h}),a.export(r,"setTensorTracker",function(){return v}),a.export(r,"setOpHandler",function(){return _}),a.export(r,"setDeprecationWarningFn",function(){return x}),a.export(r,"Tensor",function(){return y}),a.export(r,"getGlobalTensorClass",function(){return b}),a.export(r,"Variable",function(){return k});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("./global_util"),f=e("./tensor_format"),d=e("./util"),h=function(){"use strict";function e(t,r,n){var a=this;if((0,i._)(this,e),this.dtype=r,this.shape=t.slice(),this.size=d.sizeFromShape(t),null!=n){var s=n.length;d.assert(s===this.size,function(){return"Length of values '".concat(s,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")})}if("complex64"===r)throw Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||d.getArrayFromDType(r,this.size),this.strides=(0,d.computeStrides)(t)}return(0,c._)(e,[{key:"set",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];0===n.length&&(n=[0]),d.assert(n.length===this.rank,function(){return"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(t.rank,")")});var s=this.locToIndex(n);this.values[s]=e}},{key:"get",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];0===t.length&&(t=[0]);var n=0,a=!0,s=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var u=i.value;if(u<0||u>=this.shape[n]){var l="Requested out of range element at ".concat(t,". ")+" Buffer shape=".concat(this.shape);throw Error(l)}n++}}catch(e){s=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw o}}for(var p=t[t.length-1],f=0;f<t.length-1;++f)p+=this.strides[f]*t[f];return this.values[p]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],r=0;r<e.length-1;++r)t+=this.strides[r]*e[r];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=Array(this.shape.length),r=0;r<t.length-1;++r)t[r]=Math.floor(e/this.strides[r]),e-=t[r]*this.strides[r];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return m().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),m=null,g=null;function v(e){m=e}function _(e){g=e}function x(e){}var y=function(){"use strict";function e(t,r,n,a){(0,i._)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=r||"float32",this.size=d.sizeFromShape(t),this.strides=(0,d.computeStrides)(t),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,c._)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){return(0,s._)(function(){var e;return(0,l._)(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,g.buffer(this.shape,this.dtype,e)]}})}).call(this)}},{key:"bufferSync",value:function(){return g.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){return(0,s._)(function(){var e;return(0,l._)(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,(0,d.toNestedArray)(this.shape,e,"complex64"===this.dtype)]}})}).call(this)}},{key:"arraySync",value:function(){return(0,d.toNestedArray)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){return(0,s._)(function(){var e,t;return(0,l._)(this,function(r){switch(r.label){case 0:if(this.throwIfDisposed(),e=m().read(this.dataId),"string"!==this.dtype)return[3,2];return[4,e];case 1:t=r.sent();try{return[2,t.map(function(e){return d.decodeString(e)})]}catch(e){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}case 2:return[2,e]}})}).call(this)}},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),m().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=m().readSync(this.dataId);if("string"===this.dtype)try{return e.map(function(e){return d.decodeString(e)})}catch(e){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){return(0,s._)(function(){var e;return(0,l._)(this,function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,m().read(this.dataId)];case 1:if(e=t.sent(),"string"===this.dtype)return[2,e];return[2,new Uint8Array(e.buffer)]}})}).call(this)}},{key:"dispose",value:function(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),m().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),g.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return(0,f.tensorToString)(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),g.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),m().makeVariable(this,e,t,r)}}]),e}();function b(){return(0,p.getGlobal)("Tensor",function(){return y})}Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),b();var k=function(e){"use strict";function t(e,r,n,a){var s;return(0,i._)(this,t),(s=(0,o._)(this,t,[e.shape,e.dtype,e.dataId,a])).trainable=r,s.name=n,s}return(0,u._)(t,e),(0,c._)(t,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!d.arraysEqual(e.shape,this.shape))throw Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));m().disposeTensor(this),this.dataId=e.dataId,m().incRef(this,null)}},{key:"dispose",value:function(){m().disposeVariable(this),this.isDisposedInternal=!0}}]),t}(y);Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return e instanceof y&&null!=e.assign&&e.assign instanceof Function}})},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","./global_util":"E9YMB","./tensor_format":"XlfT7","./util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],clpdF:[function(e,t,r,n){"use strict";var a=e("feddc910f69a01a6"),s=e("b644f6b72647b399"),o=e("ba991daace2b8ed9");r._=function(e,t,r){return t=a._(t),o._(e,s._()?Reflect.construct(t,r||[],a._(e).constructor):t.apply(e,r))}},{feddc910f69a01a6:"NOGHw",b644f6b72647b399:"83nDe",ba991daace2b8ed9:"hd12h"}],NOGHw:[function(e,t,r,n){"use strict";function a(e){return r._=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}r._=a},{}],"83nDe":[function(e,t,r,n){"use strict";function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(r._=a=function(){return!!e})()}r._=a},{}],hd12h:[function(e,t,r,n){"use strict";var a=e("f7151fe13994d2aa"),s=e("f18e81760bb14899");r._=function(e,t){return t&&("object"===s._(t)||"function"==typeof t)?t:a._(e)}},{f7151fe13994d2aa:"1tlYe",f18e81760bb14899:"iXhRw"}],"1tlYe":[function(e,t,r,n){"use strict";r._=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},{}],jtSwf:[function(e,t,r,n){"use strict";var a=e("b9db138b859a042c");r._=function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a._(e,t)}},{b9db138b859a042c:"7ubVA"}],"7ubVA":[function(e,t,r,n){"use strict";function a(e,t){return r._=a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}r._=a},{}],XlfT7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensorToString",function(){return i});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("./util");function i(e,t,r,n){var a=(0,o.computeStrides)(t),i=function(e,t,r,n){var a=(0,o.sizeFromShape)(t),s=n[n.length-1],i=Array(s).fill(0),u=t.length,p="complex64"===r?l(e):e;if(u>1)for(var f=0;f<a/s;f++)for(var d=f*s,h=0;h<s;h++)i[h]=Math.max(i[h],c(p[d+h],0,r).length);return i}(e,t,r,a),p=t.length,f=function e(t,r,n,a,o){var i=!(arguments.length>5)||void 0===arguments[5]||arguments[5],p="complex64"===n?2:1,f=r[0],d=r.length;if(0===d)return"complex64"===n?[c(l(t)[0],0,n)]:"bool"===n?[u(t[0])]:[t[0].toString()];if(1===d){if(f>20){var h=Array.from(t.slice(0,3*p)),m=Array.from(t.slice((f-3)*p,f*p));return"complex64"===n&&(h=l(h),m=l(m)),["["+h.map(function(e,t){return c(e,o[t],n)}).join(", ")+", ..., "+m.map(function(e,t){return c(e,o[f-3+t],n)}).join(", ")+"]"]}return["["+("complex64"===n?l(t):Array.from(t)).map(function(e,t){return c(e,o[t],n)}).join(", ")+"]"]}var g=r.slice(1),v=a.slice(1),_=a[0]*p,x=[];if(f>20){for(var y=0;y<3;y++){var b=y*_,k=b+_;x.push.apply(x,(0,s._)(e(t.slice(b,k),g,n,v,o,!1)))}x.push("...");for(var j=f-3;j<f;j++){var w=j*_,I=w+_;x.push.apply(x,(0,s._)(e(t.slice(w,I),g,n,v,o,j===f-1)))}}else for(var T=0;T<f;T++){var S=T*_,N=S+_;x.push.apply(x,(0,s._)(e(t.slice(S,N),g,n,v,o,T===f-1)))}var M=2===d?",":"";x[0]="["+(f>0?x[0]+M:"");for(var C=1;C<x.length-1;C++)x[C]=" "+x[C]+M;for(var E=",\n",F=2;F<d;F++)E+="\n";return x[x.length-1]=" "+x[x.length-1]+"]"+(i?"":E),x}(e,t,r,a,i),d=["Tensor"];return n&&(d.push(" dtype: ".concat(r)),d.push(" rank: ".concat(p)),d.push(" shape: [".concat(t,"]")),d.push(" values:")),d.push(f.map(function(e){return" "+e}).join("\n")),d.join("\n")}function c(e,t,r){var n;return n=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):(0,o.isString)(e)?"'".concat(e,"'"):"bool"===r?u(e):parseFloat(e.toFixed(7)).toString(),(0,o.rightPad)(n,t)}function u(e){return 0===e?"false":"true"}function l(e){for(var t=[],r=0;r<e.length;r+=2)t.push([e[r],e[r+1]]);return t}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","./util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"39ZV0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"makeTypesMatch",function(){return u}),a.export(r,"assertTypesMatch",function(){return l}),a.export(r,"isTensorInList",function(){return p}),a.export(r,"getTensorsInContainer",function(){return f});var s=e("@swc/helpers/cjs/_type_of.cjs"),o=e("./tensor"),i=e("./types"),c=e("./util");function u(e,t){if(e.dtype===t.dtype)return[e,t];var r=(0,i.upcastType)(e.dtype,t.dtype);return[e.cast(r),t.cast(r)]}function l(e,t){(0,c.assert)(e.dtype===t.dtype,function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")})}function p(e,t){return t.some(function(t){return t.id===e.id})}function f(e){var t=[];return function e(t,r,n){if(null!=t){if(t instanceof o.Tensor)return void r.push(t);if(Array.isArray(i=t)||(void 0===i?"undefined":(0,s._)(i))==="object")for(var a in t){var i,c=t[a];n.has(c)||(n.add(c),e(c,r,n))}}}(e,t,new Set),t}},{"@swc/helpers/cjs/_type_of.cjs":"iXhRw","./tensor":"6gbjA","./types":"liYbZ","./util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],liYbZ:[function(e,t,r,n){var a,s,o,i,c,u,l,p,f,d,h=e("@parcel/transformer-js/src/esmodule-helpers.js");h.defineInteropFlag(r),h.export(r,"Rank",function(){return u}),h.export(r,"upcastType",function(){return v}),h.export(r,"sumOutType",function(){return _}),h.export(r,"isWebGLData",function(){return x}),h.export(r,"isWebGPUData",function(){return y});var m=e("@swc/helpers/cjs/_type_of.cjs");(a=u||(u={})).R0="R0",a.R1="R1",a.R2="R2",a.R3="R3",a.R4="R4",a.R5="R5",a.R6="R6",(s=l||(l={})).float32="float32",s.int32="int32",s.bool="int32",s.complex64="complex64",(o=p||(p={})).float32="float32",o.int32="int32",o.bool="bool",o.complex64="complex64",(i=f||(f={})).float32="float32",i.int32="float32",i.bool="float32",i.complex64="complex64",(c=d||(d={})).float32="complex64",c.int32="complex64",c.bool="complex64",c.complex64="complex64";var g={float32:f,int32:l,bool:p,complex64:d};function v(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw Error("Can not upcast ".concat(e," with ").concat(t))}return g[e][t]}function _(e){return v(e,"int32")}function x(e){return null!=e&&(void 0===e?"undefined":(0,m._)(e))==="object"&&"texture"in e&&e.texture instanceof WebGLTexture}function y(e){return"undefined"!=typeof GPUBuffer&&null!=e&&(void 0===e?"undefined":(0,m._)(e))==="object"&&"buffer"in e&&e.buffer instanceof GPUBuffer}},{"@swc/helpers/cjs/_type_of.cjs":"iXhRw","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9AT8z":[function(e,t,r,n){e("./engine");var a=e("./device_util"),s=(0,e("./environment").env)();s.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),s.registerFlag("IS_BROWSER",function(){return a.isBrowser()}),s.registerFlag("IS_NODE",function(){return!1}),s.registerFlag("IS_CHROME",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),s.registerFlag("IS_SAFARI",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)}),s.registerFlag("PROD",function(){return!1}),s.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return s.getBool("DEBUG")}),s.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),s.registerFlag("IS_TEST",function(){return!1}),s.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",function(){return s.getBool("DEBUG")}),s.registerFlag("WRAP_TO_IMAGEBITMAP",function(){return!1}),s.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",function(){return!1}),s.registerFlag("USE_SETTIMEOUTCUSTOM",function(){return!1})},{"./engine":"196sS","./device_util":"35PiO","./environment":"bJoCx"}],"35PiO":[function(e,t,r,n){var a,s=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){a=e}function i(e){if(void 0!==a)return a;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){var r=e;return r.userAgentData&&r.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function c(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}s.defineInteropFlag(r),s.export(r,"mockIsMobile",function(){return o}),s.export(r,"isMobile",function(){return i}),s.export(r,"isBrowser",function(){return c})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],h52CH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PlatformBrowser",function(){return f});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs");e("../flags");var i=e("../environment"),c=e("../io/indexed_db"),u=e("../io/local_storage"),l=e("../io/model_management"),p=e("./is_typed_array_browser"),f=function(){"use strict";function e(){(0,s._)(this,e),this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}return(0,o._)(e,[{key:"fetch",value:function(e,t){return fetch(e,t)}},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}},{key:"setTimeoutCustom",value:function(e,t){var r=this;if("undefined"==typeof window||!(0,i.env)().getBool("USE_SETTIMEOUTCUSTOM"))return void setTimeout(e,t);this.functionRefs.push(e),setTimeout(function(){window.postMessage({name:r.messageName,index:r.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",function(e){e.source===window&&e.data.name===r.messageName&&(e.stopPropagation(),(0,r.functionRefs[e.data.index])(),r.handledMessageCount++,r.handledMessageCount===r.functionRefs.length&&(r.functionRefs=[],r.handledMessageCount=0))},!0))}},{key:"isTypedArray",value:function(e){return(0,p.isTypedArrayBrowser)(e)}}]),e}();if((0,i.env)().get("IS_BROWSER")){(0,i.env)().setPlatform("browser",new f);try{l.ModelStoreManagerRegistry.registerManager(u.BrowserLocalStorage.URL_SCHEME,new(0,u.BrowserLocalStorageManager))}catch(e){}try{l.ModelStoreManagerRegistry.registerManager(c.BrowserIndexedDB.URL_SCHEME,new(0,c.BrowserIndexedDBManager))}catch(e){}}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","../flags":"9AT8z","../environment":"bJoCx","../io/indexed_db":"8p6gA","../io/local_storage":"j4JKE","../io/model_management":"7lohN","./is_typed_array_browser":"18zzh","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8p6gA":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"deleteDatabase",function(){return g}),a.export(r,"BrowserIndexedDB",function(){return x}),a.export(r,"indexedDBRouter",function(){return y}),a.export(r,"browserIndexedDB",function(){return b}),a.export(r,"BrowserIndexedDBManager",function(){return k});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs");e("../flags");var u=e("../environment"),l=e("./io_utils"),p=e("./router_registry"),f=e("./composite_array_buffer"),d="tensorflowjs",h="models_store",m="model_info_store";function g(){return(0,s._)(function(){var e;return(0,c._)(this,function(t){return e=v(),[2,new Promise(function(t,r){var n=e.deleteDatabase(d);n.onsuccess=function(){return t()},n.onerror=function(e){return r(e)}})]})})()}function v(){if(!(0,u.env)().getBool("IS_BROWSER"))throw Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw Error("The current browser does not appear to support IndexedDB.");return t}function _(e){var t=e.result;t.createObjectStore(h,{keyPath:"modelPath"}),t.createObjectStore(m,{keyPath:"modelPath"})}var x=function(){"use strict";function e(t){if((0,o._)(this,e),this.indexedDB=v(),null==t||!t)throw Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,i._)(e,[{key:"save",value:function(e){return(0,s._)(function(){return(0,c._)(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})}).call(this)}},{key:"load",value:function(){return(0,s._)(function(){return(0,c._)(this,function(e){return[2,this.databaseAction(this.modelPath)]})}).call(this)}},{key:"databaseAction",value:function(e,t){var r=this;return new Promise(function(e,n){var a=r.indexedDB.open(d,1);a.onupgradeneeded=function(){return _(a)},a.onsuccess=function(){var s=a.result;if(null==t){var o=s.transaction(h,"readonly"),i=o.objectStore(h).get(r.modelPath);i.onsuccess=function(){if(null==i.result)return s.close(),n(Error("Cannot find model with path '".concat(r.modelPath,"' ")+"in IndexedDB."));e(i.result.modelArtifacts)},i.onerror=function(e){return s.close(),n(i.error)},o.oncomplete=function(){return s.close()}}else{t.weightData=f.CompositeArrayBuffer.join(t.weightData);var c,u,p=(0,l.getModelArtifactsInfoForJSON)(t),d=s.transaction(m,"readwrite"),g=d.objectStore(m);try{c=g.put({modelPath:r.modelPath,modelArtifactsInfo:p})}catch(e){return n(e)}c.onsuccess=function(){var a,o=(u=s.transaction(h,"readwrite")).objectStore(h);try{a=o.put({modelPath:r.modelPath,modelArtifacts:t,modelArtifactsInfo:p})}catch(e){return n(e)}a.onsuccess=function(){return e({modelArtifactsInfo:p})},a.onerror=function(e){var t=(g=d.objectStore(m)).delete(r.modelPath);t.onsuccess=function(){return s.close(),n(a.error)},t.onerror=function(e){return s.close(),n(a.error)}}},c.onerror=function(e){return s.close(),n(c.error)},d.oncomplete=function(){null==u?s.close():u.oncomplete=function(){return s.close()}}}},a.onerror=function(e){return n(a.error)}})}}]),e}();x.URL_SCHEME="indexeddb://";var y=function(e){return(0,u.env)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(x.URL_SCHEME)?b(e.slice(x.URL_SCHEME.length)):null};function b(e){return new x(e)}p.IORouterRegistry.registerSaveRouter(y),p.IORouterRegistry.registerLoadRouter(y);var k=function(){"use strict";function e(){(0,o._)(this,e),this.indexedDB=v()}return(0,i._)(e,[{key:"listModels",value:function(){return(0,s._)(function(){var e;return(0,c._)(this,function(t){return e=this,[2,new Promise(function(t,r){var n=e.indexedDB.open(d,1);n.onupgradeneeded=function(){return _(n)},n.onsuccess=function(){var e=n.result,a=e.transaction(m,"readonly"),s=a.objectStore(m).getAll();s.onsuccess=function(){var e={},r=!0,n=!1,a=void 0;try{for(var o,i=s.result[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var c=o.value;e[c.modelPath]=c.modelArtifactsInfo}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}t(e)},s.onerror=function(t){return e.close(),r(s.error)},a.oncomplete=function(){return e.close()}},n.onerror=function(e){return r(n.error)}})]})}).call(this)}},{key:"removeModel",value:function(e){return(0,s._)(function(){var t;return(0,c._)(this,function(r){var n;return t=this,e=(n=e).startsWith(x.URL_SCHEME)?n.slice(x.URL_SCHEME.length):n,[2,new Promise(function(r,n){var a=t.indexedDB.open(d,1);a.onupgradeneeded=function(){return _(a)},a.onsuccess=function(){var t,s=a.result,o=s.transaction(m,"readwrite"),i=o.objectStore(m),c=i.get(e);c.onsuccess=function(){if(null==c.result)return s.close(),n(Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));var a=i.delete(e),o=function(){var a=(t=s.transaction(h,"readwrite")).objectStore(h).delete(e);a.onsuccess=function(){return r(c.result.modelArtifactsInfo)},a.onerror=function(e){return n(c.error)}};a.onsuccess=o,a.onerror=function(e){return o(),s.close(),n(c.error)}},c.onerror=function(e){return s.close(),n(c.error)},o.oncomplete=function(){null==t?s.close():t.oncomplete=function(){return s.close()}}},a.onerror=function(e){return n(a.error)}})]})}).call(this)}}]),e}()},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../flags":"9AT8z","../environment":"bJoCx","./io_utils":"4iN9Y","./router_registry":"gDNEG","./composite_array_buffer":"jvAqk","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4iN9Y":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"encodeWeights",function(){return g}),a.export(r,"decodeWeights",function(){return v}),a.export(r,"decodeWeightsStream",function(){return y}),a.export(r,"concatenateTypedArrays",function(){return b}),a.export(r,"stringByteLength",function(){return j}),a.export(r,"arrayBufferToBase64String",function(){return w}),a.export(r,"base64StringToArrayBuffer",function(){return I}),a.export(r,"concatenateArrayBuffers",function(){return T}),a.export(r,"basename",function(){return S}),a.export(r,"getModelJSONForModelArtifacts",function(){return N}),a.export(r,"getModelArtifactsForJSONSync",function(){return M}),a.export(r,"getModelArtifactsForJSON",function(){return C}),a.export(r,"getModelArtifactsInfoForJSON",function(){return E}),a.export(r,"getWeightSpecs",function(){return F}),a.export(r,"getFloat16Decoder",function(){return A});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("@swc/helpers/cjs/_to_consumable_array.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs"),u=e("../ops/complex"),l=e("../ops/tensor"),p=e("../util"),f=e("./types"),d=e("./composite_array_buffer"),h=e("../globals"),m=e("../environment");function g(e,t){return(0,s._)(function(){var r,n,a,o,i;return(0,c._)(this,function(u){switch(u.label){case 0:for(i=0,r=function(r){var i=o[r],u=Array.isArray(e)?e[r].tensor:e[i];if("float32"!==u.dtype&&"int32"!==u.dtype&&"bool"!==u.dtype&&"string"!==u.dtype&&"complex64"!==u.dtype)throw Error("Unsupported dtype in weight '".concat(i,"': ").concat(u.dtype));var l={name:i,shape:u.shape,dtype:u.dtype};if("string"===u.dtype){var p=new Promise(function(e){return(0,s._)(function(){var t,r,n,a,s,o;return(0,c._)(this,function(i){switch(i.label){case 0:return[4,u.bytes()];case 1:for(a=0,r=new Uint8Array((t=i.sent()).reduce(function(e,t){return e+t.length},0)+4*t.length),n=0;a<t.length;a++)o=new Uint8Array(new Uint32Array([(s=t[a]).length]).buffer),r.set(o,n),n+=4,r.set(s,n),n+=s.length;return e(r),[2]}})})()});a.push(p)}else a.push(u.data());null!=t&&(l.group=t),n.push(l)},n=[],a=[],o=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);i<o.length;++i)r(i);return[4,Promise.all(a)];case 1:return[2,{data:b(u.sent()),specs:n}]}})})()}function v(e,t){var r=new(0,d.CompositeArrayBuffer)(e),n={},a=0,s=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var l=c.value,h=function(e,t){var r,n=(0,p.sizeFromShape)(e.shape);if("quantization"in e){var a=e.quantization;r=f.DTYPE_VALUE_SIZE_MAP[a.dtype]}else if("string"===e.dtype){for(var s=0,o=0;o<n;o++)s+=4+new Uint32Array(t(s,s+4))[0];return s}else r=f.DTYPE_VALUE_SIZE_MAP[e.dtype];return n*r}(l,function(e,t){return r.slice(a+e,a+t)});n[l.name]=_(l,r.slice(a,a+h)),a+=h}}catch(e){o=!0,i=e}finally{try{s||null==u.return||u.return()}finally{if(o)throw i}}return n}function _(e,t){var r,n=e.name,a=e.dtype,s=e.shape,o=(0,p.sizeFromShape)(s),i=0;if("quantization"in e){var c=e.quantization;if("uint8"===c.dtype||"uint16"===c.dtype){if(!("min"in c&&"scale"in c))throw Error("Weight ".concat(e.name," with quantization ").concat(c.dtype," ")+"doesn't have corresponding metadata min and scale.")}else if("float16"===c.dtype){if("float32"!==a)throw Error("Weight ".concat(e.name," is quantized with ").concat(c.dtype," ")+"which only supports weights of type float32 not ".concat(a,"."))}else throw Error("Weight ".concat(e.name," has unknown ")+"quantization dtype ".concat(c.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");var d=f.DTYPE_VALUE_SIZE_MAP[c.dtype],h="uint8"===c.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===a)if("uint8"===c.dtype||"uint16"===c.dtype){r=new Float32Array(h.length);for(var m=0;m<h.length;m++){var g=h[m];r[m]=g*c.scale+c.min}}else if("float16"===c.dtype)r=A()(h);else throw Error("Unsupported quantization type ".concat(c.dtype," ")+"for weight type float32.");else if("int32"===a){if("uint8"!==c.dtype&&"uint16"!==c.dtype)throw Error("Unsupported quantization type ".concat(c.dtype," ")+"for weight type int32.");r=new Int32Array(h.length);for(var v=0;v<h.length;v++){var _=h[v];r[v]=Math.round(_*c.scale+c.min)}}else throw Error("Unsupported dtype in weight '".concat(n,"': ").concat(a));i+=o*d}else if("string"===a){var x=(0,p.sizeFromShape)(e.shape);r=[];for(var y=0;y<x;y++){var b=new Uint32Array(t.slice(i,i+4))[0];i+=4;var k=new Uint8Array(t.slice(i,i+b));r.push(k),i+=b}}else{var j=f.DTYPE_VALUE_SIZE_MAP[a];if("float32"===a)r=new Float32Array(t);else if("int32"===a)r=new Int32Array(t);else if("bool"===a)r=new Uint8Array(t);else if("complex64"===a){r=new Float32Array(t);for(var w=new Float32Array(r.length/2),I=new Float32Array(r.length/2),T=0;T<w.length;T++)w[T]=r[2*T],I[T]=r[2*T+1];var S=(0,l.tensor)(w,s,"float32"),N=(0,l.tensor)(I,s,"float32"),M=(0,u.complex)(S,N);return S.dispose(),N.dispose(),M}else throw Error("Unsupported dtype in weight '".concat(n,"': ").concat(a));i+=o*j}return(0,l.tensor)(r,s,a)}function x(e,t,r){return(0,s._)(function(){var n,a,s,o,i,u;return(0,c._)(this,function(c){switch(c.label){case 0:n=new Uint8Array(t),c.label=1;case 1:if(!(n.byteLength<r))return[3,3];return[4,e.read()];case 2:if(s=(a=c.sent()).done,o=a.value,s&&null==o)throw i=r-n.byteLength,Error("Reader is done but ".concat(i," bytes are still expected"));return(u=new Uint8Array(n.length+o.byteLength)).set(n,0),u.set(new Uint8Array(o),n.length),n=u,[3,1];case 3:return[2,n.buffer]}})})()}function y(e,t){return(0,s._)(function(){var r,n,a,o,i,u,l,d,g,v,y,b,k,j;return(0,c._)(this,function(w){switch(w.label){case 0:r={},n=e.getReader(),a=new ArrayBuffer(0),o=!0,i=!1,u=void 0,w.label=1;case 1:w.trys.push([1,7,8,9]),l=t[Symbol.iterator](),w.label=2;case 2:var I,T;if(o=(d=l.next()).done)return[3,6];return[4,(I=g=d.value,T=function(e,t){return(0,s._)(function(){return(0,c._)(this,function(r){switch(r.label){case 0:return[4,x(n,a,t)];case 1:return[2,(a=r.sent()).slice(e,t)]}})})()},(0,s._)(function(){var e,t,r,n,a,s;return(0,c._)(this,function(o){switch(o.label){case 0:if(e=(0,p.sizeFromShape)(I.shape),!("quantization"in I))return[3,1];return r=I.quantization,t=f.DTYPE_VALUE_SIZE_MAP[r.dtype],[3,7];case 1:if("string"!==I.dtype)return[3,6];n=0,a=0,o.label=2;case 2:if(!(a<e))return[3,5];return s=Uint32Array.bind,[4,T(n,n+4)];case 3:n+=4+(new(s.apply(Uint32Array,[void 0,o.sent()])))[0],o.label=4;case 4:return a++,[3,2];case 5:return[2,n];case 6:t=f.DTYPE_VALUE_SIZE_MAP[I.dtype],o.label=7;case 7:return[2,e*t]}})})())];case 3:return v=w.sent(),[4,x(n,a,v)];case 4:y=(a=w.sent()).slice(0,v),a=a.slice(v),b=_(g,y),r[g.name]=b,"webgpu"===(0,h.getBackend)()&&"uploadToGPU"in(k=(0,h.backend)())&&(0,p.sizeFromShape)(b.shape)>=(0,m.env)().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&k.uploadToGPU(b.dataId),w.label=5;case 5:return o=!0,[3,2];case 6:return[3,9];case 7:return j=w.sent(),i=!0,u=j,[3,9];case 8:try{o||null==l.return||l.return()}finally{if(i)throw u}return[7];case 9:return[2,r]}})})()}function b(e){if(null===e)throw Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,r=[];e.forEach(function(e){if(t+=e.byteLength,r.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))});var n=new Uint8Array(t),a=0;return r.forEach(function(e){n.set(new Uint8Array(e.buffer),a),a+=e.byteLength}),n.buffer}var k="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function j(e){return k?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function w(e){if(k)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),r="",n=0,a=t.length;n<a;n++)r+=String.fromCharCode(t[n]);return btoa(r)}function I(e){if(k){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var r=atob(e),n=new Uint8Array(r.length),a=0;a<r.length;++a)n.set([r.charCodeAt(a)],a);return n.buffer}function T(e){return d.CompositeArrayBuffer.join(e)}function S(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function N(e,t){var r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),r}function M(e,t,r){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw Error("modelJSON has weightsManifest but weightSpecs is null");if(!r)throw Error("modelJSON has weightsManifest but weightData is null");n.weightSpecs=t,n.weightData=r}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),n}function C(e,t){return(0,s._)(function(){var r,n,a;return(0,c._)(this,function(s){switch(s.label){case 0:if(null==e.weightsManifest)return[3,2];return[4,t(e.weightsManifest)];case 1:r=(a=o._.apply(void 0,[s.sent(),2]))[0],n=a[1],s.label=2;case 2:return[2,M(e,r,n)]}})})()}function E(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:j(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:j(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new(0,d.CompositeArrayBuffer)(e.weightData).byteLength}}function F(e){var t=[],r=!0,n=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var c=s.value;t.push.apply(t,(0,i._)(c.weights))}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t}function A(){var e=function(){var e=new Uint32Array(2048);e[0]=0;for(var t=1;t<1024;t++)e[t]=function(e){for(var t=e<<13,r=0;(8388608&t)==0;)r-=8388608,t<<=1;return(t&=-8388609)|(r+=0x38800000)}(t);for(var r=1024;r<2048;r++)e[r]=0x38000000+(r-1024<<13);return e}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=0x47800000,e[32]=0x80000000,e[63]=0xc7800000;for(var t=1;t<31;t++)e[t]=t<<23;for(var r=33;r<63;r++)e[r]=0x80000000+(r-32<<23);return e}(),r=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(n){for(var a=new ArrayBuffer(4*n.length),s=new Uint32Array(a),o=0;o<n.length;o++){var i=n[o],c=e[r[i>>10]+(1023&i)]+t[i>>10];s[o]=c}return new Float32Array(a)}}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../ops/complex":"dG4kr","../ops/tensor":"ajVSA","../util":"pzc9n","./types":"hY1iL","./composite_array_buffer":"jvAqk","../globals":"eqUUw","../environment":"bJoCx","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dG4kr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"complex",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({complex_:function(e,t){var r=(0,i.convertToTensor)(e,"real","complex"),n=(0,i.convertToTensor)(t,"imag","complex");return c.assertShapesMatch(r.shape,n.shape,"real and imag shapes, ".concat(r.shape," and ").concat(n.shape,", ")+"must match in call to tf.complex()."),s.ENGINE.runKernel(o.Complex,{real:r,imag:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gGMh6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"inferShape",function(){return p}),a.export(r,"convertToTensor",function(){return d}),a.export(r,"convertToTensorArray",function(){return h});var s=e("./engine"),o=e("./environment"),i=e("./tensor"),c=e("./types"),u=e("./util"),l=e("./util_base");function p(e,t){var r=e;if((0,u.isTypedArray)(e))return"string"===t?[]:[e.length];if((0,c.isWebGLData)(e)){var n=e.channels||"RGBA";return[e.height,e.width*n.length]}if((0,c.isWebGPUData)(e))return[e.buffer.size/(null==t?4:(0,l.bytesPerElement)(t))];if(!Array.isArray(e))return[];for(var a=[];Array.isArray(r)||(0,u.isTypedArray)(r)&&"string"!==t;)a.push(r.length),r=r[0];return Array.isArray(e)&&(0,o.env)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,r,n){if(n=n||[],!Array.isArray(t)&&!(0,u.isTypedArray)(t))return void(0,u.assert)(0===r.length,function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(r[0]," elements")});(0,u.assert)(r.length>0,function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(t.length," elements")}),(0,u.assert)(t.length===r[0],function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(r[0]," ")+"elements, but has ".concat(t.length," elements")});for(var a=r.slice(1),s=0;s<t.length;++s)e(t[s],a,n.concat(s))}(e,a,[]),a}function f(e,t,r,n){if("string_or_numeric"!==e){if(null==e)throw Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw Error("Argument '".concat(r,"' passed to '").concat(n,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function d(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof(0,i.getGlobalTensorClass)())return f(n,e.dtype,t,r),e;var a=(0,u.inferDtype)(e);if("string"!==a&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),f(n,a,t,r),null==e||!(0,u.isTypedArray)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var o=null==e?"null":e.constructor.name;throw Error("Argument '".concat(t,"' passed to '").concat(r,"' must be a ")+"Tensor or TensorLike, but got '".concat(o,"'"))}var c=p(e,a);(0,u.isTypedArray)(e)||Array.isArray(e)||(e=[e]);var l="string"!==a?(0,u.toTypedArray)(e,a):(0,u.flatten)(e,[],!0);return s.ENGINE.makeTensor(l,c,a)}function h(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw Error("Argument ".concat(t," passed to ").concat(r," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(function(e,a){return d(e,"".concat(t,"[").concat(a,"]"),r,n)})}},{"./engine":"196sS","./environment":"bJoCx","./tensor":"6gbjA","./types":"liYbZ","./util":"pzc9n","./util_base":"3jQov","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2e73h":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"OP_SCOPE_SUFFIX",function(){return c}),a.export(r,"op",function(){return u});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("../engine"),i=e("../util"),c="__op";function u(e){var t=Object.keys(e);if(1!==t.length)throw Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var r=t[0],n=e[r];r.endsWith("_")&&(r=r.substring(0,r.length-1));var a=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];o.ENGINE.startScope(r);try{var c=n.apply(void 0,(0,s._)(t));return(0,i.isPromise)(c)&&console.error("Cannot return a Promise inside of tidy."),o.ENGINE.endScope(c),c}catch(e){throw o.ENGINE.endScope(null),e}};return Object.defineProperty(a,"name",{value:r+=c,configurable:!0}),a}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","../engine":"196sS","../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ajVSA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor",function(){return i});var s=e("../tensor_util_env"),o=e("./tensor_ops_util");function i(e,t,r){var n=(0,s.inferShape)(e,r);return(0,o.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"gGMh6","./tensor_ops_util":"h8l3u","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],h8l3u:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"makeTensor",function(){return c});var s=e("../engine"),o=e("../types"),i=e("../util");function c(e,t,r,n){if(null==n)n=(0,i.inferDtype)(e);else if("complex64"===n)throw Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if((0,o.isWebGPUData)(e)||(0,o.isWebGLData)(e)){if("float32"!==n&&"int32"!==n)throw Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(n,"."));return s.ENGINE.backend.createTensorFromGPUData(e,t||r,n)}if(!(0,i.isTypedArray)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,i.assertNonNegativeIntegerDimensions)(t);var a=(0,i.sizeFromShape)(t),c=(0,i.sizeFromShape)(r);(0,i.assert)(a===c,function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(a," values but has ").concat(c)});for(var u=0;u<r.length;++u){var l=r[u],p=u!==r.length-1||l!==(0,i.sizeFromShape)(t.slice(u));(0,i.assert)(r[u]===t[u]||!p,function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(r,") does not match the provided ")+"shape (".concat(t,"). ")})}}return(0,i.isTypedArray)(e)||Array.isArray(e)||(e=[e]),t=t||r,e="string"!==n?(0,i.toTypedArray)(e,n):(0,i.flatten)(e,[],!0),s.ENGINE.makeTensor(e,t,n)}},{"../engine":"196sS","../types":"liYbZ","../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hY1iL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DTYPE_VALUE_SIZE_MAP",function(){return s});var s={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jvAqk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CompositeArrayBuffer",function(){return c}),a.export(r,"search",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("../util"),c=function(){"use strict";function e(t){if(((0,s._)(this,e),this.shards=[],this.previousShardIndex=0,null!=t)&&(t instanceof Array||(t=[t]),0!==(t=t.map(function(e){return i.isTypedArray(e)?e.buffer:e})).length)){this.bufferUniformSize=t[0].byteLength;for(var r=0,n=0;n<t.length;n++){var a=t[n];n!==t.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);var o=r+a.byteLength;this.shards.push({buffer:a,start:r,end:o}),r=o}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}}return(0,o._)(e,[{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length||(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e))return new ArrayBuffer(0);var r=this.findShardForByte(e);if(-1===r)throw Error("Could not find start shard for byte ".concat(e));for(var n=new ArrayBuffer(t-e),a=new Uint8Array(n),s=0,o=r;o<this.shards.length;o++){var i=this.shards[o],c=e+s-i.start,u=s,l=Math.min(t,i.end)-i.start,p=new Uint8Array(i.buffer,c,l-c);if(a.set(p,u),s+=p.length,t<i.end)break}return n}},{key:"findShardForByte",value:function(e){if(0===this.shards.length||e<0||e>=this.byteLength)return -1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:+(e>=t.end)}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;var r=u(this.shards,t);return -1===r?-1:(this.previousShardIndex=r,this.previousShardIndex)}}],[{key:"join",value:function(t){return new e(t).slice()}}]),e}();function u(e,t){for(var r=0,n=e.length;r<=n;){var a=Math.floor((n-r)/2)+r,s=t(e[a]);if(0===s)return a;s<0?n=a:r=a+1}return -1}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eqUUw:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"enableProdMode",function(){return u}),a.export(r,"enableDebugMode",function(){return l}),a.export(r,"disableDeprecationWarnings",function(){return p}),a.export(r,"deprecationWarn",function(){return f}),a.export(r,"disposeVariables",function(){return d}),a.export(r,"engine",function(){return h}),a.export(r,"memory",function(){return m}),a.export(r,"profile",function(){return g}),a.export(r,"tidy",function(){return v}),a.export(r,"dispose",function(){return _}),a.export(r,"keep",function(){return x}),a.export(r,"time",function(){return y}),a.export(r,"setBackend",function(){return b}),a.export(r,"ready",function(){return k}),a.export(r,"getBackend",function(){return j}),a.export(r,"removeBackend",function(){return w}),a.export(r,"findBackend",function(){return I}),a.export(r,"findBackendFactory",function(){return T}),a.export(r,"registerBackend",function(){return S}),a.export(r,"backend",function(){return N}),a.export(r,"setPlatform",function(){return M});var s=e("./engine"),o=e("./environment"),i=e("./tensor"),c=e("./tensor_util");function u(){(0,o.env)().set("PROD",!0)}function l(){(0,o.env)().set("DEBUG",!0)}function p(){(0,o.env)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function f(e){(0,o.env)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function d(){s.ENGINE.disposeVariables()}function h(){return s.ENGINE}function m(){return s.ENGINE.memory()}function g(e){return s.ENGINE.profile(e)}function v(e,t){return s.ENGINE.tidy(e,t)}function _(e){(0,c.getTensorsInContainer)(e).forEach(function(e){return e.dispose()})}function x(e){return s.ENGINE.keep(e)}function y(e){return s.ENGINE.time(e)}function b(e){return s.ENGINE.setBackend(e)}function k(){return s.ENGINE.ready()}function j(){return s.ENGINE.backendName}function w(e){s.ENGINE.removeBackend(e)}function I(e){return s.ENGINE.findBackend(e)}function T(e){return s.ENGINE.findBackendFactory(e)}function S(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return s.ENGINE.registerBackend(e,t,r)}function N(){return s.ENGINE.backend}function M(e,t){(0,o.env)().setPlatform(e,t)}(0,i.setDeprecationWarningFn)(f)},{"./engine":"196sS","./environment":"bJoCx","./tensor":"6gbjA","./tensor_util":"39ZV0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gDNEG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"IORouterRegistry",function(){return i}),a.export(r,"registerSaveRouter",function(){return c}),a.export(r,"registerLoadRouter",function(){return u}),a.export(r,"getSaveHandlers",function(){return l}),a.export(r,"getLoadHandlers",function(){return p});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=function(){"use strict";function e(){(0,s._)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,o._)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,r){return e.getHandlers(t,"load",r)}},{key:"getHandlers",value:function(t,r,n){var a=[];return("load"===r?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(e){var r=e(t,n);null!==r&&a.push(r)}),a}}]),e}(),c=function(e){return i.registerSaveRouter(e)},u=function(e){return i.registerLoadRouter(e)},l=function(e){return i.getSaveHandlers(e)},p=function(e,t){return i.getLoadHandlers(e,t)}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],j4JKE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"purgeLocalStorageArtifacts",function(){return g}),a.export(r,"BrowserLocalStorage",function(){return y}),a.export(r,"localStorageRouter",function(){return b}),a.export(r,"browserLocalStorage",function(){return k}),a.export(r,"BrowserLocalStorageManager",function(){return j});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs");e("../flags");var u=e("../environment"),l=e("../util"),p=e("./io_utils"),f=e("./composite_array_buffer"),d=e("./router_registry"),h="tensorflowjs_models",m="info";function g(){if(!(0,u.env)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw Error("purgeLocalStorageModels() cannot proceed because local storage is unavailable in the current environment.");for(var e=window.localStorage,t=[],r=0;r<e.length;++r){var n=e.key(r),a=h+"/";if(n.startsWith(a)&&n.length>a.length){e.removeItem(n);var s=x(n);-1===t.indexOf(s)&&t.push(s)}}return t}function v(e){return{info:[h,e,m].join("/"),topology:[h,e,"model_topology"].join("/"),weightSpecs:[h,e,"weight_specs"].join("/"),weightData:[h,e,"weight_data"].join("/"),modelMetadata:[h,e,"model_metadata"].join("/")}}function _(e){var t=!0,r=!1,n=void 0;try{for(var a,s=Object.values(e)[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var o=a.value;window.localStorage.removeItem(o)}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}function x(e){var t=e.split("/");if(t.length<3)throw Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join("/")}var y=function(){"use strict";function e(t){if((0,o._)(this,e),!(0,u.env)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=v(this.modelPath)}return(0,i._)(e,[{key:"save",value:function(e){return(0,s._)(function(){var t,r,n,a,s;return(0,c._)(this,function(o){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),n=(0,p.getModelArtifactsInfoForJSON)(e),a=f.CompositeArrayBuffer.join(e.weightData);try{return this.LS.setItem(this.keys.info,JSON.stringify(n)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,(0,p.arrayBufferToBase64String)(a)),s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),[2,{modelArtifactsInfo:n}]}catch(e){throw _(this.keys),Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(n.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(n.weightSpecsBytes,", ")+"weightDataBytes=".concat(n.weightDataBytes,"."))}})}).call(this)}},{key:"load",value:function(){return(0,s._)(function(){var e,t,r,n,a,s,o;return(0,c._)(this,function(i){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if("JSON"!==e.modelTopologyType)throw Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(r=JSON.parse(this.LS.getItem(this.keys.topology))))throw Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");if(t.modelTopology=r,null==(n=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");if(t.weightSpecs=n,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(t.format=(s=JSON.parse(a)).format,t.generatedBy=s.generatedBy,t.convertedBy=s.convertedBy,null!=s.signature&&(t.signature=s.signature),null!=s.userDefinedMetadata&&(t.userDefinedMetadata=s.userDefinedMetadata),null!=s.modelInitializer&&(t.modelInitializer=s.modelInitializer),null!=s.initializerSignature&&(t.initializerSignature=s.initializerSignature),null!=s.trainingConfig&&(t.trainingConfig=s.trainingConfig)),null==(o=this.LS.getItem(this.keys.weightData)))throw Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return t.weightData=(0,p.base64StringToArrayBuffer)(o),[2,t]})}).call(this)}}]),e}();y.URL_SCHEME="localstorage://";var b=function(e){return(0,u.env)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(y.URL_SCHEME)?k(e.slice(y.URL_SCHEME.length)):null};function k(e){return new y(e)}d.IORouterRegistry.registerSaveRouter(b),d.IORouterRegistry.registerLoadRouter(b);var j=function(){"use strict";function e(){(0,o._)(this,e),(0,l.assert)((0,u.env)().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),(0,l.assert)("undefined"==typeof window||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return(0,i._)(e,[{key:"listModels",value:function(){return(0,s._)(function(){var e,t,r,n,a;return(0,c._)(this,function(s){for(n=0,e={},t=h+"/",r="/"+m;n<this.LS.length;++n)(a=this.LS.key(n)).startsWith(t)&&a.endsWith(r)&&(e[x(a)]=JSON.parse(this.LS.getItem(a)));return[2,e]})}).call(this)}},{key:"removeModel",value:function(e){return(0,s._)(function(){var t,r;return(0,c._)(this,function(n){var a;if(t=v(e=(a=e).startsWith(y.URL_SCHEME)?a.slice(y.URL_SCHEME.length):a),null==this.LS.getItem(t.info))throw Error("Cannot find model at path '".concat(e,"'"));return r=JSON.parse(this.LS.getItem(t.info)),_(t),[2,r]})}).call(this)}}]),e}()},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../flags":"9AT8z","../environment":"bJoCx","../util":"pzc9n","./io_utils":"4iN9Y","./composite_array_buffer":"jvAqk","./router_registry":"gDNEG","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7lohN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ModelStoreManagerRegistry",function(){return p}),a.export(r,"moveModel",function(){return v}),a.export(r,"copyModel",function(){return g}),a.export(r,"removeModel",function(){return m}),a.export(r,"listModels",function(){return h});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs"),u=e("../util"),l=e("./router_registry"),p=function(){"use strict";function e(){(0,o._)(this,e),this.managers={}}return(0,i._)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,r){(0,u.assert)(null!=t,function(){return"scheme must not be undefined or null."}),t.endsWith("://")&&(t=t.slice(0,t.indexOf("://"))),(0,u.assert)(t.length>0,function(){return"scheme must not be an empty string."});var n=e.getInstance();(0,u.assert)(null==n.managers[t],function(){return"A model store manager is already registered for scheme '".concat(t,"'.")}),n.managers[t]=r}},{key:"getManager",value:function(t){var r=e.getInstance().managers[t];if(null==r)throw Error("Cannot find model manager for scheme '".concat(t,"'"));return r}},{key:"getSchemes",value:function(){return Object.keys(e.getInstance().managers)}}]),e}();function f(e){if(-1===e.indexOf("://"))throw Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(p.getSchemes().join(",")));return{scheme:e.split("://")[0],path:e.split("://")[1]}}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s._)(function(){var n,a,s,o,i,d,h,m,g;return(0,c._)(this,function(c){switch(c.label){case 0:return(0,u.assert)(e!==t,function(){return"Old path and new path are the same: '".concat(e,"'")}),n=l.IORouterRegistry.getLoadHandlers(e),(0,u.assert)(n.length>0,function(){return"Copying failed because no load handler is found for source URL ".concat(e,".")}),(0,u.assert)(n.length<2,function(){return"Copying failed because more than one (".concat(n.length,") ")+"load handlers for source URL ".concat(e,".")}),a=n[0],s=l.IORouterRegistry.getSaveHandlers(t),(0,u.assert)(s.length>0,function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(t,".")}),(0,u.assert)(s.length<2,function(){return"Copying failed because more than one (".concat(n.length,") ")+"save handlers for destination URL ".concat(t,".")}),o=s[0],i=f(e).scheme,d=f(e).path,h=i===f(e).scheme,[4,a.load()];case 1:if(m=c.sent(),!(r&&h))return[3,3];return[4,p.getManager(i).removeModel(d)];case 2:c.sent(),c.label=3;case 3:return[4,o.save(m)];case 4:if(g=c.sent(),!(r&&!h))return[3,6];return[4,p.getManager(i).removeModel(d)];case 5:c.sent(),c.label=6;case 6:return[2,g.modelArtifactsInfo]}})})()}function h(){return(0,s._)(function(){var e,t,r,n,a,s,o,i,u,l;return(0,c._)(this,function(c){switch(c.label){case 0:e=p.getSchemes(),t={},r=!0,n=!1,a=void 0,c.label=1;case 1:c.trys.push([1,6,7,8]),s=e[Symbol.iterator](),c.label=2;case 2:if(r=(o=s.next()).done)return[3,5];return i=o.value,[4,p.getManager(i).listModels()];case 3:for(var f in u=c.sent())t[i+"://"+f]=u[f];c.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return l=c.sent(),n=!0,a=l,[3,8];case 7:try{r||null==s.return||s.return()}finally{if(n)throw a}return[7];case 8:return[2,t]}})})()}function m(e){return(0,s._)(function(){var t;return(0,c._)(this,function(r){return t=f(e),[2,p.getManager(t.scheme).removeModel(t.path)]})})()}function g(e,t){return(0,s._)(function(){return(0,c._)(this,function(r){return[2,d(e,t,!1)]})})()}function v(e,t){return(0,s._)(function(){return(0,c._)(this,function(r){return[2,d(e,t,!0)]})})()}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../util":"pzc9n","./router_registry":"gDNEG","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gKufJ:[function(e,t,r,n){var a,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"getNodeFetch",function(){return u}),s.export(r,"resetSystemFetch",function(){return l}),s.export(r,"setSystemFetch",function(){return p}),s.export(r,"getSystemFetch",function(){return f}),s.export(r,"PlatformNode",function(){return d});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("../environment"),u={importFetch:function(){return e("dfcdb939bb56fbb8")}};function l(){a=null}function p(e){a=e}function f(){return a}var d=function(){"use strict";function t(){(0,o._)(this,t),this.util=e("3818a9dc927c4605"),this.textEncoder=new this.util.TextEncoder}return(0,i._)(t,[{key:"fetch",value:function(e,t){return null!=(0,c.env)().global.fetch?(0,c.env)().global.fetch(e,t):(null==a&&(a=u.importFetch()),a(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}},{key:"isTypedArray",value:function(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}]),t}();(0,c.env)().get("IS_NODE")&&!(0,c.env)().get("IS_BROWSER")&&(0,c.env)().setPlatform("node",new d)},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","../environment":"bJoCx",dfcdb939bb56fbb8:"5s8q3","3818a9dc927c4605":"5s8q3","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5s8q3":[function(e,t,r,n){},{}],fzwwJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"buffer",function(){return i});var s=e("../tensor"),o=e("../util");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2?arguments[2]:void 0;return t=t||"float32",o.assertNonNegativeIntegerDimensions(e),new(0,s.TensorBuffer)(e,t,r)}},{"../tensor":"6gbjA","../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lsee3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cast",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({cast_:function(e,t){var r=(0,i.convertToTensor)(e,"x","cast");if(!c.isValidDtype(t))throw Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==r.dtype||"string"!==t&&"string"===r.dtype)throw Error("Only strings can be casted to strings");return s.ENGINE.runKernel(o.Cast,{x:r},{dtype:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cGuJy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clone",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({clone_:function(e){var t=(0,i.convertToTensor)(e,"x","clone","string_or_numeric");return s.ENGINE.runKernel(o.Identity,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5n0Bx":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}a.defineInteropFlag(r),a.export(r,"print",function(){return s})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8ChYA":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"registerOptimizers",function(){return h});var s=e("./adadelta_optimizer"),o=e("./adagrad_optimizer"),i=e("./adam_optimizer"),c=e("./adamax_optimizer"),u=e("./momentum_optimizer"),l=e("./rmsprop_optimizer"),p=e("./sgd_optimizer"),f=e("../serialization"),d=[s.AdadeltaOptimizer,o.AdagradOptimizer,i.AdamOptimizer,c.AdamaxOptimizer,u.MomentumOptimizer,l.RMSPropOptimizer,p.SGDOptimizer];function h(){var e=!0,t=!1,r=void 0;try{for(var n,a=d[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var s=n.value;(0,f.registerClass)(s)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}},{"./adadelta_optimizer":"7Ya92","./adagrad_optimizer":"iGzsb","./adam_optimizer":"lMDRN","./adamax_optimizer":"ekxAk","./momentum_optimizer":"9rvcq","./rmsprop_optimizer":"aQjvk","./sgd_optimizer":"3tB4a","../serialization":"fHdse","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7Ya92":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdadeltaOptimizer",function(){return y});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_to_consumable_array.cjs"),p=e("@swc/helpers/cjs/_ts_generator.cjs"),f=e("../engine"),d=e("../globals"),h=e("../ops/add"),m=e("../ops/div"),g=e("../ops/mul"),v=e("../ops/ops"),_=e("../ops/square"),x=e("../ops/zeros_like"),y=function(e){"use strict";function t(e,r){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,i._)(this,t),(n=(0,o._)(this,t)).learningRate=e,n.rho=r,n.epsilon=a,n.accumulatedGrads=[],n.accumulatedUpdates=[],null==a&&(n.epsilon=f.ENGINE.backend.epsilon()),n}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=f.ENGINE.registeredVariables[r];null==t.accumulatedGrads[n]&&(t.accumulatedGrads[n]={originalName:"".concat(r,"/accum_grad"),variable:(0,d.tidy)(function(){return(0,x.zerosLike)(a).variable(!1)})}),null==t.accumulatedUpdates[n]&&(t.accumulatedUpdates[n]={originalName:"".concat(r,"/accum_var"),variable:(0,d.tidy)(function(){return(0,x.zerosLike)(a).variable(!1)})});var s=Array.isArray(e)?e[n].tensor:e[r];if(null!=s){var o=t.accumulatedGrads[n].variable,i=t.accumulatedUpdates[n].variable;(0,d.tidy)(function(){var e=(0,h.add)((0,g.mul)(o,t.rho),(0,g.mul)((0,_.square)(s),1-t.rho)),r=(0,g.mul)((0,m.div)((0,v.sqrt)((0,h.add)(i,t.epsilon)),(0,v.sqrt)((0,h.add)(o,t.epsilon))),s),n=(0,h.add)((0,g.mul)(i,t.rho),(0,g.mul)((0,_.square)(r),1-t.rho));o.assign(e),i.assign(n);var c=(0,h.add)((0,g.mul)(r,-t.learningRate),a);a.assign(c)})}}),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&((0,d.dispose)(this.accumulatedGrads.map(function(e){return e.variable})),(0,d.dispose)(this.accumulatedUpdates.map(function(e){return e.variable})))}},{key:"getWeights",value:function(){return(0,s._)(function(){var e;return(0,p._)(this,function(t){switch(t.label){case 0:return e=(0,l._)(this.accumulatedGrads).concat((0,l._)(this.accumulatedUpdates)),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})}).call(this)}},{key:"setWeights",value:function(e){return(0,s._)(function(){var t;return(0,p._)(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return t=(e=r.sent()).length/2,this.accumulatedGrads=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedUpdates=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})}).call(this)}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"className",get:function(){return"Adadelta"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../engine":"196sS","../globals":"eqUUw","../ops/add":"6RBEg","../ops/div":"4hv3k","../ops/mul":"ex4Je","../ops/ops":"5ZfNv","../ops/square":"ilRll","../ops/zeros_like":"1ZxCJ","./optimizer":"vKy6B","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6RBEg":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"add",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({add_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","add"),a=(0,u.convertToTensor)(t,"b","add"),l={a:n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return o.ENGINE.runKernel(i.Add,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4hv3k":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"div",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./floorDiv"),p=(0,e("./operation").op)({div_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","div"),a=(0,u.convertToTensor)(t,"b","div");if(n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],"int32"===n.dtype&&"int32"===a.dtype)return(0,l.floorDiv)(n,a);var p={a:n,b:a};return o.ENGINE.runKernel(i.RealDiv,p,{})}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./floorDiv":"86k6J","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"86k6J":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floorDiv",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({floorDiv_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","floorDiv"),a=(0,u.convertToTensor)(t,"b","floorDiv"),l={a:n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return o.ENGINE.runKernel(i.FloorDiv,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ex4Je:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mul",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({mul_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","mul"),a=(0,u.convertToTensor)(t,"b","mul"),l={a:n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return o.ENGINE.runKernel(i.Multiply,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5ZfNv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"abs",function(){return s.abs}),a.export(r,"acos",function(){return o.acos}),a.export(r,"acosh",function(){return i.acosh}),a.export(r,"add",function(){return c.add}),a.export(r,"addN",function(){return u.addN}),a.export(r,"all",function(){return l.all}),a.export(r,"any",function(){return p.any}),a.export(r,"argMax",function(){return f.argMax}),a.export(r,"argMin",function(){return d.argMin}),a.export(r,"asin",function(){return h.asin}),a.export(r,"asinh",function(){return m.asinh}),a.export(r,"atan",function(){return g.atan}),a.export(r,"atan2",function(){return v.atan2}),a.export(r,"atanh",function(){return _.atanh}),a.export(r,"avgPool",function(){return x.avgPool}),a.export(r,"avgPool3d",function(){return y.avgPool3d}),a.export(r,"basicLSTMCell",function(){return b.basicLSTMCell}),a.export(r,"batchToSpaceND",function(){return k.batchToSpaceND}),a.export(r,"batchNorm",function(){return j.batchNorm}),a.export(r,"batchNorm2d",function(){return w.batchNorm2d}),a.export(r,"batchNorm3d",function(){return I.batchNorm3d}),a.export(r,"batchNorm4d",function(){return T.batchNorm4d}),a.export(r,"bincount",function(){return S.bincount}),a.export(r,"bitwiseAnd",function(){return N.bitwiseAnd}),a.export(r,"broadcastArgs",function(){return M.broadcastArgs}),a.export(r,"broadcastTo",function(){return C.broadcastTo}),a.export(r,"buffer",function(){return E.buffer}),a.export(r,"cast",function(){return F.cast}),a.export(r,"ceil",function(){return A.ceil}),a.export(r,"clipByValue",function(){return R.clipByValue}),a.export(r,"clone",function(){return P.clone}),a.export(r,"complex",function(){return O.complex}),a.export(r,"concat",function(){return D.concat}),a.export(r,"concat1d",function(){return B.concat1d}),a.export(r,"concat2d",function(){return V.concat2d}),a.export(r,"concat3d",function(){return G.concat3d}),a.export(r,"concat4d",function(){return L.concat4d}),a.export(r,"conv1d",function(){return q.conv1d}),a.export(r,"conv2d",function(){return z.conv2d}),a.export(r,"conv2dTranspose",function(){return U.conv2dTranspose}),a.export(r,"conv3d",function(){return H.conv3d}),a.export(r,"conv3dTranspose",function(){return W.conv3dTranspose}),a.export(r,"cos",function(){return K.cos}),a.export(r,"cosh",function(){return X.cosh}),a.export(r,"cumprod",function(){return Z.cumprod}),a.export(r,"cumsum",function(){return Q.cumsum}),a.export(r,"denseBincount",function(){return J.denseBincount}),a.export(r,"depthToSpace",function(){return Y.depthToSpace}),a.export(r,"depthwiseConv2d",function(){return $.depthwiseConv2d}),a.export(r,"diag",function(){return ee.diag}),a.export(r,"dilation2d",function(){return et.dilation2d}),a.export(r,"div",function(){return er.div}),a.export(r,"divNoNan",function(){return en.divNoNan}),a.export(r,"dot",function(){return ea.dot}),a.export(r,"einsum",function(){return es.einsum}),a.export(r,"elu",function(){return eo.elu}),a.export(r,"ensureShape",function(){return ei.ensureShape}),a.export(r,"equal",function(){return ec.equal}),a.export(r,"erf",function(){return eu.erf}),a.export(r,"euclideanNorm",function(){return el.euclideanNorm}),a.export(r,"exp",function(){return ep.exp}),a.export(r,"expandDims",function(){return ef.expandDims}),a.export(r,"expm1",function(){return ed.expm1}),a.export(r,"eye",function(){return eh.eye}),a.export(r,"fill",function(){return em.fill}),a.export(r,"floor",function(){return eg.floor}),a.export(r,"floorDiv",function(){return ev.floorDiv}),a.export(r,"gather",function(){return e_.gather}),a.export(r,"greater",function(){return ex.greater}),a.export(r,"greaterEqual",function(){return ey.greaterEqual}),a.export(r,"imag",function(){return eb.imag}),a.export(r,"isFinite",function(){return ek.isFinite}),a.export(r,"isInf",function(){return ej.isInf}),a.export(r,"isNaN",function(){return ew.isNaN}),a.export(r,"leakyRelu",function(){return eI.leakyRelu}),a.export(r,"less",function(){return eT.less}),a.export(r,"lessEqual",function(){return eS.lessEqual}),a.export(r,"linspace",function(){return eN.linspace}),a.export(r,"localResponseNormalization",function(){return eM.localResponseNormalization}),a.export(r,"log",function(){return eC.log}),a.export(r,"log1p",function(){return eE.log1p}),a.export(r,"logSigmoid",function(){return eF.logSigmoid}),a.export(r,"logSoftmax",function(){return eA.logSoftmax}),a.export(r,"logSumExp",function(){return eR.logSumExp}),a.export(r,"logicalAnd",function(){return eP.logicalAnd}),a.export(r,"logicalNot",function(){return eO.logicalNot}),a.export(r,"logicalOr",function(){return eD.logicalOr}),a.export(r,"logicalXor",function(){return eB.logicalXor}),a.export(r,"lowerBound",function(){return eV.lowerBound}),a.export(r,"matMul",function(){return eG.matMul}),a.export(r,"max",function(){return eL.max}),a.export(r,"maxPool",function(){return eq.maxPool}),a.export(r,"maxPool3d",function(){return ez.maxPool3d}),a.export(r,"maxPoolWithArgmax",function(){return eU.maxPoolWithArgmax}),a.export(r,"maximum",function(){return eH.maximum}),a.export(r,"mean",function(){return eW.mean}),a.export(r,"meshgrid",function(){return eK.meshgrid}),a.export(r,"min",function(){return eX.min}),a.export(r,"minimum",function(){return eZ.minimum}),a.export(r,"mirrorPad",function(){return eQ.mirrorPad}),a.export(r,"mod",function(){return eJ.mod}),a.export(r,"moments",function(){return eY.moments}),a.export(r,"mul",function(){return e$.mul}),a.export(r,"multiRNNCell",function(){return e0.multiRNNCell}),a.export(r,"multinomial",function(){return e1.multinomial}),a.export(r,"neg",function(){return e2.neg}),a.export(r,"notEqual",function(){return e3.notEqual}),a.export(r,"oneHot",function(){return e4.oneHot}),a.export(r,"ones",function(){return e6.ones}),a.export(r,"onesLike",function(){return e7.onesLike}),a.export(r,"outerProduct",function(){return e5.outerProduct}),a.export(r,"pad",function(){return e9.pad}),a.export(r,"pad1d",function(){return e8.pad1d}),a.export(r,"pad2d",function(){return te.pad2d}),a.export(r,"pad3d",function(){return tt.pad3d}),a.export(r,"pad4d",function(){return tr.pad4d}),a.export(r,"pool",function(){return tn.pool}),a.export(r,"pow",function(){return ta.pow}),a.export(r,"prelu",function(){return ts.prelu}),a.export(r,"print",function(){return to.print}),a.export(r,"prod",function(){return ti.prod}),a.export(r,"raggedGather",function(){return tc.raggedGather}),a.export(r,"raggedRange",function(){return tu.raggedRange}),a.export(r,"raggedTensorToTensor",function(){return tl.raggedTensorToTensor}),a.export(r,"rand",function(){return tp.rand}),a.export(r,"randomGamma",function(){return tf.randomGamma}),a.export(r,"randomNormal",function(){return td.randomNormal}),a.export(r,"randomStandardNormal",function(){return th.randomStandardNormal}),a.export(r,"randomUniform",function(){return tm.randomUniform}),a.export(r,"randomUniformInt",function(){return tg.randomUniformInt}),a.export(r,"range",function(){return tv.range}),a.export(r,"real",function(){return t_.real}),a.export(r,"reciprocal",function(){return tx.reciprocal}),a.export(r,"relu",function(){return ty.relu}),a.export(r,"relu6",function(){return tb.relu6}),a.export(r,"reshape",function(){return tk.reshape}),a.export(r,"reverse",function(){return tj.reverse}),a.export(r,"reverse1d",function(){return tw.reverse1d}),a.export(r,"reverse2d",function(){return tI.reverse2d}),a.export(r,"reverse3d",function(){return tT.reverse3d}),a.export(r,"reverse4d",function(){return tS.reverse4d}),a.export(r,"round",function(){return tN.round}),a.export(r,"rsqrt",function(){return tM.rsqrt}),a.export(r,"scalar",function(){return tC.scalar}),a.export(r,"selu",function(){return tE.selu}),a.export(r,"separableConv2d",function(){return tF.separableConv2d}),a.export(r,"setdiff1dAsync",function(){return tA.setdiff1dAsync}),a.export(r,"sigmoid",function(){return tR.sigmoid}),a.export(r,"sign",function(){return tP.sign}),a.export(r,"sin",function(){return tO.sin}),a.export(r,"sinh",function(){return tD.sinh}),a.export(r,"slice",function(){return tB.slice}),a.export(r,"slice1d",function(){return tV.slice1d}),a.export(r,"slice2d",function(){return tG.slice2d}),a.export(r,"slice3d",function(){return tL.slice3d}),a.export(r,"slice4d",function(){return tq.slice4d}),a.export(r,"softmax",function(){return tz.softmax}),a.export(r,"softplus",function(){return tU.softplus}),a.export(r,"spaceToBatchND",function(){return tH.spaceToBatchND}),a.export(r,"fft",function(){return tW.fft}),a.export(r,"ifft",function(){return tK.ifft}),a.export(r,"irfft",function(){return tX.irfft}),a.export(r,"rfft",function(){return tZ.rfft}),a.export(r,"split",function(){return tQ.split}),a.export(r,"sqrt",function(){return tJ.sqrt}),a.export(r,"square",function(){return tY.square}),a.export(r,"squaredDifference",function(){return t$.squaredDifference}),a.export(r,"squeeze",function(){return t0.squeeze}),a.export(r,"stack",function(){return t1.stack}),a.export(r,"step",function(){return t2.step}),a.export(r,"stridedSlice",function(){return t3.stridedSlice}),a.export(r,"sub",function(){return t4.sub}),a.export(r,"sum",function(){return t6.sum}),a.export(r,"tan",function(){return t7.tan}),a.export(r,"tanh",function(){return t5.tanh}),a.export(r,"tensor",function(){return t9.tensor}),a.export(r,"tensor1d",function(){return t8.tensor1d}),a.export(r,"tensor2d",function(){return re.tensor2d}),a.export(r,"tensor3d",function(){return rt.tensor3d}),a.export(r,"tensor4d",function(){return rr.tensor4d}),a.export(r,"tensor5d",function(){return rn.tensor5d}),a.export(r,"tensor6d",function(){return ra.tensor6d}),a.export(r,"tensorScatterUpdate",function(){return rs.tensorScatterUpdate}),a.export(r,"tile",function(){return ro.tile}),a.export(r,"topk",function(){return ri.topk}),a.export(r,"truncatedNormal",function(){return rc.truncatedNormal}),a.export(r,"unique",function(){return ru.unique}),a.export(r,"unsortedSegmentSum",function(){return rl.unsortedSegmentSum}),a.export(r,"unstack",function(){return rp.unstack}),a.export(r,"upperBound",function(){return rf.upperBound}),a.export(r,"variable",function(){return rd.variable}),a.export(r,"where",function(){return rh.where}),a.export(r,"whereAsync",function(){return rm.whereAsync}),a.export(r,"zeros",function(){return rg.zeros}),a.export(r,"zerosLike",function(){return rv.zerosLike}),a.export(r,"op",function(){return rM.op}),a.export(r,"OP_SCOPE_SUFFIX",function(){return rM.OP_SCOPE_SUFFIX}),a.export(r,"image",function(){return nc}),a.export(r,"linalg",function(){return nu}),a.export(r,"losses",function(){return nl}),a.export(r,"spectral",function(){return no}),a.export(r,"fused",function(){return rC}),a.export(r,"signal",function(){return ni}),a.export(r,"sparse",function(){return np}),a.export(r,"string",function(){return nf});var s=e("./abs"),o=e("./acos"),i=e("./acosh"),c=e("./add"),u=e("./add_n"),l=e("./all"),p=e("./any"),f=e("./arg_max"),d=e("./arg_min"),h=e("./asin"),m=e("./asinh"),g=e("./atan"),v=e("./atan2"),_=e("./atanh"),x=e("./avg_pool"),y=e("./avg_pool_3d"),b=e("./basic_lstm_cell"),k=e("./batch_to_space_nd"),j=e("./batchnorm"),w=e("./batchnorm2d"),I=e("./batchnorm3d"),T=e("./batchnorm4d"),S=e("./bincount"),N=e("./bitwise_and"),M=e("./broadcast_args"),C=e("./broadcast_to"),E=e("./buffer"),F=e("./cast"),A=e("./ceil"),R=e("./clip_by_value"),P=e("./clone"),O=e("./complex"),D=e("./concat"),B=e("./concat_1d"),V=e("./concat_2d"),G=e("./concat_3d"),L=e("./concat_4d"),q=e("./conv1d"),z=e("./conv2d"),U=e("./conv2d_transpose"),H=e("./conv3d"),W=e("./conv3d_transpose"),K=e("./cos"),X=e("./cosh"),Z=e("./cumprod"),Q=e("./cumsum"),J=e("./dense_bincount"),Y=e("./depth_to_space"),$=e("./depthwise_conv2d"),ee=e("./diag"),et=e("./dilation2d"),er=e("./div"),en=e("./div_no_nan"),ea=e("./dot"),es=e("./einsum"),eo=e("./elu"),ei=e("./ensure_shape"),ec=e("./equal"),eu=e("./erf"),el=e("./euclidean_norm"),ep=e("./exp"),ef=e("./expand_dims"),ed=e("./expm1"),eh=e("./eye"),em=e("./fill"),eg=e("./floor"),ev=e("./floorDiv"),e_=e("./gather"),ex=e("./greater"),ey=e("./greater_equal"),eb=e("./imag"),ek=e("./is_finite"),ej=e("./is_inf"),ew=e("./is_nan"),eI=e("./leaky_relu"),eT=e("./less"),eS=e("./less_equal"),eN=e("./linspace"),eM=e("./local_response_normalization"),eC=e("./log"),eE=e("./log1p"),eF=e("./log_sigmoid"),eA=e("./log_softmax"),eR=e("./log_sum_exp"),eP=e("./logical_and"),eO=e("./logical_not"),eD=e("./logical_or"),eB=e("./logical_xor"),eV=e("./lower_bound"),eG=e("./mat_mul"),eL=e("./max"),eq=e("./max_pool"),ez=e("./max_pool_3d"),eU=e("./max_pool_with_argmax"),eH=e("./maximum"),eW=e("./mean"),eK=e("./meshgrid"),eX=e("./min"),eZ=e("./minimum"),eQ=e("./mirror_pad"),eJ=e("./mod"),eY=e("./moments"),e$=e("./mul"),e0=e("./multi_rnn_cell"),e1=e("./multinomial"),e2=e("./neg"),e3=e("./not_equal"),e4=e("./one_hot"),e6=e("./ones"),e7=e("./ones_like"),e5=e("./outer_product"),e9=e("./pad"),e8=e("./pad1d"),te=e("./pad2d"),tt=e("./pad3d"),tr=e("./pad4d"),tn=e("./pool"),ta=e("./pow"),ts=e("./prelu"),to=e("./print"),ti=e("./prod"),tc=e("./ragged_gather"),tu=e("./ragged_range"),tl=e("./ragged_tensor_to_tensor"),tp=e("./rand"),tf=e("./random_gamma"),td=e("./random_normal"),th=e("./random_standard_normal"),tm=e("./random_uniform"),tg=e("./random_uniform_int"),tv=e("./range"),t_=e("./real"),tx=e("./reciprocal"),ty=e("./relu"),tb=e("./relu6"),tk=e("./reshape"),tj=e("./reverse"),tw=e("./reverse_1d"),tI=e("./reverse_2d"),tT=e("./reverse_3d"),tS=e("./reverse_4d"),tN=e("./round"),tM=e("./rsqrt"),tC=e("./scalar"),tE=e("./selu"),tF=e("./separable_conv2d"),tA=e("./setdiff1d_async"),tR=e("./sigmoid"),tP=e("./sign"),tO=e("./sin"),tD=e("./sinh"),tB=e("./slice"),tV=e("./slice1d"),tG=e("./slice2d"),tL=e("./slice3d"),tq=e("./slice4d"),tz=e("./softmax"),tU=e("./softplus"),tH=e("./space_to_batch_nd"),tW=e("./spectral/fft"),tK=e("./spectral/ifft"),tX=e("./spectral/irfft"),tZ=e("./spectral/rfft"),tQ=e("./split"),tJ=e("./sqrt"),tY=e("./square"),t$=e("./squared_difference"),t0=e("./squeeze"),t1=e("./stack"),t2=e("./step"),t3=e("./strided_slice"),t4=e("./sub"),t6=e("./sum"),t7=e("./tan"),t5=e("./tanh"),t9=e("./tensor"),t8=e("./tensor1d"),re=e("./tensor2d"),rt=e("./tensor3d"),rr=e("./tensor4d"),rn=e("./tensor5d"),ra=e("./tensor6d"),rs=e("./tensor_scatter_update"),ro=e("./tile"),ri=e("./topk"),rc=e("./truncated_normal"),ru=e("./unique"),rl=e("./unsorted_segment_sum"),rp=e("./unstack"),rf=e("./upper_bound"),rd=e("./variable"),rh=e("./where"),rm=e("./where_async"),rg=e("./zeros"),rv=e("./zeros_like"),r_=e("./boolean_mask");a.exportAll(r_,r);var rx=e("./transpose");a.exportAll(rx,r);var ry=e("./norm");a.exportAll(ry,r);var rb=e("./moving_average");a.exportAll(rb,r);var rk=e("./scatter_nd");a.exportAll(rk,r);var rj=e("./search_sorted");a.exportAll(rj,r);var rw=e("./sparse_to_dense");a.exportAll(rw,r);var rI=e("./gather_nd");a.exportAll(rI,r);var rT=e("./dropout");a.exportAll(rT,r);var rS=e("./signal_ops_util");a.exportAll(rS,r);var rN=e("./in_top_k");a.exportAll(rN,r);var rM=e("./operation"),rC=e("./fused_ops"),rE=e("./signal/hamming_window"),rF=e("./signal/hann_window"),rA=e("./signal/frame"),rR=e("./signal/stft"),rP=e("./image/crop_and_resize"),rO=e("./image/flip_left_right"),rD=e("./image/grayscale_to_rgb"),rB=e("./image/rgb_to_grayscale"),rV=e("./image/rotate_with_offset"),rG=e("./image/non_max_suppression"),rL=e("./image/non_max_suppression_async"),rq=e("./image/non_max_suppression_with_score"),rz=e("./image/non_max_suppression_with_score_async"),rU=e("./image/non_max_suppression_padded"),rH=e("./image/non_max_suppression_padded_async"),rW=e("./image/resize_bilinear"),rK=e("./image/resize_nearest_neighbor"),rX=e("./image/threshold"),rZ=e("./image/transform"),rQ=e("./linalg/band_part"),rJ=e("./linalg/gram_schmidt"),rY=e("./linalg/qr"),r$=e("./losses/absolute_difference"),r0=e("./losses/compute_weighted_loss"),r1=e("./losses/cosine_distance"),r2=e("./losses/hinge_loss"),r3=e("./losses/huber_loss"),r4=e("./losses/log_loss"),r6=e("./losses/mean_squared_error"),r7=e("./losses/sigmoid_cross_entropy"),r5=e("./losses/softmax_cross_entropy"),r9=e("./sparse/sparse_fill_empty_rows"),r8=e("./sparse/sparse_reshape"),ne=e("./sparse/sparse_segment_mean"),nt=e("./sparse/sparse_segment_sum"),nr=e("./string/string_n_grams"),nn=e("./string/string_split"),na=e("./string/string_to_hash_bucket_fast"),ns=e("./string/static_regex_replace"),no={fft:tW.fft,ifft:tK.ifft,rfft:tZ.rfft,irfft:tX.irfft},ni={hammingWindow:rE.hammingWindow,hannWindow:rF.hannWindow,frame:rA.frame,stft:rR.stft},nc={flipLeftRight:rO.flipLeftRight,grayscaleToRGB:rD.grayscaleToRGB,resizeNearestNeighbor:rK.resizeNearestNeighbor,resizeBilinear:rW.resizeBilinear,rgbToGrayscale:rB.rgbToGrayscale,rotateWithOffset:rV.rotateWithOffset,cropAndResize:rP.cropAndResize,nonMaxSuppression:rG.nonMaxSuppression,nonMaxSuppressionAsync:rL.nonMaxSuppressionAsync,nonMaxSuppressionWithScore:rq.nonMaxSuppressionWithScore,nonMaxSuppressionWithScoreAsync:rz.nonMaxSuppressionWithScoreAsync,nonMaxSuppressionPadded:rU.nonMaxSuppressionPadded,nonMaxSuppressionPaddedAsync:rH.nonMaxSuppressionPaddedAsync,threshold:rX.threshold,transform:rZ.transform},nu={bandPart:rQ.bandPart,gramSchmidt:rJ.gramSchmidt,qr:rY.qr},nl={absoluteDifference:r$.absoluteDifference,computeWeightedLoss:r0.computeWeightedLoss,cosineDistance:r1.cosineDistance,hingeLoss:r2.hingeLoss,huberLoss:r3.huberLoss,logLoss:r4.logLoss,meanSquaredError:r6.meanSquaredError,sigmoidCrossEntropy:r7.sigmoidCrossEntropy,softmaxCrossEntropy:r5.softmaxCrossEntropy},np={sparseFillEmptyRows:r9.sparseFillEmptyRows,sparseReshape:r8.sparseReshape,sparseSegmentMean:ne.sparseSegmentMean,sparseSegmentSum:nt.sparseSegmentSum},nf={stringNGrams:nr.stringNGrams,stringSplit:nn.stringSplit,stringToHashBucketFast:na.stringToHashBucketFast,staticRegexReplace:ns.staticRegexReplace}},{"./abs":"9oolp","./acos":"7cZ3U","./acosh":"hDPMO","./add":"6RBEg","./add_n":"gmucA","./all":"gmB52","./any":"bBc4h","./arg_max":"irBqX","./arg_min":"f7Ipd","./asin":"foizD","./asinh":"e9HkY","./atan":"9moxB","./atan2":"6ckld","./atanh":"l3gP4","./avg_pool":"41pvU","./avg_pool_3d":"4QDJJ","./basic_lstm_cell":"6szrZ","./batch_to_space_nd":"6z4uT","./batchnorm":"689hs","./batchnorm2d":"kOnHM","./batchnorm3d":"huZZ7","./batchnorm4d":"8sQOH","./bincount":"8TrLC","./bitwise_and":"lnM9j","./broadcast_args":"hAJvz","./broadcast_to":"l57YX","./buffer":"fzwwJ","./cast":"lsee3","./ceil":"7YAvN","./clip_by_value":"dyBdS","./clone":"cGuJy","./complex":"dG4kr","./concat":"5jkDZ","./concat_1d":"8RurI","./concat_2d":"jhMqg","./concat_3d":"b8nwt","./concat_4d":"k2QQK","./conv1d":"kHMqe","./conv2d":"3bPDh","./conv2d_transpose":"4nnow","./conv3d":"mJtHj","./conv3d_transpose":"l4qw1","./cos":"6rpPw","./cosh":"77s1k","./cumprod":"8zkrh","./cumsum":"gvbvJ","./dense_bincount":"7kPKF","./depth_to_space":"jSARE","./depthwise_conv2d":"74sI4","./diag":"k6wmG","./dilation2d":"2MzMx","./div":"4hv3k","./div_no_nan":"1HAaY","./dot":"8uKLu","./einsum":"jjP0y","./elu":"1F35l","./ensure_shape":"7J4v6","./equal":"6RV5u","./erf":"abg43","./euclidean_norm":"uonC9","./exp":"cFcjI","./expand_dims":"3hsy0","./expm1":"8m9Zl","./eye":"gFICV","./fill":"7700s","./floor":"7BuXh","./floorDiv":"86k6J","./gather":"4ID5P","./greater":"aoAnC","./greater_equal":"knBU4","./imag":"ajw5w","./is_finite":"kyRLq","./is_inf":"1Owyg","./is_nan":"f2Ofe","./leaky_relu":"7i74S","./less":"iagRp","./less_equal":"jxEoy","./linspace":"frMe9","./local_response_normalization":"7NuUO","./log":"7a68H","./log1p":"5OvGy","./log_sigmoid":"4NRWe","./log_softmax":"i1zpo","./log_sum_exp":"gbL9W","./logical_and":"aEGo0","./logical_not":"bB2Yj","./logical_or":"b0Vpx","./logical_xor":"2evj4","./lower_bound":"iNfMc","./mat_mul":"3WX7I","./max":"3V7Jw","./max_pool":"gYmVG","./max_pool_3d":"dbDav","./max_pool_with_argmax":"hdA0K","./maximum":"g17QF","./mean":"2jctE","./meshgrid":"773iv","./min":"7F6wi","./minimum":"5JemG","./mirror_pad":"erBfr","./mod":"6hoEl","./moments":"aIshz","./mul":"ex4Je","./multi_rnn_cell":"3PbFE","./multinomial":"4WGFb","./neg":"dMJaD","./not_equal":"1vubT","./one_hot":"71DgA","./ones":"8iQJo","./ones_like":"3QQ9j","./outer_product":"hcqGL","./pad":"k2gGZ","./pad1d":"73Guq","./pad2d":"dOQS3","./pad3d":"eGc1x","./pad4d":"3OT5D","./pool":"5cVQJ","./pow":"j5OS2","./prelu":"82lYM","./print":"5n0Bx","./prod":"f2COT","./ragged_gather":"lUbhX","./ragged_range":"7Mu94","./ragged_tensor_to_tensor":"ccvxs","./rand":"9eBDe","./random_gamma":"jD2vx","./random_normal":"lFMCA","./random_standard_normal":"2Z43p","./random_uniform":"7hpBm","./random_uniform_int":"3GxIl","./range":"6AnN8","./real":"clARK","./reciprocal":"e3v03","./relu":"1TDSg","./relu6":"04Rsf","./reshape":"7YgE0","./reverse":"5mX86","./reverse_1d":"c3fne","./reverse_2d":"g0m2z","./reverse_3d":"iBYIq","./reverse_4d":"dnCUB","./round":"awn0b","./rsqrt":"7EX1z","./scalar":"2e16W","./selu":"3T3vv","./separable_conv2d":"66lIf","./setdiff1d_async":"ifxMg","./sigmoid":"9YkPO","./sign":"76EKo","./sin":"j9IsC","./sinh":"64g8F","./slice":"aAXW3","./slice1d":"LaY8y","./slice2d":"cDRjW","./slice3d":"1Jfia","./slice4d":"6uGME","./softmax":"ipz2w","./softplus":"3ZsKL","./space_to_batch_nd":"bU45T","./spectral/fft":"2hEIb","./spectral/ifft":"aIqvS","./spectral/irfft":"7ZKFI","./spectral/rfft":"hA98H","./split":"h2pMG","./sqrt":"QcYjO","./square":"ilRll","./squared_difference":"fJr8C","./squeeze":"eGmia","./stack":"1AmDl","./step":"3TRUE","./strided_slice":"8YSCm","./sub":"3d8AE","./sum":"bvUS6","./tan":"i4lvy","./tanh":"7BZhD","./tensor":"ajVSA","./tensor1d":"2h6dp","./tensor2d":"ls16J","./tensor3d":"lxX7t","./tensor4d":"dJYnz","./tensor5d":"vBGCl","./tensor6d":"2jZLi","./tensor_scatter_update":"64BZ7","./tile":"hxmGr","./topk":"iHIsz","./truncated_normal":"7wavd","./unique":"c3Wm6","./unsorted_segment_sum":"joksG","./unstack":"7Z0Qa","./upper_bound":"019X2","./variable":"jxA9y","./where":"lfpHP","./where_async":"czu2U","./zeros":"Gjszj","./zeros_like":"1ZxCJ","./boolean_mask":"lAoIO","./transpose":"67858","./norm":"4x8vh","./moving_average":"gXiqZ","./scatter_nd":"6JNwJ","./search_sorted":"aMuIp","./sparse_to_dense":"7BmOX","./gather_nd":"99t1w","./dropout":"15KL9","./signal_ops_util":"9tG4C","./in_top_k":"hWW2i","./operation":"2e73h","./fused_ops":"apoqV","./signal/hamming_window":"5AP3w","./signal/hann_window":"dSUi5","./signal/frame":"jd7q1","./signal/stft":"lUk0N","./image/crop_and_resize":"78y1L","./image/flip_left_right":"e2Iz8","./image/grayscale_to_rgb":"k8tQv","./image/rgb_to_grayscale":"bkvld","./image/rotate_with_offset":"cMzpX","./image/non_max_suppression":"eQL7B","./image/non_max_suppression_async":"aTymH","./image/non_max_suppression_with_score":"fHlY4","./image/non_max_suppression_with_score_async":"S7K26","./image/non_max_suppression_padded":"b6QiS","./image/non_max_suppression_padded_async":"8750X","./image/resize_bilinear":"8peju","./image/resize_nearest_neighbor":"8a3Nk","./image/threshold":"jeuKM","./image/transform":"amwhI","./linalg/band_part":"8aOSf","./linalg/gram_schmidt":"36PJ8","./linalg/qr":"fWPUK","./losses/absolute_difference":"c6d1a","./losses/compute_weighted_loss":"6vyDy","./losses/cosine_distance":"OUPO6","./losses/hinge_loss":"c7fLN","./losses/huber_loss":"1TsbR","./losses/log_loss":"dAA8K","./losses/mean_squared_error":"lAJmn","./losses/sigmoid_cross_entropy":"iDTUR","./losses/softmax_cross_entropy":"4b9wZ","./sparse/sparse_fill_empty_rows":"db4jP","./sparse/sparse_reshape":"37czW","./sparse/sparse_segment_mean":"1fY6P","./sparse/sparse_segment_sum":"agFHj","./string/string_n_grams":"6uyAu","./string/string_split":"10vKp","./string/string_to_hash_bucket_fast":"hA20k","./string/static_regex_replace":"cvIXQ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9oolp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"abs",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({abs_:function(e){var t=(0,i.convertToTensor)(e,"x","abs");return"complex64"===t.dtype?s.ENGINE.runKernel(o.ComplexAbs,{x:t}):s.ENGINE.runKernel(o.Abs,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7cZ3U":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acos",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({acos_:function(e){var t=(0,i.convertToTensor)(e,"x","acos");return s.ENGINE.runKernel(o.Acos,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hDPMO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acosh",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({acosh_:function(e){var t=(0,i.convertToTensor)(e,"x","acosh");return s.ENGINE.runKernel(o.Acosh,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gmucA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addN",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({addN_:function(e){c.assert(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),c.assert(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)});var t=e.map(function(e,t){return(0,i.convertToTensor)(e,"tensors".concat(t),"addN")}),r=t[0];return t.forEach(function(e){if(e.dtype!==r.dtype)throw Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!c.arraysEqual(e.shape,r.shape))throw Error("All tensors passed to tf.addN() must have the same shape")}),s.ENGINE.runKernel(o.AddN,t)}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gmB52:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"all",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","all","bool");return s.ENGINE.runKernel(o.All,{x:n},{axis:t,keepDims:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bBc4h:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"any",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","any","bool");return s.ENGINE.runKernel(o.Any,{x:n},{axis:t,keepDims:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],irBqX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMax",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","argMax");return s.ENGINE.runKernel(o.ArgMax,{x:r},{axis:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],f7Ipd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMin",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","argMin");return s.ENGINE.runKernel(o.ArgMin,{x:r},{axis:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],foizD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asin",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({asin_:function(e){var t=(0,i.convertToTensor)(e,"x","asin");return s.ENGINE.runKernel(o.Asin,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],e9HkY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asinh",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({asinh_:function(e){var t=(0,i.convertToTensor)(e,"x","asinh");return s.ENGINE.runKernel(o.Asinh,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9moxB":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({atan_:function(e){var t=(0,i.convertToTensor)(e,"x","atan");return s.ENGINE.runKernel(o.Atan,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6ckld":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan2",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({atan2_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","atan2"),a=(0,u.convertToTensor)(t,"b","atan2"),l={a:n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return o.ENGINE.runKernel(i.Atan2,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],l3gP4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atanh",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({atanh_:function(e){var t=(0,i.convertToTensor)(e,"x","atanh");return s.ENGINE.runKernel(o.Atanh,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"41pvU":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool",function(){return d});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./cast"),l=e("./conv_util"),p=e("./operation"),f=e("./reshape"),d=(0,p.op)({avgPool_:function(e,t,r,n,a){var p=(0,i.convertToTensor)(e,"x","avgPool","float32");c.assert(l.eitherStridesOrDilationsAreOne(r,1),function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(1,"'")});var d=p,h=!1;3===p.rank&&(h=!0,d=(0,f.reshape)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),c.assert(4===d.rank,function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(d.rank,".")}),l.checkPadOnDimRoundingMode("avgPool",n,a);var m={x:d},g=s.ENGINE.runKernel(o.AvgPool,m,{filterSize:t,strides:r,pad:n,dimRoundingMode:a});return(g=(0,u.cast)(g,p.dtype),h)?(0,f.reshape)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./cast":"lsee3","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],EtnDJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"computeDilation2DInfo",function(){return u}),a.export(r,"computePool2DInfo",function(){return l}),a.export(r,"computePool3DInfo",function(){return p}),a.export(r,"computeConv2DInfo",function(){return f}),a.export(r,"computeConv3DInfo",function(){return d}),a.export(r,"computeDefaultPad",function(){return h}),a.export(r,"tupleValuesAreOne",function(){return x}),a.export(r,"eitherStridesOrDilationsAreOne",function(){return y}),a.export(r,"stridesOrDilationsArePositive",function(){return b}),a.export(r,"convertConv2DDataFormat",function(){return k}),a.export(r,"checkPadOnDimRoundingMode",function(){return j});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),i=e("@swc/helpers/cjs/_type_of.cjs"),c=e("../util");function u(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",s=arguments.length>5?arguments[5]:void 0,i=e[3];return f(e,(0,o._)(t).concat([i]),r,s,n,null,null,k(a))}function l(e,t,r,n,a,o){var i,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=(0,s._)(m(t),2),l=u[0],p=u[1];if("channelsLast"===c)i=[l,p,e[3],e[3]];else if("channelsFirst"===c)i=[l,p,e[1],e[1]];else throw Error("Unknown dataFormat ".concat(c));return f(e,i,r,n,a,o,!1,c)}function p(e,t,r,n,a,o){var i,c,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",l=(0,s._)(g(t),3),p=l[0],f=l[1],h=l[2];if("NDHWC"===u)c="channelsLast",i=[p,f,h,e[4],e[4]];else if("NCDHW"===u)c="channelsFirst",i=[p,f,h,e[1],e[1]];else throw Error("Unknown dataFormat ".concat(u));return d(e,i,r,n,a,!1,c,o)}function f(e,t,r,n,a,o){var c,u,l,p=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",d=-1,g=-1,x=-1,y=-1;if("channelsLast"===f)d=(c=(0,s._)(e,4))[0],g=c[1],x=c[2],y=c[3];else if("channelsFirst"===f)d=(u=(0,s._)(e,4))[0],y=u[1],g=u[2],x=u[3];else throw Error("Unknown dataFormat ".concat(f));var b=(0,s._)(t,4),k=b[0],j=b[1],w=b[3],I=(0,s._)(m(r),2),T=I[0],S=I[1],N=(0,s._)(m(n),2),M=N[0],C=N[1],E=v(k,M),F=v(j,C),A=function(e,t,r,n,a,s,o,c,u){if("number"==typeof e){var l,p,f,d,m,g,v,x=0===e?"VALID":"NUMBER";m={top:e,bottom:e,left:e,right:e,type:x};var y=(l=[t,r],null==(p=e)&&(p=h(l,s,n)),f=l[0],d=l[1],[_((f-s+2*p)/n+1,c),_((d-s+2*p)/n+1,c)]);g=y[0],v=y[1]}else if("same"===e){var b=Math.max(0,((g=Math.ceil(t/n))-1)*n+s-t),k=Math.max(0,((v=Math.ceil(r/a))-1)*a+o-r),j=Math.floor(b/2),w=Math.floor(k/2);m={top:j,bottom:b-j,left:w,right:k-w,type:"SAME"}}else if("valid"===e)m={top:0,bottom:0,left:0,right:0,type:"VALID"},g=Math.ceil((t-s+1)/n),v=Math.ceil((r-o+1)/a);else if((void 0===e?"undefined":(0,i._)(e))==="object"){var I="channelsLast"===u?e[1][0]:e[2][0],T="channelsLast"===u?e[1][1]:e[2][1],S="channelsLast"===u?e[2][0]:e[3][0],N="channelsLast"===u?e[2][1]:e[3][1];m={top:I,bottom:T,left:S,right:N,type:0===I&&0===T&&0===S&&0===N?"VALID":"EXPLICIT"},g=_((t-s+I+T)/n+1,c),v=_((r-o+S+N)/a+1,c)}else throw Error("Unknown padding parameter: ".concat(e));return{padInfo:m,outHeight:g,outWidth:v}}(a,g,x,T,S,E,F,o,f),R=A.padInfo,P=A.outHeight,O=A.outWidth,D=p?w*y:w;return"channelsFirst"===f?l=[d,D,P,O]:"channelsLast"===f&&(l=[d,P,O,D]),{batchSize:d,dataFormat:f,inHeight:g,inWidth:x,inChannels:y,outHeight:P,outWidth:O,outChannels:D,padInfo:R,strideHeight:T,strideWidth:S,filterHeight:k,filterWidth:j,effectiveFilterHeight:E,effectiveFilterWidth:F,dilationHeight:M,dilationWidth:C,inShape:e,outShape:l,filterShape:t}}function d(e,t,r,n,a){var o,i,c,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",p=arguments.length>7?arguments[7]:void 0,f=-1,d=-1,m=-1,x=-1,y=-1;if("channelsLast"===l)f=(o=(0,s._)(e,5))[0],d=o[1],m=o[2],x=o[3],y=o[4];else if("channelsFirst"===l)f=(i=(0,s._)(e,5))[0],y=i[1],d=i[2],m=i[3],x=i[4];else throw Error("Unknown dataFormat ".concat(l));var b=(0,s._)(t,5),k=b[0],j=b[1],w=b[2],I=b[4],T=(0,s._)(g(r),3),S=T[0],N=T[1],M=T[2],C=(0,s._)(g(n),3),E=C[0],F=C[1],A=C[2],R=v(k,E),P=v(j,F),O=v(w,A),D=function(e,t,r,n,a,s,o,i,c,u,l){if("valid"===e&&(e=0),"number"==typeof e){var p,f,d,m,g=0===e?"VALID":"NUMBER";p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:g};var v=function(e,t,r,n,a,s){null==a&&(a=h(e,t[0],n[0]));for(var o=[0,0,0,1],i=0;i<3;i++)e[i]+2*a>=t[i]&&(o[i]=_((e[i]-t[i]+2*a)/n[i]+1,s));return o}([t,r,n,1],[i,c,u],0,[a,s,o],e,l);f=v[0],d=v[1],m=v[2]}else if("same"===e){var x=((f=Math.ceil(t/a))-1)*a+i-t,y=((d=Math.ceil(r/s))-1)*s+c-r,b=((m=Math.ceil(n/o))-1)*o+u-n,k=Math.floor(x/2),j=Math.floor(y/2),w=Math.floor(b/2);p={top:j,bottom:y-j,left:w,right:b-w,front:k,back:x-k,type:"SAME"}}else throw Error("Unknown padding parameter: ".concat(e));return{padInfo:p,outDepth:f,outHeight:d,outWidth:m}}(a,d,m,x,S,N,M,R,P,O,p),B=D.padInfo,V=D.outDepth,G=D.outHeight,L=D.outWidth,q=u?I*y:I;return"channelsFirst"===l?c=[f,q,V,G,L]:"channelsLast"===l&&(c=[f,V,G,L,q]),{batchSize:f,dataFormat:l,inDepth:d,inHeight:m,inWidth:x,inChannels:y,outDepth:V,outHeight:G,outWidth:L,outChannels:q,padInfo:B,strideDepth:S,strideHeight:N,strideWidth:M,filterDepth:k,filterHeight:j,filterWidth:w,effectiveFilterDepth:R,effectiveFilterHeight:P,effectiveFilterWidth:O,dilationDepth:E,dilationHeight:F,dilationWidth:A,inShape:e,outShape:c,filterShape:t}}function h(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=v(t,n);return Math.floor((e[0]*(r-1)-r+a)/2)}function m(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function g(e){return"number"==typeof e?[e,e,e]:e}function v(e,t){return t<=1?e:e+(e-1)*(t-1)}function _(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw Error("Unknown roundingMode ".concat(t))}}function x(e){var t=(0,s._)(m(e),3),r=t[0],n=t[1],a=t[2];return 1===r&&1===n&&1===a}function y(e,t){return x(e)||x(t)}function b(e){return m(e).every(function(e){return e>0})}function k(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw Error("Unknown dataFormat ".concat(e))}function j(e,t,r){if(null!=r)if("string"==typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(r," but got pad ").concat(t,"."));else if("number"==typeof t)c.assert(c.isInt(t),function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(r," but got pad ").concat(t,".")});else if((void 0===t?"undefined":(0,i._)(t))==="object")t.forEach(function(t){t.forEach(function(t){c.assert(c.isInt(t),function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(r," but got pad ").concat(t,".")})})});else throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t))}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_type_of.cjs":"iXhRw","../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7YgE0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reshape",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({reshape_:function(e,t){var r=(0,i.convertToTensor)(e,"x","reshape","string_or_numeric");return s.ENGINE.runKernel(o.Reshape,{x:r},{shape:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4QDJJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3d",function(){return d});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./cast"),l=e("./conv_util"),p=e("./operation"),f=e("./reshape"),d=(0,p.op)({avgPool3d_:function(e,t,r,n,a){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",d=(0,i.convertToTensor)(e,"x","avgPool3d","float32"),h=d,m=!1;4===d.rank&&(m=!0,h=(0,f.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),c.assert(5===h.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(h.rank,".")}),c.assert("NDHWC"===p,function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(p)}),c.assert("number"==typeof r&&r>0||Array.isArray(r)&&r[0]>0&&r[1]>0&&r[2]>0,function(){return"Error in avgPool3d: Stride must be > 0, but got '".concat(r,"'")}),(0,l.checkPadOnDimRoundingMode)("avgPool3d",n,a);var g={x:h},v=s.ENGINE.runKernel(o.AvgPool3D,g,{filterSize:t,strides:r,pad:n,dimRoundingMode:a,dataFormat:p});return(v=(0,u.cast)(v,h.dtype),m)?(0,f.reshape)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./cast":"lsee3","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6szrZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"basicLSTMCell",function(){return h});var s=e("../tensor_util_env"),o=e("./add"),i=e("./concat"),c=e("./mat_mul"),u=e("./mul"),l=e("./operation"),p=e("./sigmoid"),f=e("./slice"),d=e("./tanh"),h=(0,l.op)({basicLSTMCell_:function(e,t,r,n,a,l){var h=(0,s.convertToTensor)(e,"forgetBias","basicLSTMCell"),m=(0,s.convertToTensor)(t,"lstmKernel","basicLSTMCell"),g=(0,s.convertToTensor)(r,"lstmBias","basicLSTMCell"),v=(0,s.convertToTensor)(n,"data","basicLSTMCell"),_=(0,s.convertToTensor)(a,"c","basicLSTMCell"),x=(0,s.convertToTensor)(l,"h","basicLSTMCell"),y=(0,i.concat)([v,x],1),b=(0,c.matMul)(y,m),k=(0,o.add)(b,g),j=k.shape[0],w=k.shape[1]/4,I=[j,w],T=(0,f.slice)(k,[0,0],I),S=(0,f.slice)(k,[0,w],I),N=(0,f.slice)(k,[0,2*w],I),M=(0,f.slice)(k,[0,3*w],I),C=(0,o.add)((0,u.mul)((0,p.sigmoid)(T),(0,d.tanh)(S)),(0,u.mul)(_,(0,p.sigmoid)((0,o.add)(h,N)))),E=(0,u.mul)((0,d.tanh)(C),(0,p.sigmoid)(M));return[C,E]}})},{"../tensor_util_env":"gGMh6","./add":"6RBEg","./concat":"5jkDZ","./mat_mul":"3WX7I","./mul":"ex4Je","./operation":"2e73h","./sigmoid":"9YkPO","./slice":"aAXW3","./tanh":"7BZhD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5jkDZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat",function(){return l});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./clone"),l=(0,e("./operation").op)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,c.assert)(e.length>=1,function(){return"Pass at least one tensor to concat"});var r=(0,i.convertToTensorArray)(e,"tensors","concat","string_or_numeric");return("complex64"===r[0].dtype&&r.forEach(function(e){if("complex64"!==e.dtype)throw Error("Cannot concatenate complex64 tensors with a tensor\n with dtype ".concat(e.dtype,". "))}),1===r.length)?(0,u.clone)(r[0]):s.ENGINE.runKernel(o.Concat,r,{axis:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./clone":"cGuJy","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3WX7I":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"matMul",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({matMul_:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=(0,u.convertToTensor)(e,"a","matMul"),p=(0,u.convertToTensor)(t,"b","matMul"),f={a:l=(r=(0,s._)((0,c.makeTypesMatch)(l,p),2))[0],b:p=r[1]};return o.ENGINE.runKernel(i.BatchMatMul,f,{transposeA:n,transposeB:a})}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9YkPO":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sigmoid",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sigmoid_:function(e){var t=(0,i.convertToTensor)(e,"x","sigmoid","float32");return s.ENGINE.runKernel(o.Sigmoid,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aAXW3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({slice_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","slice","string_or_numeric");if(0===n.rank)throw Error("Slicing scalar is not possible");return s.ENGINE.runKernel(o.Slice,{x:n},{begin:t,size:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7BZhD":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tanh",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({tanh_:function(e){var t=(0,i.convertToTensor)(e,"x","tanh","float32");return s.ENGINE.runKernel(o.Tanh,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6z4uT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchToSpaceND",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({batchToSpaceND_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","batchToSpaceND"),a=t.reduce(function(e,t){return e*t});return c.assert(n.rank>=1+t.length,function(){return"input rank is ".concat(n.rank," but should be > than blockShape.length ").concat(t.length)}),c.assert(r.length===t.length,function(){return"crops.length is ".concat(r.length," but should be equal to blockShape.length ").concat(t.length)}),c.assert(n.shape[0]%a==0,function(){return"input tensor batch is ".concat(n.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a)}),s.ENGINE.runKernel(o.BatchToSpaceND,{x:n},{blockShape:t,crops:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"689hs":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm",function(){return f});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./batchnorm_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({batchNorm_:function(e,t,r,n,a,l){null==l&&(l=.001);var f,d,h=(0,i.convertToTensor)(e,"x","batchNorm"),m=(0,i.convertToTensor)(t,"mean","batchNorm"),g=(0,i.convertToTensor)(r,"variance","batchNorm");null!=a&&(f=(0,i.convertToTensor)(a,"scale","batchNorm")),null!=n&&(d=(0,i.convertToTensor)(n,"offset","batchNorm")),c.assert(m.rank===g.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),c.assert(null==d||m.rank===d.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),c.assert(null==f||m.rank===f.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var v={x:(0,u.xAs4D)(h),scale:f,offset:d,mean:m,variance:g},_={varianceEpsilon:l},x=s.ENGINE.runKernel(o.FusedBatchNorm,v,_);return(0,p.reshape)(x,h.shape)}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./batchnorm_util":"7dmRq","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7dmRq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"xAs4D",function(){return o});var s=e("./reshape");function o(e){return 0===e.rank||1===e.rank?(0,s.reshape)(e,[1,1,1,e.size]):2===e.rank?(0,s.reshape)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,s.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}},{"./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kOnHM:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm2d",function(){return c});var s=e("../tensor_util_env"),o=e("../util"),i=e("./batchnorm"),c=(0,e("./operation").op)({batchNorm2d_:function(e,t,r,n,a,c){var u,l,p=(0,s.convertToTensor)(e,"x","batchNorm"),f=(0,s.convertToTensor)(t,"mean","batchNorm"),d=(0,s.convertToTensor)(r,"variance","batchNorm");return null!=a&&(u=(0,s.convertToTensor)(a,"scale","batchNorm")),null!=n&&(l=(0,s.convertToTensor)(n,"offset","batchNorm")),o.assert(2===p.rank,function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(p.rank,".")}),o.assert(2===f.rank||1===f.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(f.rank,".")}),o.assert(2===d.rank||1===d.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(d.rank,".")}),null!=u&&o.assert(2===u.rank||1===u.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")}),null!=l&&o.assert(2===l.rank||1===l.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")}),(0,i.batchNorm)(p,f,d,l,u,c)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./batchnorm":"689hs","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],huZZ7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm3d",function(){return c});var s=e("../tensor_util_env"),o=e("../util"),i=e("./batchnorm"),c=(0,e("./operation").op)({batchNorm3d_:function(e,t,r,n,a,c){var u,l,p=(0,s.convertToTensor)(e,"x","batchNorm"),f=(0,s.convertToTensor)(t,"mean","batchNorm"),d=(0,s.convertToTensor)(r,"variance","batchNorm");return null!=a&&(u=(0,s.convertToTensor)(a,"scale","batchNorm")),null!=n&&(l=(0,s.convertToTensor)(n,"offset","batchNorm")),o.assert(3===p.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(p.rank,".")}),o.assert(3===f.rank||1===f.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(f.rank,".")}),o.assert(3===d.rank||1===d.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(d.rank,".")}),null!=u&&o.assert(3===u.rank||1===u.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")}),null!=l&&o.assert(3===l.rank||1===l.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")}),(0,i.batchNorm)(p,f,d,l,u,c)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./batchnorm":"689hs","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8sQOH":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm4d",function(){return c});var s=e("../tensor_util_env"),o=e("../util"),i=e("./batchnorm"),c=(0,e("./operation").op)({batchNorm4d_:function(e,t,r,n,a,c){var u,l,p=(0,s.convertToTensor)(e,"x","batchNorm"),f=(0,s.convertToTensor)(t,"mean","batchNorm"),d=(0,s.convertToTensor)(r,"variance","batchNorm");return null!=a&&(u=(0,s.convertToTensor)(a,"scale","batchNorm")),null!=n&&(l=(0,s.convertToTensor)(n,"offset","batchNorm")),o.assert(4===p.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(p.rank,".")}),o.assert(4===f.rank||1===f.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(f.rank,".")}),o.assert(4===d.rank||1===d.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(d.rank,".")}),null!=u&&o.assert(4===u.rank||1===u.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")}),null!=l&&o.assert(4===l.rank||1===l.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")}),(0,i.batchNorm)(p,f,d,l,u,c)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./batchnorm":"689hs","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8TrLC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bincount",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({bincount_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","bincount"),a=(0,i.convertToTensor)(t,"weights","bincount");return c.assert("int32"===n.dtype,function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(n.dtype)}),c.assert(r>=0,function(){return"size must be non-negative, but got ".concat(r,".")}),c.assert(a.size===n.size||0===a.size,function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(n.shape,", weights shape: ")+"".concat(a.shape,".")}),s.ENGINE.runKernel(o.Bincount,{x:n,weights:a},{size:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lnM9j:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bitwiseAnd",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util_base"),u=(0,e("./operation").op)({bitwiseAnd_:function(e,t){var r=(0,i.convertToTensor)(e,"x","bitwiseAnd"),n=(0,i.convertToTensor)(t,"y","bitwiseAnd");if(!(0,c.arraysEqual)(r.shape,n.shape))throw Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(r.shape,", y: ").concat(n.shape));if("int32"!==r.dtype||"int32"!==n.dtype)throw Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(r.dtype," and type of y: ").concat(n.dtype));return s.ENGINE.runKernel(o.BitwiseAnd,{a:r,b:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util_base":"3jQov","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hAJvz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"broadcastArgs",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({broadcastArgs_:function(e,t){var r=(0,i.convertToTensor)(e,"s0","broadcastArgs","int32"),n=(0,i.convertToTensor)(t,"s1","broadcastArgs","int32");if(1!==r.rank)throw Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(r.rank));if(1!==n.rank)throw Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(n.rank));return s.ENGINE.runKernel(o.BroadcastArgs,{s0:r,s1:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],l57YX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"broadcastTo",function(){return f});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util_base"),u=e("./clone"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({broadcastTo_:function(e,t){var r=(0,i.convertToTensor)(e,"broadcastTo","x"),n=r.shape;if((0,c.assertNonNegativeIntegerDimensions)(t),t.length<r.rank)throw Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(r.rank,"."));if(t.length>r.rank){for(var a=r.shape.slice();a.length<t.length;)a.unshift(1);r=(0,p.reshape)(r,a)}for(var l=r.shape,f=Array.from(t),d=t.length-1;d>=0;d--)if(l[d]===t[d])f[d]=1;else if(1!==r.shape[d])throw Error("broadcastTo(): [".concat(n,"] cannot be broadcast to [").concat(t,"]."));if(0===f.map(function(e,t){return e>1?t:-1}).filter(function(e){return e>=0}).length)return(0,u.clone)(r);var h={x:r};return s.ENGINE.runKernel(o.Tile,h,{reps:f})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util_base":"3jQov","./clone":"cGuJy","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7YAvN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ceil",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({ceil_:function(e){var t=(0,i.convertToTensor)(e,"x","ceil","float32");return s.ENGINE.runKernel(o.Ceil,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dyBdS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clipByValue",function(){return l});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./fill"),l=(0,e("./operation").op)({clipByValue_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","clipByValue");return(c.assert(t<=r,function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(r,").")}),t===r)?(0,u.fill)(n.shape,t,n.dtype):s.ENGINE.runKernel(o.ClipByValue,{x:n},{clipValueMin:t,clipValueMax:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./fill":"7700s","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7700s":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fill",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../util"),c=e("../util_base");function u(e,t,r){(0,c.assertNonNegativeIntegerDimensions)(e),r=r||(0,i.inferDtype)(t);var n={shape:e,value:t,dtype:r};return s.ENGINE.runKernel(o.Fill,{},n)}},{"../engine":"196sS","../kernel_names":"eNhfn","../util":"pzc9n","../util_base":"3jQov","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8RurI":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat1d",function(){return o});var s=e("./concat"),o=(0,e("./operation").op)({concat1d_:function(e){return(0,s.concat)(e,0)}})},{"./concat":"5jkDZ","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jhMqg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat2d",function(){return o});var s=e("./concat"),o=(0,e("./operation").op)({concat2d_:function(e,t){return(0,s.concat)(e,t)}})},{"./concat":"5jkDZ","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],b8nwt:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat3d",function(){return o});var s=e("./concat"),o=(0,e("./operation").op)({concat3d_:function(e,t){return(0,s.concat)(e,t)}})},{"./concat":"5jkDZ","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],k2QQK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat4d",function(){return o});var s=e("./concat"),o=(0,e("./operation").op)({concat4d_:function(e,t){return(0,s.concat)(e,t)}})},{"./concat":"5jkDZ","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kHMqe:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv1d",function(){return p});var s=e("../tensor_util_env"),o=e("../util"),i=e("./conv2d"),c=e("./conv_util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({conv1d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,p=arguments.length>6?arguments[6]:void 0,f=(0,s.convertToTensor)(e,"x","conv1d"),d=(0,s.convertToTensor)(t,"filter","conv1d"),h=f,m=!1;2===f.rank&&(m=!0,h=(0,l.reshape)(f,[1,f.shape[0],f.shape[1]])),o.assert(3===h.rank,function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(h.rank,".")}),o.assert(3===d.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(d.rank,".")}),c.checkPadOnDimRoundingMode("conv1d",n,p),o.assert(h.shape[2]===d.shape[1],function(){return"Error in conv1d: depth of input (".concat(h.shape[2],") must match ")+"input depth for filter ".concat(d.shape[1],".")}),o.assert(c.eitherStridesOrDilationsAreOne(r,u),function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(r," and dilation '").concat(u,"'")}),o.assert(c.stridesOrDilationsArePositive(u),function(){return"Error in conv1D: Dilated rates should be larger than 0."}),o.assert(c.stridesOrDilationsArePositive(r),function(){return"Error in conv1D: Stride should be larger than 0."}),o.assert("NWC"===a,function(){return"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")});var g=(0,l.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),v=(0,l.reshape)(h,[h.shape[0],1,h.shape[1],h.shape[2]]),_=(0,i.conv2d)(v,g,[1,r],n,"NHWC",[1,u],p);return m?(0,l.reshape)(_,[_.shape[2],_.shape[3]]):(0,l.reshape)(_,[_.shape[0],_.shape[2],_.shape[3]])}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./conv2d":"3bPDh","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3bPDh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2d",function(){return f});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({conv2d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,d=(0,i.convertToTensor)(e,"x","conv2d","float32"),h=(0,i.convertToTensor)(t,"filter","conv2d","float32"),m=d,g=!1;3===d.rank&&(g=!0,m=(0,p.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),c.assert(4===m.rank,function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(m.rank,".")}),c.assert(4===h.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")}),u.checkPadOnDimRoundingMode("conv2d",n,f);var v="NHWC"===a?m.shape[3]:m.shape[1];c.assert(v===h.shape[2],function(){return"Error in conv2d: depth of input (".concat(v,") must match ")+"input depth for filter ".concat(h.shape[2],".")}),c.assert(u.eitherStridesOrDilationsAreOne(r,l),function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(l,"'")}),c.assert(u.stridesOrDilationsArePositive(l),function(){return"Error in conv2D: Dilated rates should be larger than 0."}),c.assert(u.stridesOrDilationsArePositive(r),function(){return"Error in conv2D: Strides should be larger than 0."});var _={x:m,filter:h},x=s.ENGINE.runKernel(o.Conv2D,_,{strides:r,pad:n,dataFormat:a,dilations:l,dimRoundingMode:f});return g?(0,p.reshape)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4nnow":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2dTranspose",function(){return i});var s=e("../tensor_util_env"),o=e("./conv2d_backprop_input"),i=(0,e("./operation").op)({conv2dTranspose_:function(e,t,r,n,a,i){var c=(0,s.convertToTensor)(e,"x","conv2dTranspose"),u=(0,s.convertToTensor)(t,"filter","conv2dTranspose");return(0,o.conv2DBackpropInput)(r,c,u,n,a,"NHWC",i)}})},{"../tensor_util_env":"gGMh6","./conv2d_backprop_input":"fBzV5","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fBzV5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropInput",function(){return p});var s=e("../engine"),o=e("../kernel_names"),i=e("../util"),c=e("./conv_util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({conv2DBackpropInput_:function(e,t,r,n,a){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",p=arguments.length>6?arguments[6]:void 0;i.assert(e.length===t.rank,function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")});var f=e,d=t,h=!1;3===t.rank&&(h=!0,d=(0,l.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),f=[1,e[0],e[1],e[2]]),i.assert(4===f.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(f.length,".")}),i.assert(4===d.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(d.rank)}),i.assert(4===r.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(r.rank)});var m="NHWC"===u?f[3]:f[1],g="NHWC"===u?d.shape[3]:d.shape[1];i.assert(m===r.shape[2],function(){return"Error in conv2dDerInput: depth of input (".concat(m,") must ")+"match input depth for filter ".concat(r.shape[2],".")}),i.assert(g===r.shape[3],function(){return"Error in conv2dDerInput: depth of output (".concat(g,") must ")+"match output depth for filter ".concat(r.shape[3],".")}),c.checkPadOnDimRoundingMode("conv2dDerInput",a,p);var v={dy:d,filter:r},_={strides:n,pad:a,dataFormat:u,dimRoundingMode:p,inputShape:f},x=s.ENGINE.runKernel(o.Conv2DBackpropInput,v,_);return h?(0,l.reshape)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},{"../engine":"196sS","../kernel_names":"eNhfn","../util":"pzc9n","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],mJtHj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3d",function(){return f});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({conv3d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],f=(0,i.convertToTensor)(e,"x","conv3d"),d=(0,i.convertToTensor)(t,"filter","conv3d"),h=f,m=!1;4===f.rank&&(m=!0,h=(0,p.reshape)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),c.assert(5===h.rank,function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(h.rank,".")}),c.assert(5===d.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(d.rank,".")}),c.assert(h.shape[4]===d.shape[3],function(){return"Error in conv3d: depth of input (".concat(h.shape[4],") must match ")+"input depth for filter ".concat(d.shape[3],".")}),c.assert((0,u.eitherStridesOrDilationsAreOne)(r,l),function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(l,"'")}),c.assert("NDHWC"===a,function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")}),c.assert((0,u.stridesOrDilationsArePositive)(l),function(){return"Error in conv3D: Dilated rates should be larger than 0."}),c.assert((0,u.stridesOrDilationsArePositive)(r),function(){return"Error in conv3D: Strides should be larger than 0."});var g={x:h,filter:d},v=s.ENGINE.runKernel(o.Conv3D,g,{strides:r,pad:n,dataFormat:a,dilations:l});return m?(0,p.reshape)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],l4qw1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3dTranspose",function(){return i});var s=e("../tensor_util_env"),o=e("./conv3d_backprop_input"),i=(0,e("./operation").op)({conv3dTranspose_:function(e,t,r,n,a){var i=(0,s.convertToTensor)(e,"x","conv3dTranspose"),c=(0,s.convertToTensor)(t,"filter","conv3dTranspose");return(0,o.conv3DBackpropInput)(r,i,c,n,a)}})},{"../tensor_util_env":"gGMh6","./conv3d_backprop_input":"9zFJ9","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9zFJ9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropInput",function(){return l});var s=e("../engine"),o=e("../kernel_names"),i=e("../util"),c=e("./operation"),u=e("./reshape"),l=(0,c.op)({conv3DBackpropInput_:function(e,t,r,n,a){i.assert(e.length===t.rank,function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")});var c=e,l=t,p=!1;4===t.rank&&(p=!0,l=(0,u.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,e[0],e[1],e[2],e[3]]);var f=c[4],d=l.shape[4];i.assert(5===c.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(c.length,".")}),i.assert(5===l.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(l.rank)}),i.assert(5===r.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(r.rank)}),i.assert(f===r.shape[3],function(){return"Error in conv3dDerInput: depth of input (".concat(f,") must ")+"match input depth for filter ".concat(r.shape[3],".")}),i.assert(d===r.shape[4],function(){return"Error in conv3dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(r.shape[4],".")});var h={dy:l,filter:r},m={pad:a,strides:n,inputShape:c},g=s.ENGINE.runKernel(o.Conv3DBackpropInputV2,h,m);return p?(0,u.reshape)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},{"../engine":"196sS","../kernel_names":"eNhfn","../util":"pzc9n","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6rpPw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cos",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({cos_:function(e){var t=(0,i.convertToTensor)(e,"x","cos","float32");return s.ENGINE.runKernel(o.Cos,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"77s1k":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cosh",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({cosh_:function(e){var t=(0,i.convertToTensor)(e,"x","cosh","float32");return s.ENGINE.runKernel(o.Cosh,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8zkrh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumprod",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.convertToTensor)(e,"x","cumprod");return s.ENGINE.runKernel(o.Cumprod,{x:a},{axis:t,exclusive:r,reverse:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gvbvJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumsum",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.convertToTensor)(e,"x","cumsum");return s.ENGINE.runKernel(o.Cumsum,{x:a},{axis:t,exclusive:r,reverse:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7kPKF":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"denseBincount",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({denseBincount_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.convertToTensor)(e,"x","denseBincount"),u=(0,i.convertToTensor)(t,"weights","denseBincount");return c.assert("int32"===a.dtype,function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype)}),c.assert(a.rank<=2,function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,".")}),c.assert(r>=0,function(){return"size must be non-negative, but got ".concat(r,".")}),c.assert(u.size===a.size||0===u.size,function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(u.shape,".")}),s.ENGINE.runKernel(o.DenseBincount,{x:a,weights:u},{size:r,binaryOutput:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jSARE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthToSpace",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({depthToSpace_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",n=(0,i.convertToTensor)(e,"x","depthToSpace","float32"),a="NHWC"===r?n.shape[1]:n.shape[2],u="NHWC"===r?n.shape[2]:n.shape[3],l="NHWC"===r?n.shape[3]:n.shape[1];return c.assert(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)}),c.assert(a*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n ".concat(a," and ").concat(t," for depthToSpace with input shape\n ").concat(n.shape)}),c.assert(u*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n ".concat(u," and ").concat(t," for depthToSpace with input shape\n ").concat(n.shape)}),c.assert(l%(t*t)==0,function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(l," for depthToSpace with input shape ").concat(n.shape)}),s.ENGINE.runKernel(o.DepthToSpace,{x:n},{blockSize:t,dataFormat:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"74sI4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2d",function(){return f});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({depthwiseConv2d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,d=(0,i.convertToTensor)(e,"x","depthwiseConv2d","float32"),h=(0,i.convertToTensor)(t,"filter","depthwiseConv2d","float32"),m=d,g=!1;3===d.rank&&(g=!0,m=(0,p.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),c.assert(4===m.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")}),c.assert(4===h.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")});var v="NHWC"===a?m.shape[3]:m.shape[1];c.assert(v===h.shape[2],function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(v,") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")}),u.checkPadOnDimRoundingMode("depthwiseConv2d",n,f);var _={x:m,filter:h},x=s.ENGINE.runKernel(o.DepthwiseConv2dNative,_,{strides:r,pad:n,dataFormat:a,dilations:l,dimRoundingMode:f});return g?(0,p.reshape)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],k6wmG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"diag",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({diag_:function(e){var t=(0,i.convertToTensor)(e,"x","diag");return s.ENGINE.runKernel(o.Diag,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2MzMx":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2d",function(){return p});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({dilation2d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",p=(0,i.convertToTensor)(e,"x","dilation2d"),f=(0,i.convertToTensor)(t,"filter","dilation2d");c.assert(3===p.rank||4===p.rank,function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(p.rank,".")}),c.assert(3===f.rank,function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(f.rank,".")}),c.assert("NHWC"===u,function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(u)});var d=p,h=!1;3===p.rank&&(d=(0,l.reshape)(p,[1,p.shape[0],p.shape[1],p.shape[2]]),h=!0),c.assert(d.shape[3]===f.shape[2],function(){return"Error in dilation2d: input and filter must have the same depth: ".concat(d.shape[3]," vs ").concat(f.shape[2])});var m={x:d,filter:f},g=s.ENGINE.runKernel(o.Dilation2D,m,{strides:r,pad:n,dilations:a});return h?(0,l.reshape)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1HAaY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"divNoNan",function(){return d});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../tensor_util"),i=e("../tensor_util_env"),c=e("./div"),u=e("./equal"),l=e("./operation"),p=e("./where"),f=e("./zeros_like"),d=(0,l.op)({divNoNan_:function(e,t){var r,n=(0,i.convertToTensor)(e,"a","div"),a=(0,i.convertToTensor)(t,"b","div");n=(r=(0,s._)((0,o.makeTypesMatch)(n,a),2))[0],a=r[1];var l=(0,c.div)(n,a),d=(0,f.zerosLike)(l),h=(0,u.equal)(a,d);return(0,p.where)(h,d,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./div":"4hv3k","./equal":"6RV5u","./operation":"2e73h","./where":"lfpHP","./zeros_like":"1ZxCJ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6RV5u":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"equal",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({equal_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","equal","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","equal","string_or_numeric");n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return o.ENGINE.runKernel(i.Equal,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],d00Jz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){for(var r=e.length,n=[],a=0;a<r;a++){var s=r-1-a,o=e[s]||1;(t[t.length-1-a]||1)>1&&1===o&&n.unshift(s)}return n}function o(e,t){for(var r=[],n=0;n<t.length;n++){var a=e[e.length-n-1],s=t.length-n-1,o=t[s];(null==a||1===a&&o>1)&&r.unshift(s)}return r}function i(e,t){for(var r=Math.max(e.length,t.length),n=Array(r),a=0;a<r;a++){var s=e[e.length-a-1];null==s&&(s=1);var o=t[t.length-a-1];if(null==o&&(o=1),1===s)n[r-a-1]=o;else if(1===o)n[r-a-1]=s;else if(s!==o)throw Error("Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,"."));else n[r-a-1]=s}return n}a.defineInteropFlag(r),a.export(r,"getBroadcastDims",function(){return s}),a.export(r,"getReductionAxes",function(){return o}),a.export(r,"assertAndGetBroadcastShape",function(){return i})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lfpHP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"where",function(){return l});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./broadcast_to"),u=e("./broadcast_util"),l=(0,e("./operation").op)({where_:function(e,t,r){var n=(0,i.convertToTensor)(t,"a","where"),a=(0,i.convertToTensor)(r,"b","where"),l=(0,i.convertToTensor)(e,"condition","where","bool"),p=(0,u.assertAndGetBroadcastShape)((0,u.assertAndGetBroadcastShape)(l.shape,n.shape),a.shape),f=(0,c.broadcastTo)(l,p),d=(0,c.broadcastTo)(n,p),h=(0,c.broadcastTo)(a,p);return s.ENGINE.runKernel(o.Select,{condition:f,t:d,e:h})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./broadcast_to":"l57YX","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1ZxCJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zerosLike",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({zerosLike_:function(e){var t=(0,i.convertToTensor)(e,"x","zerosLike");return s.ENGINE.runKernel(o.ZerosLike,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8uKLu":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dot",function(){return l});var s=e("../tensor_util_env"),o=e("../util"),i=e("./mat_mul"),c=e("./operation"),u=e("./reshape"),l=(0,c.op)({dot_:function(e,t){var r=(0,s.convertToTensor)(e,"t1","dot"),n=(0,s.convertToTensor)(t,"t2","dot");o.assert((1===r.rank||2===r.rank)&&(1===n.rank||2===n.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(r.rank," and ").concat(n.rank,".")});var a=1===r.rank?r.size:r.shape[1],c=1===n.rank?n.size:n.shape[0];if(o.assert(a===c,function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(c,".")}),1===r.rank&&1===n.rank){var l=(0,u.reshape)(r,[1,-1]),p=(0,u.reshape)(n,[-1,1]),f=(0,i.matMul)(l,p);return(0,u.reshape)(f,[])}if(1===r.rank&&2===n.rank){var d=(0,u.reshape)(r,[1,-1]),h=(0,u.reshape)(n,[n.shape[0],n.shape[1]]),m=(0,i.matMul)(d,h);return(0,u.reshape)(m,[m.size])}if(2===r.rank&&1===n.rank){var g=(0,u.reshape)(n,[-1,1]),v=(0,i.matMul)(r,g);return(0,u.reshape)(v,[v.size])}var _=(0,u.reshape)(n,[n.shape[0],n.shape[1]]);return(0,i.matMul)(r,_)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./mat_mul":"3WX7I","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jjP0y:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"einsum_",function(){return c}),a.export(r,"einsum",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env");function c(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=r.map(function(e,t){return(0,i.convertToTensor)(e,"tensors".concat(t),"einsum")});return s.ENGINE.runKernel(o.Einsum,a,{equation:e})}var u=(0,e("./operation").op)({einsum_:c})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1F35l":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"elu",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({elu_:function(e){var t=(0,i.convertToTensor)(e,"x","elu","float32");return s.ENGINE.runKernel(o.Elu,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7J4v6":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ensureShape",function(){return i});var s=e("../tensor_util_env"),o=e("../util_base"),i=(0,e("./operation").op)({ensureShape_:function(e,t){var r=(0,s.convertToTensor)(e,"x","ensureShape","string_or_numeric");if(!(0,o.arraysEqualWithNull)(r.shape,t))throw Error("EnsureShape: Shape of tensor ".concat(r.shape," is not compatible with expected shape ").concat(t));return e}})},{"../tensor_util_env":"gGMh6","../util_base":"3jQov","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],abg43:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"erf",function(){return l});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./cast"),l=(0,e("./operation").op)({erf_:function(e){var t=(0,i.convertToTensor)(e,"x","erf");c.assert("int32"===t.dtype||"float32"===t.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===t.dtype&&(t=(0,u.cast)(t,"float32"));var r={x:t};return s.ENGINE.runKernel(o.Erf,r)}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./cast":"lsee3","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],uonC9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"euclideanNorm",function(){return o});var s=e("./norm"),o=(0,e("./operation").op)({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.norm)(e,"euclidean",t,r)}})},{"./norm":"4x8vh","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4x8vh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"norm",function(){return _});var s=e("../tensor_util_env"),o=e("../util"),i=e("./abs"),c=e("./axis_util"),u=e("./max"),l=e("./min"),p=e("./operation"),f=e("./pow"),d=e("./reshape"),h=e("./scalar"),m=e("./sqrt"),g=e("./square"),v=e("./sum"),_=(0,p.op)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===t.rank)return(0,i.abs)(t);if(1!==t.rank&&null===n)return e((0,d.reshape)(t,[-1]),r,n);if(1===t.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===r)return(0,v.sum)((0,i.abs)(t),n);if(r===1/0)return(0,u.max)((0,i.abs)(t),n);if(r===-1/0)return(0,l.min)((0,i.abs)(t),n);if("euclidean"===r||2===r)return(0,m.sqrt)((0,v.sum)((0,f.pow)((0,i.abs)(t),(0,h.scalar)(2,"int32")),n));throw Error("Error in norm: invalid ord value: ".concat(r))}if(Array.isArray(n)&&2===n.length){if(1===r)return(0,u.max)((0,v.sum)((0,i.abs)(t),n[0]),n[1]-1);if(r===1/0)return(0,u.max)((0,v.sum)((0,i.abs)(t),n[1]),n[0]);if(r===-1/0)return(0,l.min)((0,v.sum)((0,i.abs)(t),n[1]),n[0]);if("fro"===r||"euclidean"===r)return(0,m.sqrt)((0,v.sum)((0,g.square)(t),n));throw Error("Error in norm: invalid ord value: ".concat(r))}throw Error("Error in norm: invalid axis: ".concat(n))}(e=(0,s.convertToTensor)(e,"x","norm"),t,r),p=a.shape;if(n){var _=(0,o.parseAxisParam)(r,e.shape);p=c.expandShapeToKeepDim(a.shape,_)}return(0,d.reshape)(a,p)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./abs":"9oolp","./axis_util":"hUfIQ","./max":"3V7Jw","./min":"7F6wi","./operation":"2e73h","./pow":"j5OS2","./reshape":"7YgE0","./scalar":"2e16W","./sqrt":"QcYjO","./square":"ilRll","./sum":"bvUS6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hUfIQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"axesAreInnerMostDims",function(){return o}),a.export(r,"combineLocations",function(){return i}),a.export(r,"computeOutAndReduceShapes",function(){return c}),a.export(r,"expandShapeToKeepDim",function(){return u}),a.export(r,"assertAxesAreInnerMostDims",function(){return l}),a.export(r,"getAxesPermutation",function(){return p}),a.export(r,"getUndoAxesPermutation",function(){return f}),a.export(r,"getInnerMostAxes",function(){return d});var s=e("../util");function o(e,t){for(var r=0;r<e.length;++r)if(e[e.length-r-1]!==t-1-r)return!1;return!0}function i(e,t,r){for(var n=e.length+t.length,a=[],s=0,o=0,i=0;i<n;i++)-1===r.indexOf(i)?a.push(e[s++]):a.push(t[o++]);return a}function c(e,t){for(var r=[],n=e.length,a=0;a<n;a++)-1===t.indexOf(a)&&r.push(e[a]);return[r,t.map(function(t){return e[t]})]}function u(e,t){return i(e,t.map(function(e){return 1}),t)}function l(e,t,r){s.assert(o(t,r),function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(r," input.")})}function p(e,t){if(o(e,t))return null;for(var r=[],n=0;n<t;++n)-1===e.indexOf(n)&&r.push(n);return e.forEach(function(e){return r.push(e)}),r}function f(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function d(e,t){for(var r=[],n=t-e;n<t;++n)r.push(n);return r}},{"../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3V7Jw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"max",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","max");return s.ENGINE.runKernel(o.Max,{x:n},{reductionIndices:t,keepDims:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7F6wi":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"min",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","min");return s.ENGINE.runKernel(o.Min,{x:n},{axis:t,keepDims:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],j5OS2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pow",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({pow_:function(e,t){var r,n=(0,u.convertToTensor)(e,"base","pow"),a=(0,u.convertToTensor)(t,"exp","pow"),l={a:n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return o.ENGINE.runKernel(i.Pow,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2e16W":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scalar",function(){return i});var s=e("../util"),o=e("./tensor_ops_util");function i(e,t){if(((0,s.isTypedArray)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,s.isTypedArray)(e)&&!(e instanceof Uint8Array))throw Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,o.makeTensor)(e,[],[],t)}},{"../util":"pzc9n","./tensor_ops_util":"h8l3u","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],QcYjO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sqrt",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sqrt_:function(e){var t=(0,i.convertToTensor)(e,"x","sqrt","float32");return s.ENGINE.runKernel(o.Sqrt,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ilRll:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"square",function(){return i});var s=e("../engine"),o=e("../tensor_util_env"),i=(0,e("./operation").op)({square_:function(e){var t=(0,o.convertToTensor)(e,"x","square");return s.ENGINE.runKernel("Square",{x:t},{})}})},{"../engine":"196sS","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bvUS6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sum",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./cast"),u=(0,e("./operation").op)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","sum");"bool"===n.dtype&&(n=(0,c.cast)(n,"int32"));var a={x:n};return s.ENGINE.runKernel(o.Sum,a,{axis:t,keepDims:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./cast":"lsee3","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cFcjI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"exp",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({exp_:function(e){var t=(0,i.convertToTensor)(e,"x","exp");return s.ENGINE.runKernel(o.Exp,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3hsy0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expandDims",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","expandDims","string_or_numeric");return c.assert(t<=r.rank,function(){return"Axis must be <= rank of the tensor"}),s.ENGINE.runKernel(o.ExpandDims,{input:r},{dim:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8m9Zl":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expm1",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({expm1_:function(e){var t=(0,i.convertToTensor)(e,"x","expm1");return s.ENGINE.runKernel(o.Expm1,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gFICV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"eye",function(){return l});var s=e("./buffer"),o=e("./expand_dims"),i=e("./operation"),c=e("./reshape"),u=e("./tile"),l=(0,i.op)({eye_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=(0,s.buffer)([e,t],n),i=e<=t?e:t,l=0;l<i;++l)a.set(1,l,l);var p=(0,c.reshape)(a.toTensor(),[e,t]);if(null==r)return p;if(1===r.length)return(0,u.tile)((0,o.expandDims)(p,0),[r[0],1,1]);if(2===r.length)return(0,u.tile)((0,o.expandDims)((0,o.expandDims)(p,0),0),[r[0],r[1],1,1]);if(3===r.length)return(0,u.tile)((0,o.expandDims)((0,o.expandDims)((0,o.expandDims)(p,0),0),0),[r[0],r[1],r[2],1,1]);throw Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(r.length,"D."))}})},{"./buffer":"fzwwJ","./expand_dims":"3hsy0","./operation":"2e73h","./reshape":"7YgE0","./tile":"hxmGr","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hxmGr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tile",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({tile_:function(e,t){var r=(0,i.convertToTensor)(e,"x","tile","string_or_numeric");return c.assert(r.rank===t.length,function(){return"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of reps ".concat(t,".")}),s.ENGINE.runKernel(o.Tile,{x:r},{reps:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7BuXh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floor",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({floor_:function(e){var t=(0,i.convertToTensor)(e,"x","floor","float32");return s.ENGINE.runKernel(o.Floor,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4ID5P":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gather",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({gather_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=(0,i.convertToTensor)(e,"x","gather"),c=(0,i.convertToTensor)(t,"indices","gather","int32");return s.ENGINE.runKernel(o.GatherV2,{x:a,indices:c},{axis:r,batchDims:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aoAnC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greater",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({greater_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","greater","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","greater","string_or_numeric");n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return o.ENGINE.runKernel(i.Greater,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],knBU4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greaterEqual",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({greaterEqual_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","greaterEqual","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","greaterEqual","string_or_numeric");n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return o.ENGINE.runKernel(i.GreaterEqual,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ajw5w:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"imag",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({imag_:function(e){var t=(0,i.convertToTensor)(e,"input","imag");return s.ENGINE.runKernel(o.Imag,{input:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kyRLq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isFinite",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({isFinite_:function(e){var t=(0,i.convertToTensor)(e,"x","isFinite");return s.ENGINE.runKernel(o.IsFinite,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1Owyg":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isInf",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({isInf_:function(e){var t=(0,i.convertToTensor)(e,"x","isInf");return s.ENGINE.runKernel(o.IsInf,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],f2Ofe:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isNaN",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({isNaN_:function(e){var t=(0,i.convertToTensor)(e,"x","isNaN");return s.ENGINE.runKernel(o.IsNan,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7i74S":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"leakyRelu",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,r=(0,i.convertToTensor)(e,"x","leakyRelu");return s.ENGINE.runKernel(o.LeakyRelu,{x:r},{alpha:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iagRp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"less",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({less_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","less","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","less","string_or_numeric");n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return o.ENGINE.runKernel(i.Less,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jxEoy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lessEqual",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({lessEqual_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","lessEqual","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","lessEqual","string_or_numeric");n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return o.ENGINE.runKernel(i.LessEqual,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],frMe9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"linspace",function(){return i});var s=e("../engine"),o=e("../kernel_names");function i(e,t,r){if(r<=0)throw Error("The number of values should be positive.");return s.ENGINE.runKernel(o.LinSpace,{},{start:e,stop:t,num:r})}},{"../engine":"196sS","../kernel_names":"eNhfn","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7NuUO":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"localResponseNormalization",function(){return p});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,u=(0,i.convertToTensor)(e,"x","localResponseNormalization");c.assert(4===u.rank||3===u.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n rank ".concat(u.rank,".")}),c.assert(c.isInt(t),function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")});var p=u,f=!1;3===u.rank&&(f=!0,p=(0,l.reshape)(u,[1,u.shape[0],u.shape[1],u.shape[2]]));var d={x:p},h=s.ENGINE.runKernel(o.LRN,d,{depthRadius:t,bias:r,alpha:n,beta:a});return f?(0,l.reshape)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7a68H":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({log_:function(e){var t=(0,i.convertToTensor)(e,"x","log","float32");return s.ENGINE.runKernel(o.Log,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5OvGy":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log1p",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({log1p_:function(e){var t=(0,i.convertToTensor)(e,"x","log1p");return s.ENGINE.runKernel(o.Log1p,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4NRWe":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logSigmoid",function(){return f});var s=e("../gradients"),o=e("../tensor_util_env"),i=e("./mul"),c=e("./neg"),u=e("./operation"),l=e("./sigmoid"),p=e("./softplus"),f=(0,u.op)({logSigmoid_:function(e){var t=(0,o.convertToTensor)(e,"x","logSigmoid");return(0,s.customGrad)(function(e){return{value:(0,c.neg)((0,p.softplus)((0,c.neg)(e))),gradFunc:function(t){return(0,i.mul)(t,(0,l.sigmoid)((0,c.neg)(e)))}}})(t)}})},{"../gradients":"16TAF","../tensor_util_env":"gGMh6","./mul":"ex4Je","./neg":"dMJaD","./operation":"2e73h","./sigmoid":"9YkPO","./softplus":"3ZsKL","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"16TAF":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"customGrad",function(){return m}),a.export(r,"variableGrads",function(){return h}),a.export(r,"valueAndGrad",function(){return f}),a.export(r,"valueAndGrads",function(){return d}),a.export(r,"grad",function(){return l}),a.export(r,"grads",function(){return p});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("./engine"),i=e("./tensor"),c=e("./tensor_util_env"),u=e("./util");function l(e){return u.assert(u.isFunction(e),function(){return"The f passed in grad(f) must be a function"}),function(t,r){var n=(0,c.convertToTensor)(t,"x","tf.grad","string_or_numeric"),a=null!=r?(0,c.convertToTensor)(r,"dy","tf.grad"):null;return o.ENGINE.tidy(function(){var t=o.ENGINE.gradients(function(){return e(n)},[n],a),r=t.value,s=t.grads;return null!=a&&u.assertShapesMatch(r.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),g(s),s[0]})}}function p(e){return u.assert(u.isFunction(e),function(){return"The f passed in grads(f) must be a function"}),function(t,r){u.assert(Array.isArray(t),function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"});var n=(0,c.convertToTensorArray)(t,"args","tf.grads","string_or_numeric"),a=null!=r?(0,c.convertToTensor)(r,"dy","tf.grads"):null;return o.ENGINE.tidy(function(){var t=o.ENGINE.gradients(function(){return e.apply(void 0,(0,s._)(n))},n,a),r=t.value,i=t.grads;return null!=a&&u.assertShapesMatch(r.shape,a.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),g(i),i})}}function f(e){return u.assert(u.isFunction(e),function(){return"The f passed in valueAndGrad(f) must be a function"}),function(t,r){u.assert(t instanceof i.Tensor,function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"}),u.assert(null==r||r instanceof i.Tensor,function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"});var n=o.ENGINE.gradients(function(){return e(t)},[t],r),a=n.grads,s=n.value;return g(a),{grad:a[0],value:s}}}function d(e){return u.assert(u.isFunction(e),function(){return"The f passed in valueAndGrads(f) must be a function"}),function(t,r){u.assert(Array.isArray(t)&&t.every(function(e){return e instanceof i.Tensor}),function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"}),u.assert(null==r||r instanceof i.Tensor,function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"});var n=o.ENGINE.gradients(function(){return e.apply(void 0,(0,s._)(t))},t,r);return null!=r&&u.assertShapesMatch(n.value.shape,r.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),g(n.grads),n}}function h(e,t){u.assert(u.isFunction(e),function(){return"The f passed in variableGrads(f) must be a function"}),u.assert(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof i.Variable}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var r=null!=t;if(!r)for(var n in t=[],o.ENGINE.registeredVariables)t.push(o.ENGINE.registeredVariables[n]);var a=r?t.filter(function(e){return!e.trainable}):null,s=t.length;t=t.filter(function(e){return e.trainable}),u.assert(t.length>0,function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(s," variables is ")+"trainable."});var c=o.ENGINE.gradients(e,t,null,!0),l=c.value,p=c.grads;u.assert(p.some(function(e){return null!=e}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),u.assert(0===l.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")});var f={};return t.forEach(function(e,t){null!=p[t]&&(f[e.name]=p[t])}),null!=a&&a.forEach(function(e){return f[e.name]=null}),{value:l,grads:f}}function m(e){return o.ENGINE.customGrad(e)}function g(e){if(e.filter(function(e){return null==e}).length>0)throw Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n the f you passed encloses all operations that lead from x to y.")}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","./engine":"196sS","./tensor":"6gbjA","./tensor_util_env":"gGMh6","./util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dMJaD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"neg",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({neg_:function(e){var t=(0,i.convertToTensor)(e,"x","neg");return s.ENGINE.runKernel(o.Neg,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3ZsKL":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softplus",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({softplus_:function(e){var t=(0,i.convertToTensor)(e,"x","softplus");return s.ENGINE.runKernel(o.Softplus,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],i1zpo:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logSoftmax",function(){return g});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../gradients"),i=e("../tensor_util_env"),c=e("./cast"),u=e("./exp"),l=e("./log"),p=e("./max"),f=e("./mul"),d=e("./operation"),h=e("./sub"),m=e("./sum"),g=(0,d.op)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=(0,i.convertToTensor)(e,"logits","logSoftmax");if(-1===t&&(t=r.rank-1),t!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(r.rank," and axis was ").concat(t));return(0,o.customGrad)(function(e,r){var n=(0,p.max)(e,t,!0),a=(0,h.sub)(e,n),o=(0,h.sub)((0,c.cast)(a,"float32"),(0,l.log)((0,m.sum)((0,u.exp)(a),t,!0)));return r([o]),{value:o,gradFunc:function(e,r){var n=(0,s._)(r,1)[0],a=(0,u.exp)(n);return(0,h.sub)(e,(0,f.mul)((0,m.sum)(e,t,!0),a))}}})(r)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../gradients":"16TAF","../tensor_util_env":"gGMh6","./cast":"lsee3","./exp":"cFcjI","./log":"7a68H","./max":"3V7Jw","./mul":"ex4Je","./operation":"2e73h","./sub":"3d8AE","./sum":"bvUS6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3d8AE":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sub",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({sub_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","sub"),a=(0,u.convertToTensor)(t,"b","sub"),l={a:n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return o.ENGINE.runKernel(i.Sub,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gbL9W:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logSumExp",function(){return g});var s=e("../tensor_util_env"),o=e("../util"),i=e("./add"),c=e("./axis_util"),u=e("./exp"),l=e("./log"),p=e("./max"),f=e("./operation"),d=e("./reshape"),h=e("./sub"),m=e("./sum"),g=(0,f.op)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,s.convertToTensor)(e,"x","logSumExp"),a=(0,o.parseAxisParam)(t,n.shape),f=(0,p.max)(n,a,!0),g=(0,h.sub)(n,f),v=(0,u.exp)(g),_=(0,m.sum)(v,a),x=(0,l.log)(_),y=(0,i.add)((0,d.reshape)(f,x.shape),x);if(r){var b=(0,c.expandShapeToKeepDim)(y.shape,a);return(0,d.reshape)(y,b)}return y}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./add":"6RBEg","./axis_util":"hUfIQ","./exp":"cFcjI","./log":"7a68H","./max":"3V7Jw","./operation":"2e73h","./reshape":"7YgE0","./sub":"3d8AE","./sum":"bvUS6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aEGo0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalAnd",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./broadcast_util"),u=(0,e("./operation").op)({logicalAnd_:function(e,t){var r=(0,i.convertToTensor)(e,"a","logicalAnd","bool"),n=(0,i.convertToTensor)(t,"b","logicalAnd","bool");return(0,c.assertAndGetBroadcastShape)(r.shape,n.shape),s.ENGINE.runKernel(o.LogicalAnd,{a:r,b:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bB2Yj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalNot",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({logicalNot_:function(e){var t=(0,i.convertToTensor)(e,"x","logicalNot","bool");return s.ENGINE.runKernel(o.LogicalNot,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],b0Vpx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalOr",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./broadcast_util"),u=(0,e("./operation").op)({logicalOr_:function(e,t){var r=(0,i.convertToTensor)(e,"a","logicalOr","bool"),n=(0,i.convertToTensor)(t,"b","logicalOr","bool");return(0,c.assertAndGetBroadcastShape)(r.shape,n.shape),s.ENGINE.runKernel(o.LogicalOr,{a:r,b:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2evj4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalXor",function(){return l});var s=e("../tensor_util_env"),o=e("./broadcast_util"),i=e("./logical_and"),c=e("./logical_not"),u=e("./logical_or"),l=(0,e("./operation").op)({logicalXor_:function(e,t){var r=(0,s.convertToTensor)(e,"a","logicalXor","bool"),n=(0,s.convertToTensor)(t,"b","logicalXor","bool");return(0,o.assertAndGetBroadcastShape)(r.shape,n.shape),(0,i.logicalAnd)((0,u.logicalOr)(e,t),(0,c.logicalNot)((0,i.logicalAnd)(e,t)))}})},{"../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./logical_and":"aEGo0","./logical_not":"bB2Yj","./logical_or":"b0Vpx","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iNfMc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lowerBound",function(){return o});var s=e("./search_sorted");function o(e,t){return(0,s.searchSorted)(e,t,"left")}},{"./search_sorted":"aMuIp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aMuIp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"searchSorted",function(){return p});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util_base"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({searchSorted_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",n=(0,i.convertToTensor)(e,"sortedSequence","searchSorted"),a=(0,i.convertToTensor)(t,"values","searchSorted"),u=n.shape[n.shape.length-1],p=a.shape[a.shape.length-1],f=(0,l.reshape)(n,[-1,u]),d=(0,l.reshape)(a,[-1,p]);if(f.rank<2)throw Error("Sorted input argument must be at least 2-dimensional");if(f.shape[0]!==d.shape[0])throw Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,c.sizeFromShape)(d.shape)>=0x80000000)throw Error("values tensor size must less than ".concat(0x80000000));if(f.shape[1]>=0x80000000)throw Error("trailing dim_size must less than ".concat(0x80000000," for int32 output type, was ").concat(f.shape[1]));return s.ENGINE.runKernel(o.SearchSorted,{sortedSequence:f,values:d},{side:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util_base":"3jQov","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gYmVG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool",function(){return f});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({maxPool_:function(e,t,r,n,a){var l=(0,i.convertToTensor)(e,"x","maxPool"),f=l,d=!1;3===l.rank&&(d=!0,f=(0,p.reshape)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),c.assert(4===f.rank,function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(f.rank,".")}),c.assert(u.eitherStridesOrDilationsAreOne(r,1),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(1,"'")}),u.checkPadOnDimRoundingMode("maxPool",n,a);var h={x:f},m=s.ENGINE.runKernel(o.MaxPool,h,{filterSize:t,strides:r,pad:n,dimRoundingMode:a});return d?(0,p.reshape)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dbDav:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3d",function(){return f});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",f=(0,i.convertToTensor)(e,"x","maxPool3d"),d=f,h=!1;4===f.rank&&(h=!0,d=(0,p.reshape)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),c.assert(5===d.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(d.rank,".")}),c.assert("NDHWC"===l,function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(l)}),(0,u.checkPadOnDimRoundingMode)("maxPool3d",n,a);var m={x:d},g=s.ENGINE.runKernel(o.MaxPool3D,m,{filterSize:t,strides:r,pad:n,dimRoundingMode:a,dataFormat:l});return h?(0,p.reshape)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hdA0K:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmax",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({maxPoolWithArgmax_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=(0,i.convertToTensor)(e,"x","maxPoolWithArgmax"),u=s.ENGINE.runKernel(o.MaxPoolWithArgmax,{x:c},{filterSize:t,strides:r,pad:n,includeBatchInIndex:a});return{result:u[0],indexes:u[1]}}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g17QF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maximum",function(){return f});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=e("./cast"),f=(0,e("./operation").op)({maximum_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","maximum"),a=(0,u.convertToTensor)(t,"b","maximum");n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],"bool"===n.dtype&&(n=(0,p.cast)(n,"int32"),a=(0,p.cast)(a,"int32")),(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var f={a:n,b:a};return o.ENGINE.runKernel(i.Maximum,f)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./cast":"lsee3","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2jctE":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mean",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","mean");return s.ENGINE.runKernel(o.Mean,{x:n},{axis:t,keepDims:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"773iv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"meshgrid",function(){return p});var s=e("./mat_mul"),o=e("./ones"),i=e("./reshape"),c=e("../tensor"),u=e("../tensor_util_env"),l=e("../util_base");function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.indexing,a=void 0===n?"xy":n;if("xy"!==a&&"ij"!==a)throw TypeError("".concat(a," is not a valid third argument to meshgrid"));if(void 0===e)return[];var p=(0,u.convertToTensor)(e,"x","meshgrid",e instanceof c.Tensor?e.dtype:"float32");if(void 0===t)return[p];var f=(0,u.convertToTensor)(t,"y","meshgrid",t instanceof c.Tensor?t.dtype:"float32"),d=(0,l.sizeFromShape)(p.shape),h=(0,l.sizeFromShape)(f.shape);return"xy"===a?(p=(0,i.reshape)(p,[1,-1]),f=(0,i.reshape)(f,[-1,1]),[(0,s.matMul)((0,o.ones)([h,1],p.dtype),p),(0,s.matMul)(f,(0,o.ones)([1,d],f.dtype))]):(p=(0,i.reshape)(p,[-1,1]),f=(0,i.reshape)(f,[1,-1]),[(0,s.matMul)(p,(0,o.ones)([1,h],p.dtype)),(0,s.matMul)((0,o.ones)([d,1],f.dtype),f)])}},{"./mat_mul":"3WX7I","./ones":"8iQJo","./reshape":"7YgE0","../tensor":"6gbjA","../tensor_util_env":"gGMh6","../util_base":"3jQov","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8iQJo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ones",function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if((0,i.assertNonNegativeIntegerDimensions)(t),"complex64"===r){var n=e(t,"float32"),a=(0,u.zeros)(t,"float32");return(0,c.complex)(n,a)}var l=(0,o.makeOnesTypedArray)((0,o.sizeFromShape)(t),r);return s.ENGINE.makeTensor(l,t,r)}});var s=e("../engine"),o=e("../util"),i=e("../util_base"),c=e("./complex"),u=e("./zeros")},{"../engine":"196sS","../util":"pzc9n","../util_base":"3jQov","./complex":"dG4kr","./zeros":"Gjszj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],Gjszj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zeros",function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if((0,o.assertNonNegativeIntegerDimensions)(t),"complex64"===r){var n=e(t,"float32"),a=e(t,"float32");return(0,i.complex)(n,a)}var c=(0,o.makeZerosTypedArray)((0,o.sizeFromShape)(t),r);return s.ENGINE.makeTensor(c,t,r)}});var s=e("../engine"),o=e("../util"),i=e("./complex")},{"../engine":"196sS","../util":"pzc9n","./complex":"dG4kr","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5JemG":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"minimum",function(){return f});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=e("./cast"),f=(0,e("./operation").op)({minimum_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","minimum"),a=(0,u.convertToTensor)(t,"b","minimum");n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],"bool"===n.dtype&&(n=(0,p.cast)(n,"int32"),a=(0,p.cast)(a,"int32")),(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var f={a:n,b:a};return o.ENGINE.runKernel(i.Minimum,f)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./cast":"lsee3","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],erBfr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mirrorPad",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({mirrorPad_:function(e,t,r){var n=function(e){c.assert(2===t[e].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),c.assert(t[e][0]>=0&&t[e][0]<=a.shape[e]-u&&t[e][1]>=0&&t[e][1]<=a.shape[e]-u,function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(a.shape[e]-u," or less than 0 for input of ")+"shape ".concat(a.shape)})};c.assert("reflect"===r||"symmetric"===r,function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(r,".")});var a=(0,i.convertToTensor)(e,"x","mirrorPad");if(0===a.rank)throw Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");c.assert(t.length===a.rank,function(){return"Padding doesn't match input. Must be ".concat(a.rank,". ")+"Got ".concat(t.length,".")});for(var u=+("reflect"===r),l=0;l<a.rank;l++)n(l);return s.ENGINE.runKernel(o.MirrorPad,{x:a},{paddings:t,mode:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6hoEl":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mod",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({mod_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","mod"),a=(0,u.convertToTensor)(t,"b","mod"),l={a:n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return o.ENGINE.runKernel(i.Mod,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aIshz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"moments",function(){return h});var s=e("../tensor_util_env"),o=e("../util"),i=e("./axis_util"),c=e("./cast"),u=e("./mean"),l=e("./operation"),p=e("./reshape"),f=e("./square"),d=e("./sub"),h=(0,l.op)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=(0,s.convertToTensor)(e,"x","moments");var n=(0,o.parseAxisParam)(t,e.shape),a=(0,u.mean)(e,n,r),l=a.shape;r||(l=(0,i.expandShapeToKeepDim)(a.shape,n));var h=(0,f.square)((0,d.sub)((0,c.cast)(e,"float32"),(0,p.reshape)(a,l)));return{mean:a,variance:(0,u.mean)(h,n,r)}}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./axis_util":"hUfIQ","./cast":"lsee3","./mean":"2jctE","./operation":"2e73h","./reshape":"7YgE0","./square":"ilRll","./sub":"3d8AE","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3PbFE":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multiRNNCell",function(){return o});var s=e("../tensor_util_env"),o=(0,e("./operation").op)({multiRNNCell_:function(e,t,r,n){for(var a=(0,s.convertToTensor)(t,"data","multiRNNCell"),o=(0,s.convertToTensorArray)(r,"c","multiRNNCell"),i=(0,s.convertToTensorArray)(n,"h","multiRNNCell"),c=a,u=[],l=0;l<e.length;l++){var p=e[l](c,o[l],i[l]);u.push(p[0]),u.push(p[1]),c=p[1]}for(var f=[],d=[],h=0;h<u.length;h+=2)f.push(u[h]),d.push(u[h+1]);return[f,d]}})},{"../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4WGFb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multinomial",function(){return l});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./operation"),u=e("./reshape"),l=(0,c.op)({multinomial_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.convertToTensor)(e,"logits","multinomial"),c=a.size,l=a.rank;if(c<2)throw Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(c,"."));if(l>2)throw Error("Rank of probabilities must be 1 or 2, but is ".concat(l));r=r||Math.random();var p=1===l?(0,u.reshape)(a,[1,-1]):a,f={numSamples:t,seed:r,normalized:n},d=s.ENGINE.runKernel(o.Multinomial,{logits:p},f);return 1===l?(0,u.reshape)(d,[d.size]):d}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1vubT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"notEqual",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({notEqual_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","notEqual","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","notEqual","string_or_numeric");n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return o.ENGINE.runKernel(i.NotEqual,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"71DgA":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"oneHot",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({oneHot_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var c=(0,i.convertToTensor)(e,"indices","oneHot","int32");return s.ENGINE.runKernel(o.OneHot,{indices:c},{dtype:a,depth:t,onValue:r,offValue:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3QQ9j":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"onesLike",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({onesLike_:function(e){var t=(0,i.convertToTensor)(e,"x","onesLike");return s.ENGINE.runKernel(o.OnesLike,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hcqGL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"outerProduct",function(){return l});var s=e("../tensor_util_env"),o=e("../util"),i=e("./mat_mul"),c=e("./operation"),u=e("./reshape"),l=(0,c.op)({outerProduct_:function(e,t){var r=(0,s.convertToTensor)(e,"v1","outerProduct"),n=(0,s.convertToTensor)(t,"v2","outerProduct");o.assert(1===r.rank&&1===n.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(r.rank," and ").concat(n.rank,".")});var a=(0,u.reshape)(r,[-1,1]),c=(0,u.reshape)(n,[1,-1]);return(0,i.matMul)(a,c)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./mat_mul":"3WX7I","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],k2gGZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({pad_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=(0,i.convertToTensor)(e,"x","pad");if(0===n.rank)throw Error("pad(scalar) is not defined. Pass non-scalar to pad");return s.ENGINE.runKernel(o.PadV2,{x:n},{paddings:t,constantValue:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"73Guq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad1d",function(){return c});var s=e("../util"),o=e("./operation"),i=e("./pad"),c=(0,o.op)({pad1d_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,s.assert)(2===t.length,function(){return"Invalid number of paddings. Must be length of 2."}),(0,i.pad)(e,[t],r)}})},{"../util":"pzc9n","./operation":"2e73h","./pad":"k2gGZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dOQS3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad2d",function(){return c});var s=e("../util"),o=e("./operation"),i=e("./pad"),c=(0,o.op)({pad2d_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,s.assert)(2===t.length&&2===t[0].length&&2===t[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),(0,i.pad)(e,t,r)}})},{"../util":"pzc9n","./operation":"2e73h","./pad":"k2gGZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eGc1x:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad3d",function(){return c});var s=e("../util"),o=e("./operation"),i=e("./pad"),c=(0,o.op)({pad3d_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,s.assert)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),(0,i.pad)(e,t,r)}})},{"../util":"pzc9n","./operation":"2e73h","./pad":"k2gGZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3OT5D":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad4d",function(){return c});var s=e("../util"),o=e("./operation"),i=e("./pad"),c=(0,o.op)({pad4d_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,s.assert)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),(0,i.pad)(e,t,r)}})},{"../util":"pzc9n","./operation":"2e73h","./pad":"k2gGZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5cVQJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pool",function(){return m});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../tensor_util_env"),i=e("../util"),c=e("./avg_pool"),u=e("./batch_to_space_nd"),l=e("./conv_util"),p=e("./max_pool"),f=e("./operation"),d=e("./reshape"),h=e("./space_to_batch_nd"),m=(0,f.op)({pool_:function(e,t,r,n,a,f,m){null==a&&(a=[1,1]),null==f&&(f=1),0===n&&(n="valid");var g,v,_,x,y,b,k,j,w,I,T,S,N,M,C=(0,o.convertToTensor)(e,"x","maxPool"),E=C,F=!1;3===C.rank&&(F=!0,E=(0,d.reshape)(C,[1,C.shape[0],C.shape[1],C.shape[2]])),i.assert(l.eitherStridesOrDilationsAreOne(f,a),function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(f," and dilations '").concat(a,"'")});var A=l.computePool2DInfo(E.shape,t,f,a,n),R=[A.dilationHeight,A.dilationWidth];M="same"===n?(g=[A.filterHeight,A.filterWidth],v=R,x=(_=g.map(function(e,t){return e+(e-1)*(v[t]-1)}).map(function(e){return e-1})).map(function(e){return Math.floor(e/2)}),y=_.map(function(e,t){return e-x[t]}),_.map(function(e,t){return[x[t],y[t]]})):[[0,0],[0,0]];var P=1===R[0]&&1===R[1],O=(0,s._)((b=[A.inHeight,A.inWidth],k=R,w=(j=M).map(function(e){return e[0]}),T=b.concat(w,I=j.map(function(e){return e[1]})),S=k.map(function(e,t){return(e-T[t]%e)%e}),N=I.map(function(e,t){return e+S[t]}),[k.map(function(e,t){return[w[t],N[t]]}),k.map(function(e,t){return[0,S[t]]})]),2),D=O[0],B=O[1],V=P?n:"valid",G=P?E:(0,h.spaceToBatchND)(E,R,D),L=("avg"===r?function(){return(0,c.avgPool)(G,t,f,V,m)}:function(){return(0,p.maxPool)(G,t,f,V,m)})(),q=P?L:(0,u.batchToSpaceND)(L,R,B);return F?(0,d.reshape)(q,[q.shape[1],q.shape[2],q.shape[3]]):q}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../tensor_util_env":"gGMh6","../util":"pzc9n","./avg_pool":"41pvU","./batch_to_space_nd":"6z4uT","./conv_util":"EtnDJ","./max_pool":"gYmVG","./operation":"2e73h","./reshape":"7YgE0","./space_to_batch_nd":"bU45T","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bU45T:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"spaceToBatchND",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({spaceToBatchND_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","spaceToBatchND");return c.assert(n.rank>=1+t.length,function(){return"input rank ".concat(n.rank," should be > than [blockShape] ").concat(t.length)}),c.assert(r.length===t.length,function(){return"paddings.shape[0] ".concat(r.length," must be equal to [blockShape] ").concat(t.length)}),c.assert(n.shape.reduce(function(e,n,a){return a>0&&a<=t.length?e&&(n+r[a-1][0]+r[a-1][1])%t[a-1]==0:e},!0),function(){return"input spatial dimensions ".concat(n.shape.slice(1)," with paddings ").concat(r.toString()," must be divisible by blockShapes ").concat(t.toString())}),s.ENGINE.runKernel(o.SpaceToBatchND,{x:n},{blockShape:t,paddings:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"82lYM":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prelu",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({prelu_:function(e,t){var r=(0,i.convertToTensor)(e,"x","prelu"),n=(0,i.convertToTensor)(t,"alpha","prelu");return s.ENGINE.runKernel(o.Prelu,{x:r,alpha:n})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],f2COT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prod",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./cast"),u=(0,e("./operation").op)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","prod");"bool"===n.dtype&&(n=(0,c.cast)(n,"int32"));var a={x:n};return s.ENGINE.runKernel(o.Prod,a,{axis:t,keepDims:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./cast":"lsee3","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lUbhX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedGather",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({raggedGather_:function(e,t,r,n){var a=e.map(function(e,t){return(0,i.convertToTensor)(e,"tensors".concat(t),"raggedGather","int32")}),c=(0,i.convertToTensor)(t,"paramsDenseValues","raggedGather"),u=(0,i.convertToTensor)(r,"indices","raggedGather","int32"),l=s.ENGINE.runKernel(o.RaggedGather,{paramsNestedSplits:a,paramsDenseValues:c,indices:u},{outputRaggedRank:n});return{outputNestedSplits:l.slice(0,l.length-1),outputDenseValues:l[l.length-1]}}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7Mu94":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedRange",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({raggedRange_:function(e,t,r){var n=(0,i.convertToTensor)(e,"starts","raggedRange"),a=(0,i.convertToTensor)(t,"limits","raggedRange",n.dtype),c=(0,i.convertToTensor)(r,"deltas","raggedRange",n.dtype),u=s.ENGINE.runKernel(o.RaggedRange,{starts:n,limits:a,deltas:c});return{rtNestedSplits:u[0],rtDenseValues:u[1]}}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ccvxs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedTensorToTensor",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({raggedTensorToTensor_:function(e,t,r,n,a){var c=(0,i.convertToTensor)(e,"shape","raggedTensorToTensor","int32"),u=(0,i.convertToTensor)(t,"values","raggedTensorToTensor"),l=(0,i.convertToTensor)(r,"defaultValue","raggedTensorToTensor",u.dtype),p=n.map(function(e,t){return(0,i.convertToTensor)(e,"tensors".concat(t),"raggedTensorToTensor","int32")});return s.ENGINE.runKernel(o.RaggedTensorToTensor,{shape:c,values:u,defaultValue:l,rowPartitionTensors:p},{rowPartitionTypes:a})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9eBDe":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rand",function(){return c});var s=e("../engine"),o=e("../util"),i=e("../util_base"),c=(0,e("./operation").op)({rand_:function(e,t,r){(0,i.assertNonNegativeIntegerDimensions)(e);var n=(0,o.sizeFromShape)(e),a=null;if(null==r||"float32"===r)a=new Float32Array(n);else if("int32"===r)a=new Int32Array(n);else if("bool"===r)a=new Uint8Array(n);else throw Error("Unknown data type ".concat(r));for(var c=0;c<n;c++)a[c]=t();return s.ENGINE.makeTensor(a,e,r)}})},{"../engine":"196sS","../util":"pzc9n","../util_base":"3jQov","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jD2vx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomGamma",function(){return u});var s=e("../util_base"),o=e("./buffer"),i=e("./operation"),c=e("./rand_util"),u=(0,i.op)({randomGamma_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if((0,s.assertNonNegativeIntegerDimensions)(e),null==r&&(r=1),null==n&&(n="float32"),"float32"!==n&&"int32"!==n)throw Error("Unsupported data type ".concat(n));for(var i=new(0,c.RandGamma)(t,r,n,a),u=(0,o.buffer)(e,n),l=0;l<u.values.length;l++)u.values[l]=i.nextValue();return u.toTensor()}})},{"../util_base":"3jQov","./buffer":"fzwwJ","./operation":"2e73h","./rand_util":"b4wMI","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],b4wMI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MPRandGauss",function(){return u}),a.export(r,"RandGamma",function(){return l}),a.export(r,"UniformRandom",function(){return p}),a.export(r,"jarqueBeraNormalityTest",function(){return f}),a.export(r,"expectArrayInMeanStdRange",function(){return d});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("seedrandom"),c=e("../test_util"),u=function(){"use strict";function e(t,r,n,a,o){(0,s._)(this,e),this.mean=t,this.stdDev=r,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var c=o||Math.random();this.random=i.alea(c.toString())}return(0,o._)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e,t,r=this.nextVal;return this.nextVal=NaN,r}for(var n=!1;!n;){var a=void 0,s=void 0,o=void 0;do o=(a=2*this.random()-1)*a+(s=2*this.random()-1)*s;while(o>=1||0===o)var i=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*a*i,t=this.mean+this.stdDev*s*i,(!this.truncated||this.isValidTruncated(e))&&(n=!0)}return(!this.truncated||this.isValidTruncated(t))&&(this.nextVal=this.convertValue(t)),this.convertValue(e)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),l=function(){"use strict";function e(t,r,n,a){(0,s._)(this,e),this.alpha=t,this.beta=1/r,this.dtype=n;var o=a||Math.random();this.randu=i.alea(o.toString()),this.randn=new u(0,1,n,!1,this.randu()),t<1?this.d=t+2/3:this.d=t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,o._)(e,[{key:"nextValue",value:function(){for(var e,t,r,n,a,s;;){do n=this.randn.nextValue(),s=1+this.c*n;while(s<=0)if(s*=s*s,t=1-.331*(e=n*n)*e,r=.5*e+this.d*(1-s+Math.log(s)),(a=this.randu())<t||Math.log(a)<r)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),p=function(){"use strict";function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if((0,s._)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=r,this.range=n-r,this.dtype=a,null==o&&(o=Math.random()),"number"==typeof o&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw Error("The difference between ".concat(r," - ").concat(n," <= 1 and dtype is not float"));this.random=i.alea(o)}return(0,o._)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();function f(e){var t=e.length/6*(Math.pow(function(e){for(var t=h(e),r=e.length,n=0,a=0,s=0;s<r;s++){var o=e[s]-t;n+=Math.pow(o,2),a+=Math.pow(o,3)}return 1/r*a/Math.pow(1/(r-1)*n,1.5)}(e),2)+.25*Math.pow(function(e){for(var t=h(e),r=e.length,n=0,a=0,s=0;s<r;s++){var o=e[s]-t;n+=Math.pow(o,2),a+=Math.pow(o,4)}return 1/r*a/Math.pow(1/r*n,2)}(e)-3,2));if(t>5.991)throw Error("Invalid p-value for JB: ".concat(t))}function d(e,t,r,n){null==n&&(n=(0,c.testEpsilon)());var a=h(e);(0,c.expectNumbersClose)(a,t,n),(0,c.expectNumbersClose)(function(e,t){for(var r=0,n=0;n<e.length;n++){var a=e[n]-t;r+=a*a}return Math.sqrt(r/e.length)}(e,a),r,n)}function h(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t/e.length}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK",seedrandom:"gRsNz","../test_util":"2Tfgx","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gRsNz:[function(e,t,r,n){var a=e("12650d0e2f5e5e92"),s=e("2e9ff46cdee4aab4"),o=e("a04af32374227880"),i=e("65d05f6db8da652c"),c=e("1e972c6b140abbe7"),u=e("286eb9753e804cda"),l=e("a0d0bb1ebcf7d3f9");l.alea=a,l.xor128=s,l.xorwow=o,l.xorshift7=i,l.xor4096=c,l.tychei=u,t.exports=l},{"12650d0e2f5e5e92":"7emSu","2e9ff46cdee4aab4":"5wko1",a04af32374227880:"hPHnR","65d05f6db8da652c":"beX2k","1e972c6b140abbe7":"aZW2H","286eb9753e804cda":"eHiei",a0d0bb1ebcf7d3f9:"fDyUm"}],"7emSu":[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(e,t,r){function n(e){var t,r=this,n=(t=0xefc8249d,function(e){e=String(e);for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=0x100000000*n}return(t>>>0)*23283064365386963e-26});r.next=function(){var e=2091639*r.s0+23283064365386963e-26*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1)}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var r=new n(e),o=t&&t.state,i=r.next;return i.int32=function(){return 0x100000000*r.next()|0},i.double=function(){return i()+(2097152*i()|0)*11102230246251565e-32},i.quick=i,o&&((void 0===o?"undefined":(0,a._)(o))=="object"&&s(o,r),i.state=function(){return s(r,{})}),i}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.alea=o}(0,t,"function"==typeof define&&define)},{"@swc/helpers/cjs/_type_of.cjs":"iXhRw"}],"5wko1":[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(e,t,r){function n(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=r.charCodeAt(n),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var r=new n(e),o=t&&t.state,i=function(){return(r.next()>>>0)/0x100000000};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},i.int32=r.next,i.quick=i,o&&((void 0===o?"undefined":(0,a._)(o))=="object"&&s(o,r),i.state=function(){return s(r,{})}),i}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xor128=o}(0,t,"function"==typeof define&&define)},{"@swc/helpers/cjs/_type_of.cjs":"iXhRw"}],hPHnR:[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var r=new n(e),o=t&&t.state,i=function(){return(r.next()>>>0)/0x100000000};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},i.int32=r.next,i.quick=i,o&&((void 0===o?"undefined":(0,a._)(o))=="object"&&s(o,r),i.state=function(){return s(r,{})}),i}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xorwow=o}(0,t,"function"==typeof define&&define)},{"@swc/helpers/cjs/_type_of.cjs":"iXhRw"}],beX2k:[function(e,t,r,n){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.x,a=t.i;return e=n[a],e^=e>>>7,r=e^e<<24^((e=n[a+1&7])^e>>>10)^((e=n[a+3&7])^e>>>3)^((e=n[a+4&7])^e<<7),e=n[a+7&7],e^=e<<13,r^=e^e<<9,n[a]=r,t.i=a+1&7,r};var r,n=e,a=[];if(n===(0|n))a[0]=n;else for(r=0,n=""+n;r<n.length;++r)a[7&r]=a[7&r]<<15^n.charCodeAt(r)+a[r+1&7]<<13;for(;a.length<8;)a.push(0);for(r=0;r<8&&0===a[r];++r);for(8==r?a[7]=-1:a[r],t.x=a,t.i=0,r=256;r>0;--r)t.next()}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var r=new n(e),s=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,s&&(s.x&&a(s,r),o.state=function(){return a(r,{})}),o}t&&t.exports?t.exports=s:r&&r.amd?r(function(){return s}):this.xorshift7=s}(0,t,"function"==typeof define&&define)},{}],aZW2H:[function(e,t,r,n){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.w,a=t.X,s=t.i;return t.w=n=n+0x61c88647|0,r=a[s+34&127],e=a[s=s+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=a[s]=r^e,t.i=s,r+(n^n>>>16)|0},!function(e,t){var r,n,a,s,o,i=[],c=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,c=Math.max(c,t.length)),a=0,s=-32;s<c;++s)t&&(n^=t.charCodeAt((s+32)%t.length)),0===s&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,s>=0&&(o=o+0x61c88647|0,a=0==(r=i[127&s]^=n+o)?a+1:0);for(a>=128&&(i[127&(t&&t.length||0)]=-1),a=127,s=512;s>0;--s)n=i[a+34&127],r=i[a=a+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,i[a]=n^r;e.w=o,e.X=i,e.i=a}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var r=new n(e),s=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,s&&(s.X&&a(s,r),o.state=function(){return a(r,{})}),o}t&&t.exports?t.exports=s:r&&r.amd?r(function(){return s}):this.xor4096=s}(0,t,"function"==typeof define&&define)},{}],eHiei:[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,a=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-0x61c88647,t.d=0x517cc1b7,e===Math.floor(e)?(t.a=e/0x100000000|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=r.charCodeAt(n),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var r=new n(e),o=t&&t.state,i=function(){return(r.next()>>>0)/0x100000000};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},i.int32=r.next,i.quick=i,o&&((void 0===o?"undefined":(0,a._)(o))=="object"&&s(o,r),i.state=function(){return s(r,{})}),i}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.tychei=o}(0,t,"function"==typeof define&&define)},{"@swc/helpers/cjs/_type_of.cjs":"iXhRw"}],fDyUm:[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(r,n,s){var o,i="random",c=s.pow(256,6),u=s.pow(2,52),l=2*u;function p(e,t,p){var g=[],v=h(function e(t,r){var n,s=[],o=void 0===t?"undefined":(0,a._)(t);if(r&&"object"==o)for(n in t)try{s.push(e(t[n],r-1))}catch(e){}return s.length?s:"string"==o?t:t+"\0"}((t=!0==t?{entropy:!0}:t||{}).entropy?[e,m(n)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(256):(e=new Uint8Array(256),(r.crypto||r.msCrypto).getRandomValues(e)),m(e)}catch(e){var t=r.navigator,a=t&&t.plugins;return[+new Date,r,a,r.screen,m(n)]}}():e,3),g),_=new f(g),x=function(){for(var e=_.g(6),t=c,r=0;e<u;)e=(e+r)*256,t*=256,r=_.g(1);for(;e>=l;)e/=2,t/=2,r>>>=1;return(e+r)/t};return x.int32=function(){return 0|_.g(4)},x.quick=function(){return _.g(4)/0x100000000},x.double=x,h(m(_.S),n),(t.pass||p||function(e,t,r,n){return(n&&(n.S&&d(n,_),e.state=function(){return d(_,{})}),r)?(s[i]=e,t):e})(x,v,"global"in t?t.global:this==s,t.state)}function f(e){var t,r=e.length,n=this,a=0,s=n.i=n.j=0,o=n.S=[];for(r||(e=[r++]);a<256;)o[a]=a++;for(a=0;a<256;a++)o[a]=o[s=255&s+e[a%r]+(t=o[a])],o[s]=t;(n.g=function(e){for(var t,r=0,a=n.i,s=n.j,o=n.S;e--;)t=o[a=255&a+1],r=256*r+o[255&(o[a]=o[s=255&s+t])+(o[s]=t)];return n.i=a,n.j=s,r})(256)}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){for(var r,n=e+"",a=0;a<n.length;)t[255&a]=255&(r^=19*t[255&a])+n.charCodeAt(a++);return m(t)}function m(e){return String.fromCharCode.apply(0,e)}if(h(s.random(),n),t.exports){t.exports=p;try{o=e("55ffaba5e09143c0")}catch(e){}}else"function"==typeof define&&define.amd?define(function(){return p}):s["seed"+i]=p}("undefined"!=typeof self?self:void 0,[],Math)},{"@swc/helpers/cjs/_type_of.cjs":"iXhRw","55ffaba5e09143c0":"5s8q3"}],"2Tfgx":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TEST_EPSILON_FLOAT16",function(){return l}),a.export(r,"expectArraysClose",function(){return p}),a.export(r,"testEpsilon",function(){return f}),a.export(r,"expectPromiseToFail",function(){return h}),a.export(r,"expectArraysEqual",function(){return m}),a.export(r,"expectNumbersClose",function(){return g}),a.export(r,"expectValuesInRange",function(){return _}),a.export(r,"expectArrayBuffersEqual",function(){return x}),a.export(r,"encodeStrings",function(){return function e(t){for(var r=0;r<t.length;r++){var n=t[r];Array.isArray(n)?e(n):t[r]=(0,u.encodeString)(n)}return t}}),a.export(r,"createVideoElement",function(){return y}),a.export(r,"play",function(){return b});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("./engine"),c=e("./tensor_util_env"),u=e("./util"),l=.1;function p(e,t,r){return null==r&&(r=f()),d(e,t,function(e,t){return v(e,t,r)})}function f(){return 32===i.ENGINE.backend.floatPrecision()?.001:l}function d(e,t,r){var n=!0;if(((0,u.isTypedArray)(e)||(0,u.isTypedArray)(t))&&(n=!1),(0,u.isTypedArray)(e)&&(0,u.isTypedArray)(t)&&(n=!0),n){var a=e.constructor.name,s=t.constructor.name;if(a!==s)throw Error("Arrays are of different type. Actual: ".concat(a,". ")+"Expected: ".concat(s))}if(Array.isArray(e)&&Array.isArray(t)){var o=(0,c.inferShape)(e),i=(0,c.inferShape)(t);if(!(0,u.arraysEqual)(o,i))throw Error("Arrays have different shapes. "+"Actual: [".concat(o,"]. Expected: [").concat(i,"]"))}var l=(0,u.isTypedArray)(e)?e:(0,u.flatten)(e),p=(0,u.isTypedArray)(t)?t:(0,u.flatten)(t);if(l.length!==p.length)throw Error("Arrays have different lengths actual: ".concat(l.length," vs ")+"expected: ".concat(p.length,".\n")+"Actual: ".concat(l,".\n")+"Expected: ".concat(p,"."));for(var f=0;f<p.length;++f){var d=l[f],h=p[f];if(!r(d,h))throw Error("Arrays differ: actual[".concat(f,"] = ").concat(d,", expected[").concat(f,"] = ").concat(h,".\n")+"Actual: ".concat(l,".\n")+"Expected: ".concat(p,"."))}"undefined"!=typeof expect&&expect().nothing()}function h(e,t){e().then(function(){return t.fail()},function(){return t()}),"undefined"!=typeof expect&&expect().nothing()}function m(e,t){var r="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return(0,u.isString)(e)||(0,u.isString)(e[0])||(0,u.isString)(t)||(0,u.isString)(t[0])?d(e,r,function(e,t){return e==t}):d(e,t,function(e,t){return v(e,t,0)})}function g(e,t,r){if(null==r&&(r=f()),!v(e,t,r))throw Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t));"undefined"!=typeof expect&&expect().nothing()}function v(e,t,r){return!(isFinite(e)||isFinite(t))||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>r)}function _(e,t,r){for(var n=0;n<e.length;n++)if(e[n]<t||e[n]>r)throw Error("Value out of range:".concat(e[n]," low: ").concat(t,", high: ").concat(r))}function x(e,t){var r=new Float32Array(e),n=new Float32Array(t);if(r.length!==n.length)throw Error("Expected ArrayBuffer to be of length "+"".concat(n.length,", but it was ").concat(r.length));for(var a=0;a<n.length;a++)if(r[a]!==n[a])throw Error("Expected ArrayBuffer value at ".concat(a," to be ")+"".concat(n[a]," but got ").concat(r[a]," instead"))}function y(e){var t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise(function(e){t.addEventListener("loadeddata",function(r){return e(t)}),t.load()})}function b(e){return(0,s._)(function(){return(0,o._)(this,function(t){switch(t.label){case 0:return[4,e.play()];case 1:if(t.sent(),!("requestVideoFrameCallback"in e))return[3,3];return[4,new Promise(function(t){e.requestVideoFrameCallback(t)})];case 2:t.sent(),t.label=3;case 3:return[2]}})})()}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","./engine":"196sS","./tensor_util_env":"gGMh6","./util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lFMCA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomNormal",function(){return u});var s=e("../util_base"),o=e("./buffer"),i=e("./operation"),c=e("./rand_util"),u=(0,i.op)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if((0,s.assertNonNegativeIntegerDimensions)(e),null!=n&&"bool"===n)throw Error("Unsupported data type ".concat(n));for(var i=new(0,c.MPRandGauss)(t,r,n,!1,a),u=(0,o.buffer)(e,n),l=0;l<u.values.length;l++)u.values[l]=i.nextValue();return u.toTensor()}})},{"../util_base":"3jQov","./buffer":"fzwwJ","./operation":"2e73h","./rand_util":"b4wMI","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2Z43p":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomStandardNormal",function(){return i});var s=e("./operation"),o=e("./random_normal"),i=(0,s.op)({randomStandardNormal_:function(e,t,r){if(null!=t&&"bool"===t)throw Error("Unsupported data type ".concat(t));return(0,o.randomNormal)(e,0,1,t,r)}})},{"./operation":"2e73h","./random_normal":"lFMCA","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7hpBm":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomUniform",function(){return u});var s=e("../util_base"),o=e("./buffer"),i=e("./operation"),c=e("./rand_util"),u=(0,i.op)({randomUniform_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;(0,s.assertNonNegativeIntegerDimensions)(e);for(var i=(0,o.buffer)(e,n),u=new(0,c.UniformRandom)(t,r,null,a),l=0;l<i.values.length;l++)i.values[l]=u.nextValue();return i.toTensor()}})},{"../util_base":"3jQov","./buffer":"fzwwJ","./operation":"2e73h","./rand_util":"b4wMI","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3GxIl":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomUniformInt",function(){return i});var s=e("./operation"),o=e("./random_uniform"),i=(0,s.op)({randomUniformInt_:function(e,t,r,n){return(0,o.randomUniform)(e,t,r,"int32",n)}})},{"./operation":"2e73h","./random_uniform":"7hpBm","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6AnN8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"range",function(){return i});var s=e("../engine"),o=e("../kernel_names");function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===r)throw Error("Cannot have a step of zero");return s.ENGINE.runKernel(o.Range,{},{start:e,stop:t,step:r,dtype:n})}},{"../engine":"196sS","../kernel_names":"eNhfn","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],clARK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"real",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({real_:function(e){var t=(0,i.convertToTensor)(e,"input","real");return s.ENGINE.runKernel(o.Real,{input:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],e3v03:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reciprocal",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({reciprocal_:function(e){var t=(0,i.convertToTensor)(e,"x","reciprocal");return s.ENGINE.runKernel(o.Reciprocal,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1TDSg":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({relu_:function(e){var t=(0,i.convertToTensor)(e,"x","relu");return s.ENGINE.runKernel(o.Relu,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"04Rsf":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu6",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({relu6_:function(e){var t=(0,i.convertToTensor)(e,"x","relu6");return s.ENGINE.runKernel(o.Relu6,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5mX86":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({reverse_:function(e,t){var r=(0,i.convertToTensor)(e,"x","reverse");return s.ENGINE.runKernel(o.Reverse,{x:r},{dims:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],c3fne:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse1d",function(){return u});var s=e("../tensor_util_env"),o=e("../util"),i=e("./operation"),c=e("./reverse"),u=(0,i.op)({reverse1d_:function(e){var t=(0,s.convertToTensor)(e,"x","reverse");return o.assert(1===t.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")}),(0,c.reverse)(t,0)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./reverse":"5mX86","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g0m2z:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse2d",function(){return u});var s=e("../tensor_util_env"),o=e("../util"),i=e("./operation"),c=e("./reverse"),u=(0,i.op)({reverse2d_:function(e,t){var r=(0,s.convertToTensor)(e,"x","reverse");return o.assert(2===r.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(r.rank,".")}),(0,c.reverse)(r,t)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./reverse":"5mX86","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iBYIq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse3d",function(){return u});var s=e("../tensor_util_env"),o=e("../util"),i=e("./operation"),c=e("./reverse"),u=(0,i.op)({reverse3d_:function(e,t){var r=(0,s.convertToTensor)(e,"x","reverse");return o.assert(3===r.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(r.rank,".")}),(0,c.reverse)(r,t)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./reverse":"5mX86","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dnCUB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse4d",function(){return u});var s=e("../tensor_util_env"),o=e("../util"),i=e("./operation"),c=e("./reverse"),u=(0,i.op)({reverse4d_:function(e,t){var r=(0,s.convertToTensor)(e,"x","reverse");return o.assert(4===r.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(r.rank,".")}),(0,c.reverse)(r,t)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./reverse":"5mX86","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],awn0b:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"round",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({round_:function(e){var t=(0,i.convertToTensor)(e,"x","round");return s.ENGINE.runKernel(o.Round,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7EX1z":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rsqrt",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({rsqrt_:function(e){var t=(0,i.convertToTensor)(e,"x","rsqrt","float32");return s.ENGINE.runKernel(o.Rsqrt,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3T3vv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"selu",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({selu_:function(e){var t=(0,i.convertToTensor)(e,"x","selu");return s.ENGINE.runKernel(o.Selu,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"66lIf":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"separableConv2d",function(){return p});var s=e("../tensor_util_env"),o=e("../util"),i=e("./conv2d"),c=e("./depthwise_conv2d"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({separableConv2d_:function(e,t,r,n,a){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",f=(0,s.convertToTensor)(e,"x","separableConv2d"),d=(0,s.convertToTensor)(t,"depthwiseFilter","separableConv2d"),h=(0,s.convertToTensor)(r,"pointwiseFilter","separableConv2d"),m=f,g=!1;if(3===f.rank&&(g=!0,m=(0,l.reshape)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),"NCHW"===p)throw Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");o.assert(4===m.rank,function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")}),o.assert(4===d.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(d.rank,".")}),o.assert(4===h.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(d.rank,".")}),o.assert(1===h.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(h.shape[0],".")}),o.assert(1===h.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(h.shape[1],".")});var v=d.shape[2],_=d.shape[3];o.assert(h.shape[2]===v*_,function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(v*_,", ")+"but got ".concat(h.shape[2],".")});var x=(0,c.depthwiseConv2d)(m,d,n,a,p,u),y=(0,i.conv2d)(x,h,1,"valid",p);return g?(0,l.reshape)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./conv2d":"3bPDh","./depthwise_conv2d":"74sI4","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ifxMg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"setdiff1dAsync",function(){return l});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../tensor"),c=e("../tensor_util_env"),u=e("../util"),l=function(e,t){return(0,s._)(function(){var r,n,a,s,l,p,f,d,h,m;return(0,o._)(this,function(o){switch(o.label){case 0:return r=(0,c.convertToTensor)(e,"x","setdiff1d"),n=(0,c.convertToTensor)(t,"y","setdiff1d"),u.assert(r.dtype===n.dtype,function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(n.dtype,").")}),u.assert(1===r.rank,function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")}),u.assert(1===n.rank,function(){return"y should be 1D tensor, but got y (".concat(n.shape,").")}),[4,r.data()];case 1:return a=o.sent(),[4,n.data()];case 2:for(p=0,s=new Set(o.sent()),l=0;p<a.length;p++)!s.has(a[p])&&l++;for(h=0,f=new(0,i.TensorBuffer)([l],r.dtype),d=new(0,i.TensorBuffer)([l],"int32"),m=0;h<a.length;h++)!s.has(a[h])&&(f.values[m]=a[h],d.values[m]=h,m++);return[2,[f.toTensor(),d.toTensor()]]}})})()}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../tensor":"6gbjA","../tensor_util_env":"gGMh6","../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"76EKo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sign",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sign_:function(e){var t=(0,i.convertToTensor)(e,"x","sign");return s.ENGINE.runKernel(o.Sign,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],j9IsC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sin",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sin_:function(e){var t=(0,i.convertToTensor)(e,"x","sin","float32");return s.ENGINE.runKernel(o.Sin,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"64g8F":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sinh",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sinh_:function(e){var t=(0,i.convertToTensor)(e,"x","sinh");return s.ENGINE.runKernel(o.Sinh,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],LaY8y:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice1d",function(){return u});var s=e("../tensor_util_env"),o=e("../util"),i=e("./operation"),c=e("./slice"),u=(0,i.op)({slice1d_:function(e,t,r){var n=(0,s.convertToTensor)(e,"x","slice1d");return o.assert(1===n.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(n.rank," tensor")}),(0,c.slice)(n,[t],[r])}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./slice":"aAXW3","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cDRjW:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice2d",function(){return u});var s=e("../tensor_util_env"),o=e("../util"),i=e("./operation"),c=e("./slice"),u=(0,i.op)({slice2d_:function(e,t,r){var n=(0,s.convertToTensor)(e,"x","slice2d");return o.assert(2===n.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(n.rank," tensor")}),(0,c.slice)(n,t,r)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./slice":"aAXW3","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1Jfia":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice3d",function(){return u});var s=e("../tensor_util_env"),o=e("../util"),i=e("./operation"),c=e("./slice"),u=(0,i.op)({slice3d_:function(e,t,r){var n=(0,s.convertToTensor)(e,"x","slice3d");return o.assert(3===n.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(n.rank," tensor")}),(0,c.slice)(n,t,r)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./slice":"aAXW3","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6uGME":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice4d",function(){return u});var s=e("../tensor_util_env"),o=e("../util"),i=e("./operation"),c=e("./slice"),u=(0,i.op)({slice4d_:function(e,t,r){var n=(0,s.convertToTensor)(e,"x","slice4d");return o.assert(4===n.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(n.rank," tensor")}),(0,c.slice)(n,t,r)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./slice":"aAXW3","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ipz2w:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softmax",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=(0,i.convertToTensor)(e,"logits","softmax","float32");if(-1===t&&(t=r.rank-1),t!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(r.rank," and dim was ").concat(t));var n={dim:t};return s.ENGINE.runKernel(o.Softmax,{logits:r},n)}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2hEIb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fft",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../util"),c=(0,e("../operation").op)({fft_:function(e){return(0,i.assert)("complex64"===e.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}),s.ENGINE.runKernel(o.FFT,{input:e})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../util":"pzc9n","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aIqvS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ifft",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../util"),c=(0,e("../operation").op)({ifft_:function(e){return(0,i.assert)("complex64"===e.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}),s.ENGINE.runKernel(o.IFFT,{input:e})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../util":"pzc9n","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7ZKFI":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"irfft",function(){return g});var s=e("../complex"),o=e("../concat"),i=e("../imag"),c=e("../mul"),u=e("../operation"),l=e("../real"),p=e("../reshape"),f=e("../reverse"),d=e("../scalar"),h=e("../slice"),m=e("./ifft"),g=(0,u.op)({irfft_:function(e){var t,r=e.shape[e.shape.length-1],n=e.size/r;if(r<=2){var a=(0,p.reshape)(e,[n,r]);t=(0,m.ifft)(a)}else{var u=[n,2*(r-1)],g=(0,p.reshape)((0,l.real)(e),[n,r]),v=(0,p.reshape)((0,i.imag)(e),[n,r]),_=(0,f.reverse)((0,h.slice)(g,[0,1],[n,r-2]),1),x=(0,c.mul)((0,f.reverse)((0,h.slice)(v,[0,1],[n,r-2]),1),(0,d.scalar)(-1)),y=(0,o.concat)([g,_],1),b=(0,o.concat)([v,x],1),k=(0,p.reshape)((0,s.complex)(y,b),[u[0],u[1]]);t=(0,m.ifft)(k)}if(t=(0,l.real)(t),3===e.rank&&0!==e.shape[0]){var j=t,w=e.shape[0];t=(0,p.reshape)(t,[w,t.shape[0]/w,t.shape[1]]),j.dispose()}return t}})},{"../complex":"dG4kr","../concat":"5jkDZ","../imag":"ajw5w","../mul":"ex4Je","../operation":"2e73h","../real":"clARK","../reshape":"7YgE0","../reverse":"5mX86","../scalar":"2e16W","../slice":"aAXW3","./ifft":"aIqvS","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hA98H:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rfft",function(){return v});var s=e("../../util"),o=e("../complex"),i=e("../concat"),c=e("../imag"),u=e("../operation"),l=e("../real"),p=e("../reshape"),f=e("../slice"),d=e("../split"),h=e("../zeros"),m=e("../zeros_like"),g=e("./fft"),v=(0,u.op)({rfft_:function(e,t){(0,s.assert)("float32"===e.dtype,function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)});var r,n=e.shape[e.shape.length-1],a=e.size/n;if(null!=t&&t<n){var u=e.shape.map(function(e){return 0}),v=e.shape.map(function(e){return e});v[e.shape.length-1]=t,r=(0,f.slice)(e,u,v),n=t}else if(null!=t&&t>n){var _=e.shape.map(function(e){return e});_[e.shape.length-1]=t-n,r=(0,i.concat)([e,(0,h.zeros)(_)],e.shape.length-1),n=t}else r=e;var x=(0,m.zerosLike)(r),y=(0,p.reshape)((0,o.complex)(r,x),[a,n]),b=(0,g.fft)(y),k=Math.floor(n/2)+1,j=(0,l.real)(b),w=(0,c.imag)(b),I=(0,d.split)(j,[k,n-k],j.shape.length-1),T=(0,d.split)(w,[k,n-k],w.shape.length-1),S=r.shape.slice();return S[r.shape.length-1]=k,(0,p.reshape)((0,o.complex)(I[0],T[0]),S)}})},{"../../util":"pzc9n","../complex":"dG4kr","../concat":"5jkDZ","../imag":"ajw5w","../operation":"2e73h","../real":"clARK","../reshape":"7YgE0","../slice":"aAXW3","../split":"h2pMG","../zeros":"Gjszj","../zeros_like":"1ZxCJ","./fft":"2hEIb","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],h2pMG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"split",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({split_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=(0,i.convertToTensor)(e,"x","split");return s.ENGINE.runKernel(o.SplitV,{x:n},{numOrSizeSplits:t,axis:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fJr8C:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squaredDifference",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({squaredDifference_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","squaredDifference"),a=(0,u.convertToTensor)(t,"b","squaredDifference");n=(r=(0,s._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return o.ENGINE.runKernel(i.SquaredDifference,p,{})}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","./broadcast_util":"d00Jz","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eGmia:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squeeze",function(){return u});var s=e("../tensor_util_env"),o=e("../util"),i=e("./operation"),c=e("./reshape"),u=(0,i.op)({squeeze_:function(e,t){var r=(0,s.convertToTensor)(e,"x","squeeze","string_or_numeric");return(0,c.reshape)(r,(0,o.squeezeShape)(r.shape,t).newShape)}})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1AmDl":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stack",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensorArray)(e,"tensors","stack","string_or_numeric");return c.assert(r.length>=1,function(){return"Pass at least one tensor to tf.stack"}),r.length>0&&c.assert(t<=r[0].rank,function(){return"Axis must be <= rank of the tensor"}),s.ENGINE.runKernel(o.Pack,r,{axis:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3TRUE":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"step",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","step");return s.ENGINE.runKernel(o.Step,{x:r},{alpha:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8YSCm":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stridedSlice",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({stridedSlice_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=(0,i.convertToTensor)(e,"x","stridedSlice","string_or_numeric");return s.ENGINE.runKernel(o.StridedSlice,{x:f},{begin:t,end:r,strides:n,beginMask:a,endMask:c,ellipsisMask:u,newAxisMask:l,shrinkAxisMask:p})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],i4lvy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tan",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({tan_:function(e){var t=(0,i.convertToTensor)(e,"x","tan","float32");return s.ENGINE.runKernel(o.Tan,{x:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2h6dp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor1d",function(){return c});var s=e("../tensor_util_env"),o=e("../util"),i=e("./tensor_ops_util");function c(e,t){(0,o.assertNonNull)(e);var r=(0,s.inferShape)(e,t);if(1!==r.length)throw Error("tensor1d() requires values to be a flat/TypedArray");return(0,i.makeTensor)(e,null,r,t)}},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./tensor_ops_util":"h8l3u","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ls16J:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor2d",function(){return c});var s=e("../tensor_util_env"),o=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,o.assertNonNull)(e),null!=t&&2!==t.length)throw Error("tensor2d() requires shape to have two numbers");var n=(0,s.inferShape)(e,r);if(2!==n.length&&1!==n.length)throw Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./tensor_ops_util":"h8l3u","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lxX7t:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor3d",function(){return c});var s=e("../tensor_util_env"),o=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,o.assertNonNull)(e),null!=t&&3!==t.length)throw Error("tensor3d() requires shape to have three numbers");var n=(0,s.inferShape)(e,r);if(3!==n.length&&1!==n.length)throw Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./tensor_ops_util":"h8l3u","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dJYnz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor4d",function(){return c});var s=e("../tensor_util_env"),o=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,o.assertNonNull)(e),null!=t&&4!==t.length)throw Error("tensor4d() requires shape to have four numbers");var n=(0,s.inferShape)(e,r);if(4!==n.length&&1!==n.length)throw Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./tensor_ops_util":"h8l3u","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],vBGCl:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor5d",function(){return c});var s=e("../tensor_util_env"),o=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,o.assertNonNull)(e),null!=t&&5!==t.length)throw Error("tensor5d() requires shape to have five numbers");var n=(0,s.inferShape)(e,r);if(5!==n.length&&1!==n.length)throw Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./tensor_ops_util":"h8l3u","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2jZLi":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor6d",function(){return c});var s=e("../tensor_util_env"),o=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,o.assertNonNull)(e),null!=t&&6!==t.length)throw Error("tensor6d() requires shape to have six numbers");var n=(0,s.inferShape)(e,r);if(6!==n.length&&1!==n.length)throw Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||n,(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./tensor_ops_util":"h8l3u","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"64BZ7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensorScatterUpdate",function(){return l});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./operation"),u=e("./scatter_nd_util"),l=(0,c.op)({tensorScatterUpdate_:function(e,t,r){var n=(0,i.convertToTensor)(e,"tensor","tensorScatterupdate"),a=(0,i.convertToTensor)(t,"indices","tensorScatterupdate","int32"),c=(0,i.convertToTensor)(r,"updates","tensorScatterupdate");if(u.validateInput(c,a,n.shape),n.dtype!==c.dtype)throw Error("tensor and updates must have the same dtype, instead they are ".concat(n.dtype," and ").concat(c.dtype,"."));return s.ENGINE.runKernel(o.TensorScatterUpdate,{tensor:n,indices:a,updates:c},{})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","./scatter_nd_util":"dXk24","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dXk24:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"validateUpdateShape",function(){return i}),a.export(r,"validateInput",function(){return c}),a.export(r,"calculateShapes",function(){return u});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("../util");function i(e,t,r){var n=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,s="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(r.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(n,", and batchDim: ").concat(a,".");if(r.rank<a)throw Error(s+" update.rank < ".concat(a,". "));if(e.length<n+(r.rank-a))throw Error(s+" Output shape length < ".concat(n+(r.rank-a)));if(r.rank!==a+e.length-n)throw Error(s+" update.rank != ".concat(a+e.length-n));for(var o=0;o<a;++o)if(r.shape[o]!==t.shape[o])throw Error(s+" updates.shape[".concat(o,"] (").concat(r.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var i=0;i<r.rank-a;++i)if(r.shape[i+a]!==e[i+n])throw Error(s+" updates.shape[".concat(i+a,"] (").concat(r.shape[i+a],") != shape[").concat(i+a,"] (").concat(e[i+a],")"))}function c(e,t,r){if(t.rank<1)throw Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(r.length<1)throw Error("Output rank must be greater or equal to 1, but got shape: ".concat(r));if(0===r.length){if(0===t.size)throw Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw Error("Updates specified for empty output. updates shape: ".concat(e.shape))}i(r,t,e)}function u(e,t,r){for(var n=t.shape.length,a=n>1?t.shape[n-1]:1,i=r.length,c=1,u=a;u<i;++u)c*=r[u];var l=a<1?1:a,p=(0,o.sizeFromShape)(t.shape)/l,f=(0,s._)((0,o.computeStrides)(r.slice(0,a))).concat([1]);return{sliceRank:a,numUpdates:p,sliceSize:c,strides:f,outputSize:(0,o.sizeFromShape)(r)}}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iHIsz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"topk",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util_env"),u=(0,e("./operation").op)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=(0,c.convertToTensor)(e,"x","topk");if(0===n.rank)throw Error("topk() expects the input to be of rank 1 or higher");var a=n.shape[n.shape.length-1];if(t<0)throw Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw Error("'k' passed to topk() must be<= the last dimension (".concat(a,") ")+"but got ".concat(t));var u=(0,s._)(o.ENGINE.runKernel(i.TopK,{x:n},{k:t,sorted:r}),2);return{values:u[0],indices:u[1]}}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7wavd":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"truncatedNormal",function(){return u});var s=e("../util_base"),o=e("./buffer"),i=e("./operation"),c=e("./rand_util"),u=(0,i.op)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if((0,s.assertNonNegativeIntegerDimensions)(e),null!=n&&"bool"===n)throw Error("Unsupported data type $ { dtype }");for(var i=new(0,c.MPRandGauss)(t,r,n,!0,a),u=(0,o.buffer)(e,n),l=0;l<u.values.length;l++)u.values[l]=i.nextValue();return u.toTensor()}})},{"../util_base":"3jQov","./buffer":"fzwwJ","./operation":"2e73h","./rand_util":"b4wMI","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],c3Wm6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unique",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util_env"),u=e("../util"),l=(0,e("./operation").op)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,c.convertToTensor)(e,"x","unique","string_or_numeric");(0,u.assert)(r.rank>0,function(){return"The input tensor must be at least 1D"});var n=(0,s._)(o.ENGINE.runKernel(i.Unique,{x:r},{axis:t}),2);return{values:n[0],indices:n[1]}}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],joksG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unsortedSegmentSum",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({unsortedSegmentSum_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","unsortedSegmentSum"),a=(0,i.convertToTensor)(t,"segmentIds","unsortedSegmentSum","int32");return(0,c.assert)((0,c.isInt)(r),function(){return"numSegments must be of dtype int"}),s.ENGINE.runKernel(o.UnsortedSegmentSum,{x:n,segmentIds:a},{numSegments:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7Z0Qa":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unstack",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","unstack","string_or_numeric");return c.assert(t>=-r.shape.length&&t<r.shape.length,function(){return"Axis = ".concat(t," is not in [-").concat(r.shape.length,", ").concat(r.shape.length,")")}),s.ENGINE.runKernel(o.Unpack,{value:r},{axis:t})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"019X2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"upperBound",function(){return o});var s=e("./search_sorted");function o(e,t){return(0,s.searchSorted)(e,t,"right")}},{"./search_sorted":"aMuIp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jxA9y:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"variable",function(){return o});var s=e("../engine");function o(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return s.ENGINE.makeVariable(e,t,r,n)}},{"../engine":"196sS","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],czu2U:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"whereAsync",function(){return u});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../backends/where_impl"),c=e("../tensor_util_env"),u=function(e){return(0,s._)(function(){var t,r,n;return(0,o._)(this,function(a){switch(a.label){case 0:return[4,(t=(0,c.convertToTensor)(e,"condition","whereAsync","bool")).data()];case 1:return r=a.sent(),n=(0,i.whereImpl)(t.shape,r),e!==t&&t.dispose(),[2,n]}})})()}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../backends/where_impl":"weE3b","../tensor_util_env":"gGMh6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],weE3b:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"whereImpl",function(){return o});var s=e("../ops/buffer");function o(e,t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(n);for(var a=(0,s.buffer)(e,"int32"),o=(0,s.buffer)([r.length,e.length],"int32"),i=0;i<r.length;i++){var c=a.indexToLoc(r[i]),u=i*e.length;o.values.set(c,u)}return o.toTensor()}},{"../ops/buffer":"fzwwJ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lAoIO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"booleanMaskAsync",function(){return d});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../tensor_util_env"),c=e("../util"),u=e("./gather"),l=e("./reshape"),p=e("./squeeze"),f=e("./where_async"),d=function(e,t,r){return(0,s._)(function(){var n,a,s,d,h,m,g,v,_,x,y,b,k;return(0,o._)(this,function(o){switch(o.label){case 0:for(n=(0,i.convertToTensor)(e,"tensor","boolMask"),a=(0,i.convertToTensor)(t,"mask","boolMask","bool"),s=null==r?0:r,d=a.rank,h=n.shape,c.assert(d>0,function(){return"mask cannot be scalar"}),c.assertShapesMatch(h.slice(s,s+d),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),m=1,g=s;g<s+d;g++)m*=h[g];return v=h.slice(0,s).concat([m],h.slice(s+d)),_=(0,l.reshape)(n,v),x=(0,l.reshape)(a,[-1]),[4,(0,f.whereAsync)(x)];case 1:return y=o.sent(),b=(0,p.squeeze)(y,[1]),k=(0,u.gather)(_,b,s),e!==n&&n.dispose(),t!==a&&a.dispose(),b.dispose(),_.dispose(),x.dispose(),y.dispose(),[2,k]}})})()}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../tensor_util_env":"gGMh6","../util":"pzc9n","./gather":"4ID5P","./reshape":"7YgE0","./squeeze":"eGmia","./where_async":"czu2U","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],67858:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transpose",function(){return m});var s=e("../engine"),o=e("../globals"),i=e("../kernel_names"),c=e("../tensor_util_env"),u=e("../util"),l=e("./complex"),p=e("./imag"),f=e("./neg"),d=e("./operation"),h=e("./real"),m=(0,d.op)({transpose_:function(e,t,r){var n=(0,c.convertToTensor)(e,"x","transpose");if(null==t&&(t=n.shape.map(function(e,t){return t}).reverse()),u.assert(n.rank===t.length,function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of perm ".concat(t,".")}),t.forEach(function(e){u.assert(e>=0&&e<n.rank,function(){return"All entries in 'perm' must be between 0 and ".concat(n.rank-1)+" but got ".concat(t)})}),n.rank<=1)return n.clone();var a={perm:t};return"complex64"===n.dtype?(0,o.tidy)(function(){var e=(0,h.real)(n),t=(0,p.imag)(n);return e=s.ENGINE.runKernel(i.Transpose,{x:e},a),t=s.ENGINE.runKernel(i.Transpose,{x:t},a),r&&(t=(0,f.neg)(t)),(0,l.complex)(e,t)}):s.ENGINE.runKernel(i.Transpose,{x:n},a)}})},{"../engine":"196sS","../globals":"eqUUw","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util":"pzc9n","./complex":"dG4kr","./imag":"ajw5w","./neg":"dMJaD","./operation":"2e73h","./real":"clARK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gXiqZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"movingAverage",function(){return m});var s=e("../tensor_util"),o=e("../tensor_util_env"),i=e("../util"),c=e("./add"),u=e("./div"),l=e("./mul"),p=e("./operation"),f=e("./pow"),d=e("./scalar"),h=e("./sub"),m=(0,p.op)({movingAverage_:function(e,t,r,n){var a=!(arguments.length>4)||void 0===arguments[4]||arguments[4],p=(0,o.convertToTensor)(e,"v","movingAverage"),m=(0,o.convertToTensor)(t,"x","movingAverage"),g=(0,o.convertToTensor)(r,"decay","movingAverage");(0,s.assertTypesMatch)(p,m),i.assert(i.arraysEqual(p.shape,m.shape),function(){return"Shape mismatch in v and x"});var v=(0,d.scalar)(1),_=(0,h.sub)(v,g),x=(0,l.mul)((0,h.sub)(m,p),_);if(a){i.assert(null!=n,function(){return"When using zeroDebias: true, step is required."});var y=(0,o.convertToTensor)(n,"step","movingAverage");x=(0,u.div)(x,(0,h.sub)(v,(0,f.pow)(g,y)))}return(0,c.add)(p,x)}})},{"../tensor_util":"39ZV0","../tensor_util_env":"gGMh6","../util":"pzc9n","./add":"6RBEg","./div":"4hv3k","./mul":"ex4Je","./operation":"2e73h","./pow":"j5OS2","./scalar":"2e16W","./sub":"3d8AE","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6JNwJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scatterND",function(){return p});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util_base"),u=e("./operation"),l=e("./scatter_nd_util"),p=(0,u.op)({scatterND_:function(e,t,r){(0,c.assertNonNegativeIntegerDimensions)(r);var n=(0,i.convertToTensor)(e,"indices","scatterND","int32"),a=(0,i.convertToTensor)(t,"updates","scatterND");return l.validateInput(a,n,r),s.ENGINE.runKernel(o.ScatterNd,{indices:n,updates:a},{shape:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","../util_base":"3jQov","./operation":"2e73h","./scatter_nd_util":"dXk24","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7BmOX":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseToDense",function(){return l});var s=e("../engine"),o=e("../kernel_names"),i=e("../ops/sparse_to_dense_util"),c=e("../tensor_util_env"),u=e("../util_base"),l=(0,e("./operation").op)({sparseToDense_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,u.assertNonNegativeIntegerDimensions)(r);var a=(0,c.convertToTensor)(e,"sparseIndices","sparseToDense","int32"),l=(0,c.convertToTensor)(t,"sparseValues","sparseToDense","string_or_numeric"),p=(0,c.convertToTensor)(n,"defaultValue","sparseToDense",l.dtype);return i.validateInput(a,l,r,p),s.ENGINE.runKernel(o.SparseToDense,{sparseIndices:a,sparseValues:l,defaultValue:p},{outputShape:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../ops/sparse_to_dense_util":"bULy1","../tensor_util_env":"gGMh6","../util_base":"3jQov","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bULy1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t,r,n){if("int32"!==e.dtype)throw Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,s=e.rank>1?e.shape[1]:1;if(r.length!==s)throw Error("outputShape has incorrect number of elements:,"+" ".concat(r.length,", should be: ").concat(s,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==n.dtype)throw Error("sparseValues.dtype must match defaultValues.dtype")}a.defineInteropFlag(r),a.export(r,"validateInput",function(){return s})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"99t1w":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherND",function(){return c});var s=e("../engine"),o=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({gatherND_:function(e,t){var r=(0,i.convertToTensor)(t,"indices","gatherND","int32"),n=(0,i.convertToTensor)(e,"x","gatherND","string_or_numeric");return s.ENGINE.runKernel(o.GatherNd,{params:n,indices:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../tensor_util_env":"gGMh6","./operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"15KL9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dropout",function(){return m});var s=e("../tensor"),o=e("../tensor_util_env"),i=e("../util"),c=e("./add"),u=e("./div"),l=e("./dropout_util"),p=e("./floor"),f=e("./mul"),d=e("./operation"),h=e("./random_uniform"),m=(0,d.op)({dropout_:function(e,t,r,n){var a=(0,o.convertToTensor)(e,"x","dropout");if(i.assert("float32"===a.dtype,function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")}),i.assert(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")}),0===t)return e instanceof s.Tensor?a.clone():a;var d=(0,l.getNoiseShape)(a,r),m=1-t,g=(0,u.div)((0,p.floor)((0,c.add)((0,h.randomUniform)(d,0,1,"float32",n),m)),m);return(0,f.mul)(a,g)}})},{"../tensor":"6gbjA","../tensor_util_env":"gGMh6","../util":"pzc9n","./add":"6RBEg","./div":"4hv3k","./dropout_util":"2X9Vd","./floor":"7BuXh","./mul":"ex4Je","./operation":"2e73h","./random_uniform":"7hpBm","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2X9Vd":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getNoiseShape",function(){return o});var s=e("../util");function o(e,t){if(null==t)return e.shape.slice();if(s.arraysEqual(e.shape,t))return t;if(e.shape.length===t.length){for(var r=[],n=0;n<e.shape.length;n++)null==t[n]&&null!=e.shape[n]?r.push(e.shape[n]):r.push(t[n]);return r}return t}},{"../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9tG4C":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"enclosingPowerOfTwo",function(){return o}),a.export(r,"cosineWindow",function(){return i});var s=e("./tensor1d");function o(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function i(e,t,r){for(var n=1-e%2,a=new Float32Array(e),o=0;o<e;++o){var i=2*Math.PI*o/(e+n-1);a[o]=t-r*Math.cos(i)}return(0,s.tensor1d)(a,"float32")}},{"./tensor1d":"2h6dp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hWW2i:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"inTopKAsync",function(){return l});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../tensor_util_env"),c=e("../util"),u=e("./tensor"),l=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,s._)(function(){var n,a,s,l,p,f,d,h,m,g,v,_,x,y,b;return(0,o._)(this,function(o){switch(o.label){case 0:return n=(0,i.convertToTensor)(e,"predictions","inTopK"),a=(0,i.convertToTensor)(t,"targets","inTopK"),(0,c.assert)(n.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(n.rank)}),(0,c.assert)(n.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(n.rank," and targets rank ").concat(a.rank)}),(0,c.assertShapesMatch)(n.shape.slice(0,n.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),s=n.shape[n.shape.length-1],(0,c.assert)(r>0&&r<=s,function(){return"'k' passed to inTopK() must be >0 &&<= the predictions last "+"dimension (".concat(s,"), but got ").concat(r)}),[4,n.data()];case 1:return l=o.sent(),[4,a.data()];case 2:for(p=o.sent(),d=(f=[l.length/s,s])[0],h=f[1],m=(0,c.getTypedArrayFromDType)("bool",d),g=0;g<d;g++){for(y=0,v=g*h,_=l.subarray(v,v+h),x=[];y<_.length;y++)x.push({value:_[y],index:y});for(x.sort(function(e,t){return t.value-e.value}),m[g]=0,b=0;b<r;b++)if(x[b].index===p[g]){m[g]=1;break}}return e!==n&&n.dispose(),t!==a&&a.dispose(),[2,(0,u.tensor)(m,a.shape,"bool")]}})})()}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../tensor_util_env":"gGMh6","../util":"pzc9n","./tensor":"ajVSA","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],apoqV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2d",function(){return s.conv2d}),a.export(r,"depthwiseConv2d",function(){return o.depthwiseConv2d}),a.export(r,"matMul",function(){return i.matMul});var s=e("./fused/conv2d"),o=e("./fused/depthwise_conv2d"),i=e("./fused/mat_mul")},{"./fused/conv2d":"490PB","./fused/depthwise_conv2d":"9xNwu","./fused/mat_mul":"d863S","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"490PB":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2d",function(){return b});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../../engine"),i=e("../../gradients"),c=e("../../kernel_names"),u=e("../../tensor_util"),l=e("../../tensor_util_env"),p=e("../../util"),f=e("../add"),d=e("../broadcast_util"),h=e("../conv2d"),m=e("../conv2d_backprop_filter"),g=e("../conv2d_backprop_input"),v=e("../conv_util"),_=e("../fused_util"),x=e("../operation"),y=e("../reshape"),b=(0,x.op)({fusedConv2d_:function(e){var t,r,n=e.x,a=e.filter,x=e.strides,b=e.pad,k=e.dataFormat,j=void 0===k?"NHWC":k,w=e.dilations,I=void 0===w?[1,1]:w,T=e.dimRoundingMode,S=e.bias,N=e.activation,M=void 0===N?"linear":N,C=e.preluActivationWeights,E=e.leakyreluAlpha;if(M=M||"linear",!1===(0,_.shouldFuse)(o.ENGINE.state.gradientDepth,M)){p.assert("NHWC"===j,function(){return"Error in fused conv2d: got dataFormat of ".concat(j," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."});var F=(0,h.conv2d)(n,a,x,b,j,I,T);return null!=S&&(F=(0,f.add)(F,S)),(0,_.applyActivation)(F,M,C,E)}var A=(0,l.convertToTensor)(n,"x","conv2d","float32"),R=(0,l.convertToTensor)(a,"filter","conv2d","float32"),P=A,O=!1;3===A.rank&&(O=!0,P=(0,y.reshape)(A,[1,A.shape[0],A.shape[1],A.shape[2]])),p.assert(4===P.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(P.rank,".")}),p.assert(4===R.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(R.rank,".")}),v.checkPadOnDimRoundingMode("fused conv2d",b,T);var D="NHWC"===j?P.shape[3]:P.shape[1];p.assert(R.shape[2]===D,function(){return"Error in conv2d: depth of input (".concat(D,") must match ")+"input depth for filter ".concat(R.shape[2],".")}),p.assert(v.eitherStridesOrDilationsAreOne(x,I),function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(x," and dilations '").concat(I,"'")});var B=v.computeConv2DInfo(P.shape,R.shape,x,I,b,T);if(null!=S&&(t=(0,l.convertToTensor)(S,"bias","fused conv2d"),t=(0,s._)((0,u.makeTypesMatch)(t,A),1)[0],"NHWC"===j?d.assertAndGetBroadcastShape(B.outShape,t.shape):(p.assert(t.shape.length<=1,function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(t.shape.length,".")}),p.assert(0===t.shape.length||t.shape[0]===B.outChannels||1===t.shape[0],function(){return"Error in fused conv2d: bias shape (".concat(t.shape,") is not ")+"compatible with the number of output channels "+"(".concat(B.outChannels,")")}))),null!=C){var V=C.shape;if(p.assert(V.length<=1||3===V.length,function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(V.length,".")}),1===V.length)p.assert(1===V[0]||V[0]===B.outChannels,function(){return"Error in fused conv2d: PReLU activation weights "+"(".concat(V,") is not compatible with the number of output ")+"channels (".concat(B.outChannels,").")});else if(3===V.length)try{d.assertAndGetBroadcastShape(V,B.outShape)}catch(e){throw Error("Error in fused conv2d: PReLU activation weights (".concat(V,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(B.outShape,")."))}r=(0,l.convertToTensor)(C,"prelu weights","fused conv2d")}var G=function(e,t){p.assert("NHWC"===j,function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(j," but only NHWC is currently supported.")});var r=(0,s._)(t,4),n=r[0],a=r[1],o=r[2],i=r[3],c=(0,_.getFusedDyActivation)(e,o,M);p.assert(v.tupleValuesAreOne(I),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(I,"'")});var u=[(0,g.conv2DBackpropInput)(a.shape,c,n,x,b),(0,m.conv2DBackpropFilter)(a,c,n.shape,x,b)];if(null!=i){var l=(0,_.getFusedBiasGradient)(i,c);u.push(l)}return u},L={x:P,filter:R,bias:t,preluActivationWeights:r},q={strides:x,pad:b,dataFormat:j,dilations:I,dimRoundingMode:T,activation:M,leakyreluAlpha:E};return null==S?(0,i.customGrad)(function(e,t,r){var n=o.ENGINE.runKernel(c.FusedConv2D,L,q);return r([t,e,n]),O&&(n=(0,y.reshape)(n,[n.shape[1],n.shape[2],n.shape[3]])),{value:n,gradFunc:G}})(P,R):(0,i.customGrad)(function(e,t,r,n){var a=o.ENGINE.runKernel(c.FusedConv2D,L,q);return n([t,e,a,r]),O&&(a=(0,y.reshape)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:G}})(P,R,t)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../engine":"196sS","../../gradients":"16TAF","../../kernel_names":"eNhfn","../../tensor_util":"39ZV0","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../add":"6RBEg","../broadcast_util":"d00Jz","../conv2d":"3bPDh","../conv2d_backprop_filter":"1deHs","../conv2d_backprop_input":"fBzV5","../conv_util":"EtnDJ","../fused_util":"d7YJO","../operation":"2e73h","../reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1deHs":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropFilter",function(){return p});var s=e("../engine"),o=e("../kernel_names"),i=e("../util"),c=e("./conv_util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({conv2DBackpropFilter_:function(e,t,r,n,a){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",p=arguments.length>6?arguments[6]:void 0,f=e;3===e.rank&&(f=(0,l.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var d=t;3===d.rank&&(d=(0,l.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),i.assert(4===f.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(f.shape,".")}),i.assert(4===d.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(d.shape,".")}),i.assert(4===r.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(r,".")});var h="NHWC"===u?f.shape[3]:f.shape[1],m="NHWC"===u?d.shape[3]:d.shape[1];i.assert(h===r[2],function(){return"Error in conv2dDerFilter: depth of input ".concat(h,") must ")+"match input depth in filter (".concat(r[2],".")}),i.assert(m===r[3],function(){return"Error in conv2dDerFilter: depth of dy (".concat(m,") must ")+"match output depth for filter (".concat(r[3],").")}),c.checkPadOnDimRoundingMode("conv2dDerFilter",a,p);var g={x:f,dy:d};return s.ENGINE.runKernel(o.Conv2DBackpropFilter,g,{strides:n,pad:a,dataFormat:u,dimRoundingMode:p,filterShape:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","../util":"pzc9n","./conv_util":"EtnDJ","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],d7YJO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getFusedDyActivation",function(){return g}),a.export(r,"getFusedBiasGradient",function(){return v}),a.export(r,"applyActivation",function(){return _}),a.export(r,"shouldFuse",function(){return x});var s=e("./broadcast_util"),o=e("./elu"),i=e("./leaky_relu"),c=e("./mul"),u=e("./prelu"),l=e("./relu"),p=e("./relu6"),f=e("./reshape"),d=e("./sigmoid"),h=e("./step"),m=e("./sum");function g(e,t,r){if(null==r||"linear"===r)return e;if("relu"===r)return(0,c.mul)(e,(0,h.step)(t));throw Error("Cannot compute gradient for fused activation ".concat(r,"."))}function v(e,t){var r=t,n=s.getReductionAxes(e.shape,t.shape);return n.length>0&&(r=(0,m.sum)(r,n)),(0,f.reshape)(r,e.shape)}function _(e,t,r,n){if("linear"===t)return e;if("relu"===t)return(0,l.relu)(e);if("elu"===t)return(0,o.elu)(e);if("relu6"===t)return(0,p.relu6)(e);if("prelu"===t)return(0,u.prelu)(e,r);else if("leakyrelu"===t)return(0,i.leakyRelu)(e,n);else if("sigmoid"===t)return(0,d.sigmoid)(e);throw Error("Unknown fused activation ".concat(t,"."))}var x=function(e,t){return!(e>0)||"linear"===t}},{"./broadcast_util":"d00Jz","./elu":"1F35l","./leaky_relu":"7i74S","./mul":"ex4Je","./prelu":"82lYM","./relu":"1TDSg","./relu6":"04Rsf","./reshape":"7YgE0","./sigmoid":"9YkPO","./step":"3TRUE","./sum":"bvUS6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9xNwu":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2d",function(){return b});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../../engine"),i=e("../../gradients"),c=e("../../kernel_names"),u=e("../../tensor_util"),l=e("../../tensor_util_env"),p=e("../../util"),f=e("../add"),d=e("../broadcast_util"),h=e("../conv_util"),m=e("../depthwise_conv2d"),g=e("../depthwise_conv2d_native_backprop_filter"),v=e("../depthwise_conv2d_native_backprop_input"),_=e("../fused_util"),x=e("../operation"),y=e("../reshape"),b=(0,x.op)({fusedDepthwiseConv2d_:function(e){var t,r,n=e.x,a=e.filter,x=e.strides,b=e.pad,k=e.dataFormat,j=void 0===k?"NHWC":k,w=e.dilations,I=void 0===w?[1,1]:w,T=e.dimRoundingMode,S=e.bias,N=e.activation,M=void 0===N?"linear":N,C=e.preluActivationWeights,E=e.leakyreluAlpha;if(!1===(0,_.shouldFuse)(o.ENGINE.state.gradientDepth,M)){var F=(0,m.depthwiseConv2d)(n,a,x,b,j,I,T);return null!=S&&(F=(0,f.add)(F,S)),(0,_.applyActivation)(F,M,C,E)}var A=(0,l.convertToTensor)(n,"x","depthwiseConv2d","float32"),R=(0,l.convertToTensor)(a,"filter","depthwiseConv2d","float32"),P=A,O=!1;3===A.rank&&(O=!0,P=(0,y.reshape)(A,[1,A.shape[0],A.shape[1],A.shape[2]])),p.assert(4===P.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(P.rank,".")}),p.assert(4===R.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(R.rank,".")}),p.assert(P.shape[3]===R.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(P.shape[3],") must match the inChannels dimension in ")+"filter ".concat(R.shape[2],".")}),null==I&&(I=[1,1]),p.assert(h.eitherStridesOrDilationsAreOne(x,I),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(x," and dilations '").concat(I,"'")}),h.checkPadOnDimRoundingMode("fused depthwiseConv2d",b,T);var D=h.computeConv2DInfo(P.shape,R.shape,x,I,b,T,!0);null!=S&&(t=(0,l.convertToTensor)(S,"bias","fused conv2d"),t=(0,s._)((0,u.makeTypesMatch)(t,A),1)[0],d.assertAndGetBroadcastShape(D.outShape,t.shape)),null!=C&&(r=(0,l.convertToTensor)(C,"prelu weights","fused depthwiseConv2d"));var B=function(e,r){p.assert(h.tupleValuesAreOne(I),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(I,"'")});var n=(0,s._)(r,4),a=n[0],o=n[1],i=n[2],c=n[3],u=(0,_.getFusedDyActivation)(e,i,M),l=(0,v.depthwiseConv2dNativeBackpropInput)(o.shape,u,a,x,b,I,T),f=(0,g.depthwiseConv2dNativeBackpropFilter)(o,u,a.shape,x,b,I,T);return null!=c?[l,f,(0,_.getFusedBiasGradient)(t,u)]:[l,f]},V={x:P,filter:R,bias:t,preluActivationWeights:r},G={strides:x,pad:b,dataFormat:j,dilations:I,dimRoundingMode:T,activation:M,leakyreluAlpha:E};return null==S?(0,i.customGrad)(function(e,t,r){var n=o.ENGINE.runKernel(c.FusedDepthwiseConv2D,V,G);return r([t,e,n]),O&&(n=(0,y.reshape)(n,[n.shape[1],n.shape[2],n.shape[3]])),{value:n,gradFunc:B}})(P,R):(0,i.customGrad)(function(e,t,r,n){var a=o.ENGINE.runKernel(c.FusedDepthwiseConv2D,V,G);return n([t,e,a,r]),O&&(a=(0,y.reshape)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:B}})(P,R,t)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../engine":"196sS","../../gradients":"16TAF","../../kernel_names":"eNhfn","../../tensor_util":"39ZV0","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../add":"6RBEg","../broadcast_util":"d00Jz","../conv_util":"EtnDJ","../depthwise_conv2d":"74sI4","../depthwise_conv2d_native_backprop_filter":"7Mz9k","../depthwise_conv2d_native_backprop_input":"kc5Yu","../fused_util":"d7YJO","../operation":"2e73h","../reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7Mz9k":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropFilter",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("./operation"),c=e("./reshape"),u=(0,i.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,l=e;3===e.rank&&(l=(0,c.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var p=t;3===p.rank&&(p=(0,c.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={x:l,dy:p};return s.ENGINE.runKernel(o.DepthwiseConv2dNativeBackpropFilter,f,{strides:n,pad:a,dimRoundingMode:u,dilations:i,filterShape:r})}})},{"../engine":"196sS","../kernel_names":"eNhfn","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kc5Yu:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropInput",function(){return u});var s=e("../engine"),o=e("../kernel_names"),i=e("./operation"),c=e("./reshape"),u=(0,i.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,l=t,p=!1;3===t.rank&&(p=!0,l=(0,c.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={dy:l,filter:r},d=s.ENGINE.runKernel(o.DepthwiseConv2dNativeBackpropInput,f,{strides:n,pad:a,dimRoundingMode:u,dilations:i,inputShape:e});return p?(0,c.reshape)(d,[d.shape[1],d.shape[2],d.shape[3]]):d}})},{"../engine":"196sS","../kernel_names":"eNhfn","./operation":"2e73h","./reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],d863S:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"matMul",function(){return _});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../../engine"),i=e("../../gradients"),c=e("../../kernel_names"),u=e("../../tensor_util"),l=e("../../tensor_util_env"),p=e("../../util"),f=e("../add"),d=e("../broadcast_util"),h=e("../fused_util"),m=e("../mat_mul"),g=e("../operation"),v=e("../reshape"),_=(0,g.op)({fusedMatMul_:function(e){var t,r,n,a=e.a,g=e.b,_=e.transposeA,x=void 0!==_&&_,y=e.transposeB,b=void 0!==y&&y,k=e.bias,j=e.activation,w=void 0===j?"linear":j,I=e.preluActivationWeights,T=e.leakyreluAlpha,S=void 0===T?.2:T;if(!1===(0,h.shouldFuse)(o.ENGINE.state.gradientDepth,w)){var N=(0,m.matMul)(a,g,x,b);return null!=k&&(N=(0,f.add)(N,k)),(0,h.applyActivation)(N,w,I,S)}var M=(0,l.convertToTensor)(a,"a","fused matMul"),C=(0,l.convertToTensor)(g,"b","fused matMul");M=(t=(0,s._)((0,u.makeTypesMatch)(M,C),2))[0],C=t[1];var E=x?M.shape[M.rank-2]:M.shape[M.rank-1],F=b?C.shape[C.rank-1]:C.shape[C.rank-2],A=x?M.shape[M.rank-1]:M.shape[M.rank-2],R=b?C.shape[C.rank-2]:C.shape[C.rank-1],P=M.shape.slice(0,-2),O=C.shape.slice(0,-2),D=p.sizeFromShape(P),B=p.sizeFromShape(O);p.assert(E===F,function(){return"Error in fused matMul: inner shapes (".concat(E,") and (")+"".concat(F,") of Tensors with shapes ").concat(M.shape," and ")+"".concat(C.shape," and transposeA=").concat(x)+" and transposeB=".concat(b," must match.")});var V=d.assertAndGetBroadcastShape(M.shape.slice(0,-2),C.shape.slice(0,-2)).concat([A,R]),G=x?(0,v.reshape)(M,[D,E,A]):(0,v.reshape)(M,[D,A,E]),L=b?(0,v.reshape)(C,[B,R,F]):(0,v.reshape)(C,[B,F,R]);null!=k&&(r=(0,l.convertToTensor)(k,"bias","fused matMul"),r=(0,s._)((0,u.makeTypesMatch)(r,M),1)[0],d.assertAndGetBroadcastShape(V,r.shape)),null!=I&&(n=(0,l.convertToTensor)(I,"prelu weights","fused matMul"));var q=function(e,t){var r,n,a=(0,s._)(t,4),o=a[0],i=a[1],c=a[2],u=a[3],l=(0,h.getFusedDyActivation)((0,v.reshape)(e,c.shape),c,w);return(x||b?!x&&b?(r=(0,m.matMul)(l,i,!1,!1),n=(0,m.matMul)(l,o,!0,!1)):x&&!b?(r=(0,m.matMul)(i,l,!1,!0),n=(0,m.matMul)(o,l,!1,!1)):(r=(0,m.matMul)(i,l,!0,!0),n=(0,m.matMul)(l,o,!0,!0)):(r=(0,m.matMul)(l,i,!1,!0),n=(0,m.matMul)(o,l,!0,!1)),null!=k)?[r,n,(0,h.getFusedBiasGradient)(u,l)]:[r,n]},z={a:G,b:L,bias:r,preluActivationWeights:n},U={transposeA:x,transposeB:b,activation:w,leakyreluAlpha:S};return null==k?(0,i.customGrad)(function(e,t,r){var n=o.ENGINE.runKernel(c._FusedMatMul,z,U);return r([e,t,n]),{value:(0,v.reshape)(n,V),gradFunc:q}})(G,L):(0,i.customGrad)(function(e,t,r,n){var a=o.ENGINE.runKernel(c._FusedMatMul,z,U);return n([e,t,a,r]),{value:(0,v.reshape)(a,V),gradFunc:q}})(G,L,r)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../engine":"196sS","../../gradients":"16TAF","../../kernel_names":"eNhfn","../../tensor_util":"39ZV0","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../add":"6RBEg","../broadcast_util":"d00Jz","../fused_util":"d7YJO","../mat_mul":"3WX7I","../operation":"2e73h","../reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5AP3w":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"hammingWindow",function(){return i});var s=e("../operation"),o=e("../signal_ops_util"),i=(0,s.op)({hammingWindow_:function(e){return(0,o.cosineWindow)(e,.54,.46)}})},{"../operation":"2e73h","../signal_ops_util":"9tG4C","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dSUi5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"hannWindow",function(){return i});var s=e("../operation"),o=e("../signal_ops_util"),i=(0,s.op)({hannWindow_:function(e){return(0,o.cosineWindow)(e,.5,.5)}})},{"../operation":"2e73h","../signal_ops_util":"9tG4C","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jd7q1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"frame",function(){return p});var s=e("../concat"),o=e("../fill"),i=e("../operation"),c=e("../reshape"),u=e("../slice"),l=e("../tensor2d"),p=(0,i.op)({frame_:function(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,p=[];i+t<=e.size;)p.push((0,u.slice)(e,i,t)),i+=r;if(n)for(;i<e.size;){var f=i+t-e.size,d=(0,s.concat)([(0,u.slice)(e,i,t-f),(0,o.fill)([f],a)]);p.push(d),i+=r}return 0===p.length?(0,l.tensor2d)([],[0,t]):(0,c.reshape)((0,s.concat)(p),[p.length,t])}})},{"../concat":"5jkDZ","../fill":"7700s","../operation":"2e73h","../reshape":"7YgE0","../slice":"aAXW3","../tensor2d":"ls16J","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lUk0N:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stft",function(){return p});var s=e("../mul"),o=e("../operation"),i=e("../signal_ops_util"),c=e("../spectral/rfft"),u=e("./frame"),l=e("./hann_window"),p=(0,o.op)({stft_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.hannWindow;null==n&&(n=(0,i.enclosingPowerOfTwo)(t));var o=(0,u.frame)(e,t,r),p=(0,s.mul)(o,a(t));return(0,c.rfft)(p,n)}})},{"../mul":"ex4Je","../operation":"2e73h","../signal_ops_util":"9tG4C","../spectral/rfft":"hA98H","./frame":"jd7q1","./hann_window":"dSUi5","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"78y1L":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cropAndResize",function(){return u});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../../util"),u=(0,e("../operation").op)({cropAndResize_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=(0,i.convertToTensor)(e,"image","cropAndResize"),p=(0,i.convertToTensor)(t,"boxes","cropAndResize","float32"),f=(0,i.convertToTensor)(r,"boxInd","cropAndResize","int32"),d=p.shape[0];return c.assert(4===l.rank,function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(l.rank,".")}),c.assert(2===p.rank&&4===p.shape[1],function(){return"Error in cropAndResize: boxes must be have size [".concat(d,",4] ")+"but had shape ".concat(p.shape,".")}),c.assert(1===f.rank&&f.shape[0]===d,function(){return"Error in cropAndResize: boxInd must be have size [".concat(d,"] ")+"but had shape ".concat(p.shape,".")}),c.assert(2===n.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(n.length,".")}),c.assert(n[0]>=1&&n[1]>=1,function(){return"cropSize must be atleast [1,1], but was ".concat(n)}),c.assert("bilinear"===a||"nearest"===a,function(){return"method must be bilinear or nearest, but was ".concat(a)}),s.ENGINE.runKernel(o.CropAndResize,{image:l,boxes:p,boxInd:f},{method:a,extrapolationValue:u,cropSize:n})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],e2Iz8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"flipLeftRight",function(){return u});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../../util"),u=(0,e("../operation").op)({flipLeftRight_:function(e){var t=(0,i.convertToTensor)(e,"image","flipLeftRight","float32");return c.assert(4===t.rank,function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}),s.ENGINE.runKernel(o.FlipLeftRight,{image:t},{})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],k8tQv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"grayscaleToRGB",function(){return u});var s=e("../../tensor_util_env"),o=e("../../util"),i=e("../operation"),c=e("../tile"),u=(0,i.op)({grayscaleToRGB_:function(e){var t=(0,s.convertToTensor)(e,"image","grayscaleToRGB"),r=t.rank-1,n=t.shape[r];o.assert(t.rank>=2,function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")}),o.assert(1===n,function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(n,".")});var a=Array(t.rank);return a.fill(1,0,r),a[r]=3,(0,c.tile)(t,a)}})},{"../../tensor_util_env":"gGMh6","../../util":"pzc9n","../operation":"2e73h","../tile":"hxmGr","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bkvld:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rgbToGrayscale",function(){return f});var s=e("../../tensor_util_env"),o=e("../../util"),i=e("../cast"),c=e("../einsum"),u=e("../expand_dims"),l=e("../operation"),p=e("../tensor1d"),f=(0,l.op)({rgbToGrayscale_:function(e){var t,r=(0,s.convertToTensor)(e,"image","RGBToGrayscale"),n=r.rank-1,a=r.shape[n];o.assert(r.rank>=2,function(){return"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(r.rank,".")}),o.assert(3===a,function(){return"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(a,".")});var l=r.dtype,f=(0,i.cast)(r,"float32"),d=(0,p.tensor1d)([.2989,.587,.114]);switch(r.rank){case 2:t=(0,c.einsum)("ij,j->i",f,d);break;case 3:t=(0,c.einsum)("ijk,k->ij",f,d);break;case 4:t=(0,c.einsum)("ijkl,l->ijk",f,d);break;case 5:t=(0,c.einsum)("ijklm,m->ijkl",f,d);break;case 6:t=(0,c.einsum)("ijklmn,n->ijklm",f,d);break;default:throw Error("Not a valid tensor rank.")}return t=(0,u.expandDims)(t,-1),(0,i.cast)(t,l)}})},{"../../tensor_util_env":"gGMh6","../../util":"pzc9n","../cast":"lsee3","../einsum":"jjP0y","../expand_dims":"3hsy0","../operation":"2e73h","../tensor1d":"2h6dp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cMzpX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rotateWithOffset",function(){return u});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../../util"),u=(0,e("../operation").op)({rotateWithOffset_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=(0,i.convertToTensor)(e,"image","rotateWithOffset","float32");return c.assert(4===a.rank,function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}),s.ENGINE.runKernel(o.RotateWithOffset,{image:a},{radians:t,fillValue:r,center:n})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eQL7B:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppression",function(){return u});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../nonmax_util"),u=(0,e("../operation").op)({nonMaxSuppression_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1/0,u=(0,i.convertToTensor)(e,"boxes","nonMaxSuppression","float32"),l=(0,i.convertToTensor)(t,"scores","nonMaxSuppression","float32"),p=(0,c.nonMaxSuppSanityCheck)(u,l,r,n,a);r=p.maxOutputSize;var f={maxOutputSize:r,iouThreshold:n=p.iouThreshold,scoreThreshold:a=p.scoreThreshold};return s.ENGINE.runKernel(o.NonMaxSuppressionV3,{boxes:u,scores:l},f)}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../nonmax_util":"5VSzU","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5VSzU":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppSanityCheck",function(){return o});var s=e("../util");function o(e,t,r,n,a,o){null==n&&(n=.5),null==a&&(a=-1/0),null==o&&(o=0);var i=e.shape[0];return r=Math.min(r,i),s.assert(0<=n&&n<=1,function(){return"iouThreshold must be in [0, 1], but was '".concat(n,"'")}),s.assert(2===e.rank,function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")}),s.assert(4===e.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])}),s.assert(1===t.rank,function(){return"scores must be a 1D tensor"}),s.assert(t.shape[0]===i,function(){return"scores has incompatible shape with boxes. Expected ".concat(i,", ")+"but was ".concat(t.shape[0])}),s.assert(0<=o&&o<=1,function(){return"softNmsSigma must be in [0, 1], but was '".concat(o,"'")}),{maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:o}}},{"../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aTymH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionAsync",function(){return p});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../../backends/non_max_suppression_impl"),c=e("../../tensor_util_env"),u=e("../nonmax_util"),l=e("../tensor1d"),p=function(e,t,r){return(0,s._)(function(e,t,r){var n,a,s,p,f,d,h,m,g,v=arguments;return(0,o._)(this,function(o){switch(o.label){case 0:return n=v.length>3&&void 0!==v[3]?v[3]:.5,a=v.length>4&&void 0!==v[4]?v[4]:-1/0,s=(0,c.convertToTensor)(e,"boxes","nonMaxSuppressionAsync"),p=(0,c.convertToTensor)(t,"scores","nonMaxSuppressionAsync"),r=(f=(0,u.nonMaxSuppSanityCheck)(s,p,r,n,a)).maxOutputSize,n=f.iouThreshold,a=f.scoreThreshold,[4,Promise.all([s.data(),p.data()])];case 1:return h=(d=o.sent())[0],m=d[1],g=(0,i.nonMaxSuppressionV3Impl)(h,m,r,n,a).selectedIndices,s!==e&&s.dispose(),p!==t&&p.dispose(),[2,(0,l.tensor1d)(g,"int32")]}})}).apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../../backends/non_max_suppression_impl":"gWbxk","../../tensor_util_env":"gGMh6","../nonmax_util":"5VSzU","../tensor1d":"2h6dp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gWbxk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV3Impl",function(){return i}),a.export(r,"nonMaxSuppressionV4Impl",function(){return c}),a.export(r,"nonMaxSuppressionV5Impl",function(){return u});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("./non_max_suppression_util");function i(e,t,r,n,a){return l(e,t,r,n,a,0)}function c(e,t,r,n,a,s){return l(e,t,r,n,a,0,!1,s,!0)}function u(e,t,r,n,a,s){return l(e,t,r,n,a,s,!0)}function l(e,t,r,n,a,i){for(var c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],f=[],d=0;d<t.length;d++)t[d]>a&&f.push({score:t[d],boxIndex:d,suppressBeginIndex:0});f.sort(p);for(var h=i>0?-.5/i:0,m=[],g=[];m.length<r&&f.length>0;){var v=f.pop(),_=v.score,x=v.boxIndex,y=v.suppressBeginIndex;if(_<a)break;for(var b=!1,k=m.length-1;k>=y;--k){var j=function(e,t,r){var n=e.subarray(4*t,4*t+4),a=e.subarray(4*r,4*r+4),s=Math.min(n[0],n[2]),o=Math.min(n[1],n[3]),i=Math.max(n[0],n[2]),c=Math.max(n[1],n[3]),u=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),p=Math.max(a[0],a[2]),f=Math.max(a[1],a[3]),d=(i-s)*(c-o),h=(p-u)*(f-l);if(d<=0||h<=0)return 0;var m=Math.max(Math.min(i,p)-Math.max(s,u),0)*Math.max(Math.min(c,f)-Math.max(o,l),0);return m/(d+h-m)}(e,x,m[k]);if(j>=n){b=!0;break}if(v.score=v.score*function(e,t,r){var n=Math.exp(t*r*r);return r<=e?n:0}(n,h,j),v.score<=a)break}v.suppressBeginIndex=m.length,!b&&(v.score===_?(m.push(x),g.push(v.score)):v.score>a&&(0,o.binaryInsert)(f,v,p))}var w=m.length,I=r-w;u&&I>0&&(m.push.apply(m,(0,s._)(Array(I).fill(0))),g.push.apply(g,(0,s._)(Array(I).fill(0))));var T={selectedIndices:m};return c&&(T.selectedScores=g),l&&(T.validOutputs=w),T}function p(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","./non_max_suppression_util":"fBBMQ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fBBMQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t,r){var n=o(e,t,r);e.splice(n<0?-(n+1):n,0,t)}function o(e,t,r){return function(e,t,r){for(var n=0,a=e.length,s=0,o=!1;n<a;){var i=r(t,e[s=n+(a-n>>>1)]);i>0?n=s+1:(a=s,o=!i)}return o?n:-n-1}(e,t,r||i)}function i(e,t){return e>t?1:e<t?-1:0}a.defineInteropFlag(r),a.export(r,"binaryInsert",function(){return s}),a.export(r,"binarySearch",function(){return o})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fHlY4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionWithScore",function(){return u});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../nonmax_util"),u=(0,e("../operation").op)({nonMaxSuppressionWithScore_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1/0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=(0,i.convertToTensor)(e,"boxes","nonMaxSuppression"),p=(0,i.convertToTensor)(t,"scores","nonMaxSuppression"),f=(0,c.nonMaxSuppSanityCheck)(l,p,r,n,a,u);r=f.maxOutputSize,n=f.iouThreshold,a=f.scoreThreshold;var d={maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:u=f.softNmsSigma},h=s.ENGINE.runKernel(o.NonMaxSuppressionV5,{boxes:l,scores:p},d);return{selectedIndices:h[0],selectedScores:h[1]}}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../nonmax_util":"5VSzU","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],S7K26:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionWithScoreAsync",function(){return p});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../../backends/non_max_suppression_impl"),c=e("../../tensor_util_env"),u=e("../nonmax_util"),l=e("../tensor1d"),p=function(e,t,r){return(0,s._)(function(e,t,r){var n,a,s,p,f,d,h,m,g,v,_,x,y=arguments;return(0,o._)(this,function(o){switch(o.label){case 0:return n=y.length>3&&void 0!==y[3]?y[3]:.5,a=y.length>4&&void 0!==y[4]?y[4]:-1/0,s=y.length>5&&void 0!==y[5]?y[5]:0,p=(0,c.convertToTensor)(e,"boxes","nonMaxSuppressionAsync"),f=(0,c.convertToTensor)(t,"scores","nonMaxSuppressionAsync"),r=(d=(0,u.nonMaxSuppSanityCheck)(p,f,r,n,a,s)).maxOutputSize,n=d.iouThreshold,a=d.scoreThreshold,s=d.softNmsSigma,[4,Promise.all([p.data(),f.data()])];case 1:return m=(h=o.sent())[0],g=h[1],_=(v=(0,i.nonMaxSuppressionV5Impl)(m,g,r,n,a,s)).selectedIndices,x=v.selectedScores,p!==e&&p.dispose(),f!==t&&f.dispose(),[2,{selectedIndices:(0,l.tensor1d)(_,"int32"),selectedScores:(0,l.tensor1d)(x)}]}})}).apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../../backends/non_max_suppression_impl":"gWbxk","../../tensor_util_env":"gGMh6","../nonmax_util":"5VSzU","../tensor1d":"2h6dp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],b6QiS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionPadded",function(){return u});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../nonmax_util"),u=(0,e("../operation").op)({nonMaxSuppressionPadded_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1/0,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=(0,i.convertToTensor)(e,"boxes","nonMaxSuppression"),p=(0,i.convertToTensor)(t,"scores","nonMaxSuppression"),f=(0,c.nonMaxSuppSanityCheck)(l,p,r,n,a,null),d=f.maxOutputSize,h=f.iouThreshold,m=f.scoreThreshold,g=s.ENGINE.runKernel(o.NonMaxSuppressionV4,{boxes:l,scores:p},{maxOutputSize:d,iouThreshold:h,scoreThreshold:m,padToMaxOutputSize:u});return{selectedIndices:g[0],validOutputs:g[1]}}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../nonmax_util":"5VSzU","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8750X":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionPaddedAsync",function(){return d});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("@swc/helpers/cjs/_ts_generator.cjs"),c=e("../../backends/non_max_suppression_impl"),u=e("../../tensor_util_env"),l=e("../nonmax_util"),p=e("../scalar"),f=e("../tensor1d"),d=function(e,t,r){return(0,s._)(function(e,t,r){var n,a,s,d,h,m,g,v,_,x,y,b,k,j,w,I=arguments;return(0,i._)(this,function(i){switch(i.label){case 0:return n=I.length>3&&void 0!==I[3]?I[3]:.5,a=I.length>4&&void 0!==I[4]?I[4]:-1/0,s=I.length>5&&void 0!==I[5]&&I[5],d=(0,u.convertToTensor)(e,"boxes","nonMaxSuppressionAsync"),h=(0,u.convertToTensor)(t,"scores","nonMaxSuppressionAsync"),g=(m=(0,l.nonMaxSuppSanityCheck)(d,h,r,n,a,null)).maxOutputSize,v=m.iouThreshold,_=m.scoreThreshold,[4,Promise.all([d.data(),h.data()])];case 1:return y=(x=o._.apply(void 0,[i.sent(),2]))[0],b=x[1],j=(k=(0,c.nonMaxSuppressionV4Impl)(y,b,g,v,_,s)).selectedIndices,w=k.validOutputs,d!==e&&d.dispose(),h!==t&&h.dispose(),[2,{selectedIndices:(0,f.tensor1d)(j,"int32"),validOutputs:(0,p.scalar)(w,"int32")}]}})}).apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../../backends/non_max_suppression_impl":"gWbxk","../../tensor_util_env":"gGMh6","../nonmax_util":"5VSzU","../scalar":"2e16W","../tensor1d":"2h6dp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8peju":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinear",function(){return f});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../../engine"),i=e("../../kernel_names"),c=e("../../tensor_util_env"),u=e("../../util"),l=e("../operation"),p=e("../reshape"),f=(0,l.op)({resizeBilinear_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,c.convertToTensor)(e,"images","resizeBilinear");u.assert(3===a.rank||4===a.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")}),u.assert(2===t.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")}),u.assert(!1===n||!1===r,function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."});var l=a,f=!1;3===a.rank&&(f=!0,l=(0,p.reshape)(a,[1,a.shape[0],a.shape[1],a.shape[2]])),(0,s._)(t,0);var d={images:l},h=o.ENGINE.runKernel(i.ResizeBilinear,d,{alignCorners:r,halfPixelCenters:n,size:t});return f?(0,p.reshape)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../operation":"2e73h","../reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8a3Nk":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighbor",function(){return f});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../../engine"),i=e("../../kernel_names"),c=e("../../tensor_util_env"),u=e("../../util"),l=e("../operation"),p=e("../reshape"),f=(0,l.op)({resizeNearestNeighbor_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,c.convertToTensor)(e,"images","resizeNearestNeighbor");u.assert(3===a.rank||4===a.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")}),u.assert(2===t.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")}),u.assert("float32"===a.dtype||"int32"===a.dtype,function(){return"`images` must have `int32` or `float32` as dtype"}),u.assert(!1===n||!1===r,function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."});var l=a,f=!1;3===a.rank&&(f=!0,l=(0,p.reshape)(a,[1,a.shape[0],a.shape[1],a.shape[2]])),(0,s._)(t,0);var d={images:l},h=o.ENGINE.runKernel(i.ResizeNearestNeighbor,d,{alignCorners:r,halfPixelCenters:n,size:t});return f?(0,p.reshape)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../operation":"2e73h","../reshape":"7YgE0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jeuKM:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"threshold",function(){return T});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../tensor1d"),i=e("../operation"),c=e("../cast"),u=e("../split"),l=e("../bincount"),p=e("../less_equal"),f=e("../greater"),d=e("../sum"),h=e("../add"),m=e("../mul"),g=e("../div"),v=e("../sub"),_=e("../round"),x=e("../where"),y=e("../fill"),b=e("../slice"),k=e("../range"),j=e("../tensor"),w=e("../../util"),I=e("../../tensor_util_env"),T=(0,i.op)({threshold_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=(0,I.convertToTensor)(e,"image","threshold"),i=a.shape[0]*a.shape[1],T=(0,m.mul)((0,o.tensor1d)([n]),255);if(w.assert(3===a.rank,function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(a.rank,".")}),w.assert(3===a.shape[2]||1===a.shape[2],function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(a.shape[2],".")}),w.assert("int32"===a.dtype||"float32"===a.dtype,function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(a.dtype,".")}),w.assert("otsu"===t||"binary"===t,function(){return"Method must be binary or otsu, but was ".concat(t)}),3===a.shape[2]){S=(E=(0,s._)((0,u.split)(a,[1,1,1],-1),3))[0],N=E[1],M=E[2];var S,N,M,C,E,F=(0,m.mul)(S,.2989),A=(0,m.mul)(N,.587),R=(0,m.mul)(M,.114);C=(0,h.add)((0,h.add)(F,A),R)}else C=e;"otsu"===t&&(T=function(e,t){for(var r,n,a,s,i,c,u=(0,o.tensor1d)([-1]),l=(0,o.tensor1d)([0]),p=(0,o.tensor1d)([0]),_=0;_<e.size-1;_++){r=(0,b.slice)(e,0,_+1),n=(0,b.slice)(e,_+1),i=(0,g.div)((0,d.sum)(r),t),c=(0,g.div)((0,d.sum)(n),t);var j=(0,d.sum)((0,m.mul)(r,(0,k.range)(0,r.size)));a=(0,g.div)(j,(0,d.sum)(r));var w=(0,y.fill)(n.shape,r.size),I=(0,h.add)((0,k.range)(0,n.size),w),T=(0,m.mul)(n,I);s=(0,g.div)((0,d.sum)(T),(0,d.sum)(n));var S=(0,v.sub)(a,s),N=(0,v.sub)(a,s),M=(0,m.mul)(i,c);p=(0,m.mul)((0,m.mul)(M,S),N);var C=(0,f.greater)(p,l);l=(0,x.where)(C,p,l),u=(0,x.where)(C,(0,o.tensor1d)([_]),u)}return u}((0,l.bincount)((0,c.cast)((0,_.round)(C),"int32"),(0,j.tensor)([]),256),i));var P=r?(0,p.lessEqual)(C,T):(0,f.greater)(C,T);return(0,c.cast)((0,m.mul)(P,255),"int32")}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../tensor1d":"2h6dp","../operation":"2e73h","../cast":"lsee3","../split":"h2pMG","../bincount":"8TrLC","../less_equal":"jxEoy","../greater":"aoAnC","../sum":"bvUS6","../add":"6RBEg","../mul":"ex4Je","../div":"4hv3k","../sub":"3d8AE","../round":"awn0b","../where":"lfpHP","../fill":"7700s","../slice":"aAXW3","../range":"6AnN8","../tensor":"ajVSA","../../util":"pzc9n","../../tensor_util_env":"gGMh6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],amwhI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transform",function(){return u});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../../util"),u=(0,e("../operation").op)({transform_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5?arguments[5]:void 0,l=(0,i.convertToTensor)(e,"image","transform","float32"),p=(0,i.convertToTensor)(t,"transforms","transform","float32");return c.assert(4===l.rank,function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(l.rank,".")}),c.assert(2===p.rank&&(p.shape[0]===l.shape[0]||1===p.shape[0])&&8===p.shape[1],function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"}),c.assert(null==u||2===u.length,function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(u,".")}),s.ENGINE.runKernel(o.Transform,{image:l,transforms:p},{interpolation:r,fillMode:n,fillValue:a,outputShape:u})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8aOSf":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bandPart",function(){return k});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../../tensor_util_env"),i=e("../../util"),c=e("../greater_equal"),u=e("../less"),l=e("../less_equal"),p=e("../logical_and"),f=e("../minimum"),d=e("../neg"),h=e("../operation"),m=e("../range"),g=e("../reshape"),v=e("../stack"),_=e("../sub"),x=e("../unstack"),y=e("../where"),b=e("../zeros"),k=(0,h.op)({bandPart_:function(e,t,r){var n,a,h=(0,o.convertToTensor)(e,"a","bandPart");(0,i.assert)(h.rank>=2,function(){return"bandPart(): Rank must be at least 2, got ".concat(h.rank,".")});var k=h.shape,j=(0,s._)(h.shape.slice(-2),2),w=j[0],I=j[1];"number"==typeof t?((0,i.assert)(t%1==0,function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")}),(0,i.assert)(t<=w,function(){return"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(w,").")}),n=(0,o.convertToTensor)(t<0?w:t,"numLower","bandPart")):((0,i.assert)("int32"===t.dtype,function(){return"bandPart(): numLower's dtype must be an int32."}),n=(0,y.where)((0,u.less)(t,0),w,(0,f.minimum)(t,w))),"number"==typeof r?((0,i.assert)(r%1==0,function(){return"bandPart(): numUpper must be an integer, got ".concat(r,".")}),(0,i.assert)(r<=I,function(){return"bandPart(): numUpper (".concat(r,")")+" must not be greater than the number of columns (".concat(I,").")}),a=(0,o.convertToTensor)(r<0?I:r,"numUpper","bandPart")):((0,i.assert)("int32"===r.dtype,function(){return"bandPart(): numUpper's dtype must be an int32."}),a=(0,y.where)((0,u.less)(r,0),I,(0,f.minimum)(r,I)));var T=(0,g.reshape)((0,m.range)(0,w,1,"int32"),[-1,1]),S=(0,m.range)(0,I,1,"int32"),N=(0,_.sub)(T,S),M=(0,p.logicalAnd)((0,l.lessEqual)(N,n),(0,c.greaterEqual)(N,(0,d.neg)(a))),C=(0,b.zeros)([w,I],h.dtype);return(0,g.reshape)((0,v.stack)((0,x.unstack)((0,g.reshape)(h,[-1,w,I])).map(function(e){return(0,y.where)(M,e,C)})),k)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../greater_equal":"knBU4","../less":"iagRp","../less_equal":"jxEoy","../logical_and":"aEGo0","../minimum":"5JemG","../neg":"dMJaD","../operation":"2e73h","../range":"6AnN8","../reshape":"7YgE0","../stack":"1AmDl","../sub":"3d8AE","../unstack":"7Z0Qa","../where":"lfpHP","../zeros":"Gjszj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"36PJ8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gramSchmidt",function(){return g});var s=e("../../engine"),o=e("../../util"),i=e("../div"),c=e("../mul"),u=e("../norm"),l=e("../operation"),p=e("../split"),f=e("../squeeze"),d=e("../stack"),h=e("../sub"),m=e("../sum"),g=(0,l.op)({gramSchmidt_:function(e){var t,r=function(e){g.push(s.ENGINE.tidy(function(){var t=v[e];if(e>0)for(var r=0;r<e;++r){var n=(0,c.mul)((0,m.sum)((0,c.mul)(g[r],t)),g[r]);t=(0,h.sub)(t,n)}return(0,i.div)(t,(0,u.norm)(t,"euclidean"))}))};if(Array.isArray(e)){var n=function(t){(0,o.assert)(e[t].shape[0]===a,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(a,")")})};t=!1,(0,o.assert)(null!=e&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var a=e[0].shape[0],l=1;l<e.length;++l)n(l)}else t=!0,e=(0,p.split)(e,e.shape[0],0).map(function(e){return(0,f.squeeze)(e,[0])});(0,o.assert)(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")});for(var g=[],v=e,_=0;_<e.length;++_)r(_);return t?(0,d.stack)(g,0):g}})},{"../../engine":"196sS","../../util":"pzc9n","../div":"4hv3k","../mul":"ex4Je","../norm":"4x8vh","../operation":"2e73h","../split":"h2pMG","../squeeze":"eGmia","../stack":"1AmDl","../sub":"3d8AE","../sum":"bvUS6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fWPUK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"qr",function(){return N});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../../engine"),i=e("../../globals"),c=e("../../util"),u=e("../clone"),l=e("../concat"),p=e("../div"),f=e("../eye"),d=e("../greater"),h=e("../mat_mul"),m=e("../mul"),g=e("../neg"),v=e("../norm"),_=e("../operation"),x=e("../reshape"),y=e("../slice"),b=e("../stack"),k=e("../sub"),j=e("../tensor2d"),w=e("../transpose"),I=e("../unstack"),T=e("../where");function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.ENGINE.tidy(function(){var r=function(e){var t,r=x,c=I,f=_;I=(t=(0,s._)(o.ENGINE.tidy(function(){var t=(0,y.slice)(x,[e,e],[n-e,1]),r=(0,v.norm)(t),s=(0,y.slice)(x,[e,e],[1,1]),o=(0,T.where)((0,d.greater)(s,0),(0,j.tensor2d)([[-1]]),(0,j.tensor2d)([[1]])),i=(0,k.sub)(s,(0,m.mul)(o,r)),c=(0,p.div)(t,i);I=1===c.shape[0]?(0,u.clone)(b):(0,l.concat)([b,(0,y.slice)(c,[1,0],[c.shape[0]-1,c.shape[1]])],0);var f=(0,g.neg)((0,p.div)((0,h.matMul)(o,i),r)),S=(0,y.slice)(x,[e,0],[n-e,a]),N=(0,m.mul)(f,I),M=(0,w.transpose)(I);if(0===e)x=(0,k.sub)(S,(0,h.matMul)(N,(0,h.matMul)(M,S)));else{var C=(0,k.sub)(S,(0,h.matMul)(N,(0,h.matMul)(M,S)));x=(0,l.concat)([(0,y.slice)(x,[0,0],[e,a]),C],0)}var E=(0,w.transpose)(N),F=(0,y.slice)(_,[0,e],[n,_.shape[1]-e]);if(0===e)_=(0,k.sub)(F,(0,h.matMul)((0,h.matMul)(F,I),E));else{var A=(0,k.sub)(F,(0,h.matMul)((0,h.matMul)(F,I),E));_=(0,l.concat)([(0,y.slice)(_,[0,0],[n,e]),A],1)}return[I,x,_]}),3))[0],x=t[1],_=t[2],(0,i.dispose)([r,c,f])};(0,c.assert)(2===e.shape.length,function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")});for(var n=e.shape[0],a=e.shape[1],_=(0,f.eye)(n),x=(0,u.clone)(e),b=(0,j.tensor2d)([[1]],[1,1]),I=(0,u.clone)(b),S=n>=a?a:n,N=0;N<S;++N)r(N);return!t&&n>a&&(_=(0,y.slice)(_,[0,0],[n,a]),x=(0,y.slice)(x,[0,0],[a,a])),[_,x]})}var N=(0,_.op)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,c.assert)(e.rank>=2,function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)}),2===e.rank)return S(e,t);var r=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),n=(0,I.unstack)((0,x.reshape)(e,[r,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];return n.forEach(function(e){var r=(0,s._)(S(e,t),2),n=r[0],i=r[1];a.push(n),o.push(i)}),[(0,x.reshape)((0,b.stack)(a,0),e.shape),(0,x.reshape)((0,b.stack)(o,0),e.shape)]}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../engine":"196sS","../../globals":"eqUUw","../../util":"pzc9n","../clone":"cGuJy","../concat":"5jkDZ","../div":"4hv3k","../eye":"gFICV","../greater":"aoAnC","../mat_mul":"3WX7I","../mul":"ex4Je","../neg":"dMJaD","../norm":"4x8vh","../operation":"2e73h","../reshape":"7YgE0","../slice":"aAXW3","../stack":"1AmDl","../sub":"3d8AE","../tensor2d":"ls16J","../transpose":"67858","../unstack":"7Z0Qa","../where":"lfpHP","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],c6d1a:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"absoluteDifference",function(){return f});var s=e("../../tensor_util_env"),o=e("../../util"),i=e("../abs"),c=e("../loss_ops_utils"),u=e("../operation"),l=e("../sub"),p=e("./compute_weighted_loss"),f=(0,u.op)({absoluteDifference_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.Reduction.SUM_BY_NONZERO_WEIGHTS,a=(0,s.convertToTensor)(e,"labels","absoluteDifference"),u=(0,s.convertToTensor)(t,"predictions","absoluteDifference"),f=null;null!=r&&(f=(0,s.convertToTensor)(r,"weights","absoluteDifference")),(0,o.assertShapesMatch)(a.shape,u.shape,"Error in absoluteDifference: ");var d=(0,i.abs)((0,l.sub)(a,u));return(0,p.computeWeightedLoss)(d,f,n)}})},{"../../tensor_util_env":"gGMh6","../../util":"pzc9n","../abs":"9oolp","../loss_ops_utils":"aw8nZ","../operation":"2e73h","../sub":"3d8AE","./compute_weighted_loss":"6vyDy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aw8nZ:[function(e,t,r,n){var a,s,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"Reduction",function(){return s}),(a=s||(s={}))[a.NONE=0]="NONE",a[a.MEAN=1]="MEAN",a[a.SUM=2]="SUM",a[a.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6vyDy":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"computeWeightedLoss",function(){return g});var s=e("../../tensor_util_env"),o=e("../cast"),i=e("../div"),c=e("../loss_ops_utils"),u=e("../mean"),l=e("../mul"),p=e("../not_equal"),f=e("../ones"),d=e("../operation"),h=e("../scalar"),m=e("../sum"),g=(0,d.op)({computeWeightedLoss_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.Reduction.SUM_BY_NONZERO_WEIGHTS,n=(0,s.convertToTensor)(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=(0,s.convertToTensor)(t,"weights","computeWeightedLoss"));var d=null==a?n:(0,l.mul)(n,a);if(r===c.Reduction.NONE)return d;if(r===c.Reduction.SUM)return(0,m.sum)(d);if(r===c.Reduction.MEAN)if(null==a)return(0,u.mean)(d);else{var g=n.size/a.size,v=(0,i.div)((0,m.sum)(d),(0,m.sum)(a));return g>1?(0,i.div)(v,(0,h.scalar)(g)):v}if(r===c.Reduction.SUM_BY_NONZERO_WEIGHTS)if(null==a)return(0,i.div)((0,m.sum)(d),(0,h.scalar)(n.size));else{var _=(0,l.mul)(a,(0,f.ones)(n.shape)),x=(0,o.cast)((0,m.sum)((0,p.notEqual)(_,(0,h.scalar)(0))),"float32");return(0,i.div)((0,m.sum)(d),x)}throw Error("Unknown reduction: ".concat(r))}})},{"../../tensor_util_env":"gGMh6","../cast":"lsee3","../div":"4hv3k","../loss_ops_utils":"aw8nZ","../mean":"2jctE","../mul":"ex4Je","../not_equal":"1vubT","../ones":"8iQJo","../operation":"2e73h","../scalar":"2e16W","../sum":"bvUS6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],OUPO6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cosineDistance",function(){return h});var s=e("../../tensor_util_env"),o=e("../../util"),i=e("../loss_ops_utils"),c=e("../mul"),u=e("../operation"),l=e("../scalar"),p=e("../sub"),f=e("../sum"),d=e("./compute_weighted_loss"),h=(0,u.op)({cosineDistance_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.Reduction.SUM_BY_NONZERO_WEIGHTS,u=(0,s.convertToTensor)(e,"labels","cosineDistance"),h=(0,s.convertToTensor)(t,"predictions","cosineDistance"),m=null;null!=n&&(m=(0,s.convertToTensor)(n,"weights","cosineDistance")),(0,o.assertShapesMatch)(u.shape,h.shape,"Error in cosineDistance: ");var g=(0,l.scalar)(1),v=(0,p.sub)(g,(0,f.sum)((0,c.mul)(u,h),r,!0));return(0,d.computeWeightedLoss)(v,m,a)}})},{"../../tensor_util_env":"gGMh6","../../util":"pzc9n","../loss_ops_utils":"aw8nZ","../mul":"ex4Je","../operation":"2e73h","../scalar":"2e16W","../sub":"3d8AE","../sum":"bvUS6","./compute_weighted_loss":"6vyDy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],c7fLN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"hingeLoss",function(){return h});var s=e("../../tensor_util_env"),o=e("../../util"),i=e("../loss_ops_utils"),c=e("../mul"),u=e("../operation"),l=e("../relu"),p=e("../scalar"),f=e("../sub"),d=e("./compute_weighted_loss"),h=(0,u.op)({hingeLoss_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.Reduction.SUM_BY_NONZERO_WEIGHTS,a=(0,s.convertToTensor)(e,"labels","hingeLoss"),u=(0,s.convertToTensor)(t,"predictions","hingeLoss"),h=null;null!=r&&(h=(0,s.convertToTensor)(r,"weights","hingeLoss")),(0,o.assertShapesMatch)(a.shape,u.shape,"Error in hingeLoss: ");var m=(0,p.scalar)(1);a=(0,f.sub)((0,c.mul)((0,p.scalar)(2),a),m);var g=(0,l.relu)((0,f.sub)(m,(0,c.mul)(a,u)));return(0,d.computeWeightedLoss)(g,h,n)}})},{"../../tensor_util_env":"gGMh6","../../util":"pzc9n","../loss_ops_utils":"aw8nZ","../mul":"ex4Je","../operation":"2e73h","../relu":"1TDSg","../scalar":"2e16W","../sub":"3d8AE","./compute_weighted_loss":"6vyDy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1TsbR":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"huberLoss",function(){return v});var s=e("../../tensor_util_env"),o=e("../../util"),i=e("../abs"),c=e("../add"),u=e("../loss_ops_utils"),l=e("../minimum"),p=e("../mul"),f=e("../operation"),d=e("../scalar"),h=e("../square"),m=e("../sub"),g=e("./compute_weighted_loss"),v=(0,f.op)({huberLoss_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.Reduction.SUM_BY_NONZERO_WEIGHTS,f=(0,s.convertToTensor)(e,"labels","huberLoss"),v=(0,s.convertToTensor)(t,"predictions","huberLoss"),_=null;null!=r&&(_=(0,s.convertToTensor)(r,"weights","huberLoss")),(0,o.assertShapesMatch)(f.shape,v.shape,"Error in huberLoss: ");var x=(0,d.scalar)(n),y=(0,i.abs)((0,m.sub)(v,f)),b=(0,l.minimum)(y,x),k=(0,m.sub)(y,b),j=(0,c.add)((0,p.mul)((0,d.scalar)(.5),(0,h.square)(b)),(0,p.mul)(x,k));return(0,g.computeWeightedLoss)(j,_,a)}})},{"../../tensor_util_env":"gGMh6","../../util":"pzc9n","../abs":"9oolp","../add":"6RBEg","../loss_ops_utils":"aw8nZ","../minimum":"5JemG","../mul":"ex4Je","../operation":"2e73h","../scalar":"2e16W","../square":"ilRll","../sub":"3d8AE","./compute_weighted_loss":"6vyDy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dAA8K:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logLoss",function(){return g});var s=e("../../tensor_util_env"),o=e("../../util"),i=e("../add"),c=e("../log"),u=e("../loss_ops_utils"),l=e("../mul"),p=e("../neg"),f=e("../operation"),d=e("../scalar"),h=e("../sub"),m=e("./compute_weighted_loss"),g=(0,f.op)({logLoss_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.Reduction.SUM_BY_NONZERO_WEIGHTS,f=(0,s.convertToTensor)(e,"labels","logLoss"),g=(0,s.convertToTensor)(t,"predictions","logLoss"),v=null;null!=r&&(v=(0,s.convertToTensor)(r,"weights","logLoss")),(0,o.assertShapesMatch)(f.shape,g.shape,"Error in logLoss: ");var _=(0,d.scalar)(1),x=(0,d.scalar)(n),y=(0,p.neg)((0,l.mul)(f,(0,c.log)((0,i.add)(g,x)))),b=(0,l.mul)((0,h.sub)(_,f),(0,c.log)((0,i.add)((0,h.sub)(_,g),x))),k=(0,h.sub)(y,b);return(0,m.computeWeightedLoss)(k,v,a)}})},{"../../tensor_util_env":"gGMh6","../../util":"pzc9n","../add":"6RBEg","../log":"7a68H","../loss_ops_utils":"aw8nZ","../mul":"ex4Je","../neg":"dMJaD","../operation":"2e73h","../scalar":"2e16W","../sub":"3d8AE","./compute_weighted_loss":"6vyDy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lAJmn:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"meanSquaredError",function(){return p});var s=e("../../tensor_util_env"),o=e("../../util"),i=e("../loss_ops_utils"),c=e("../operation"),u=e("../squared_difference"),l=e("./compute_weighted_loss"),p=(0,c.op)({meanSquaredError_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.Reduction.SUM_BY_NONZERO_WEIGHTS,a=(0,s.convertToTensor)(e,"labels","meanSquaredError"),c=(0,s.convertToTensor)(t,"predictions","meanSquaredError"),p=null;null!=r&&(p=(0,s.convertToTensor)(r,"weights","meanSquaredError")),(0,o.assertShapesMatch)(a.shape,c.shape,"Error in meanSquaredError: ");var f=(0,u.squaredDifference)(a,c);return(0,l.computeWeightedLoss)(f,p,n)}})},{"../../tensor_util_env":"gGMh6","../../util":"pzc9n","../loss_ops_utils":"aw8nZ","../operation":"2e73h","../squared_difference":"fJr8C","./compute_weighted_loss":"6vyDy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iDTUR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sigmoidCrossEntropy",function(){return x});var s=e("../../tensor_util_env"),o=e("../../util"),i=e("../abs"),c=e("../add"),u=e("../exp"),l=e("../log1p"),p=e("../loss_ops_utils"),f=e("../mul"),d=e("../neg"),h=e("../operation"),m=e("../relu"),g=e("../scalar"),v=e("../sub"),_=e("./compute_weighted_loss"),x=(0,h.op)({sigmoidCrossEntropy_:function(e,t,r){var n,a,h,x,y,b,k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,j=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.Reduction.SUM_BY_NONZERO_WEIGHTS,w=(0,s.convertToTensor)(e,"multiClassLabels","sigmoidCrossEntropy"),I=(0,s.convertToTensor)(t,"logits","sigmoidCrossEntropy"),T=null;if(null!=r&&(T=(0,s.convertToTensor)(r,"weights","sigmoidCrossEntropy")),(0,o.assertShapesMatch)(w.shape,I.shape,"Error in sigmoidCrossEntropy: "),k>0){var S=(0,g.scalar)(k),N=(0,g.scalar)(1),M=(0,g.scalar)(.5);w=(0,c.add)((0,f.mul)(w,(0,v.sub)(N,S)),(0,f.mul)(M,S))}var C=(n=w,a=(0,s.convertToTensor)(n,"labels","sigmoidCrossEntropyWithLogits"),h=(0,s.convertToTensor)(I,"logits","sigmoidCrossEntropyWithLogits"),(0,o.assertShapesMatch)(a.shape,h.shape,"Error in sigmoidCrossEntropyWithLogits: "),x=(0,m.relu)(h),y=(0,f.mul)(h,a),b=(0,l.log1p)((0,u.exp)((0,d.neg)((0,i.abs)(h)))),(0,c.add)((0,v.sub)(x,y),b));return(0,_.computeWeightedLoss)(C,T,j)}})},{"../../tensor_util_env":"gGMh6","../../util":"pzc9n","../abs":"9oolp","../add":"6RBEg","../exp":"cFcjI","../log1p":"5OvGy","../loss_ops_utils":"aw8nZ","../mul":"ex4Je","../neg":"dMJaD","../operation":"2e73h","../relu":"1TDSg","../scalar":"2e16W","../sub":"3d8AE","./compute_weighted_loss":"6vyDy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4b9wZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softmaxCrossEntropy",function(){return w});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../../gradients"),i=e("../../tensor_util_env"),c=e("../../util"),u=e("../add"),l=e("../axis_util"),p=e("../cast"),f=e("../div"),d=e("../exp"),h=e("../log_sum_exp"),m=e("../loss_ops_utils"),g=e("../mul"),v=e("../neg"),_=e("../operation"),x=e("../reshape"),y=e("../scalar"),b=e("../sub"),k=e("../sum"),j=e("./compute_weighted_loss"),w=(0,_.op)({softmaxCrossEntropy_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:m.Reduction.SUM_BY_NONZERO_WEIGHTS,_=(0,i.convertToTensor)(e,"onehotLabels","softmaxCrossEntropy"),w=(0,i.convertToTensor)(t,"logits","softmaxCrossEntropy"),I=null;if(null!=r&&(I=(0,i.convertToTensor)(r,"weights","softmaxCrossEntropy")),(0,c.assertShapesMatch)(_.shape,w.shape,"Error in softmaxCrossEntropy: "),n>0){var T=(0,y.scalar)(n),S=(0,y.scalar)(1),N=(0,y.scalar)(_.shape[1]);_=(0,u.add)((0,g.mul)(_,(0,b.sub)(S,T)),(0,f.div)(T,N))}var M=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===r&&(r=t.rank-1),r!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(r));return(0,o.customGrad)(function(e,t,n){var a=(0,h.logSumExp)(t,[r],!0),o=(0,b.sub)((0,p.cast)(t,"float32"),a);n([e,o]);var i=(0,v.neg)((0,g.mul)(o,e));return{value:(0,k.sum)(i,[r]),gradFunc:function(e,t){var n=(0,s._)(t,2),a=n[0],o=n[1],i=(0,l.expandShapeToKeepDim)(e.shape,[r]);return[(0,g.mul)((0,x.reshape)(e,i),(0,b.sub)((0,p.cast)(a,"float32"),(0,d.exp)(o))),(0,g.mul)((0,x.reshape)(e,i),(0,b.sub)((0,d.exp)(o),(0,p.cast)(a,"float32")))]}}})(e,t)}(_,w);return(0,j.computeWeightedLoss)(M,I,a)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../gradients":"16TAF","../../tensor_util_env":"gGMh6","../../util":"pzc9n","../add":"6RBEg","../axis_util":"hUfIQ","../cast":"lsee3","../div":"4hv3k","../exp":"cFcjI","../log_sum_exp":"gbL9W","../loss_ops_utils":"aw8nZ","../mul":"ex4Je","../neg":"dMJaD","../operation":"2e73h","../reshape":"7YgE0","../scalar":"2e16W","../sub":"3d8AE","../sum":"bvUS6","./compute_weighted_loss":"6vyDy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],db4jP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseFillEmptyRows",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({sparseFillEmptyRows_:function(e,t,r,n){var a=(0,i.convertToTensor)(e,"indices","sparseFillEmptyRows","int32"),c=(0,i.convertToTensor)(t,"values","sparseFillEmptyRows"),u=(0,i.convertToTensor)(r,"denseShape","sparseFillEmptyRows","int32"),l=(0,i.convertToTensor)(n,"defaultValue","sparseFillEmptyRows",c.dtype);if(2!==a.rank)throw Error("Indices should be Tensor2D but received shape\n ".concat(a.shape));if(1!==c.rank)throw Error("Values should be Tensor1D but received shape ".concat(c.shape));if(1!==u.rank)throw Error("Dense shape should be Tensor1D but received shape ".concat(u.shape));if(0!==l.rank)throw Error("Default value should be a scalar but received shape ".concat(l.shape));var p=s.ENGINE.runKernel(o.SparseFillEmptyRows,{indices:a,values:c,denseShape:u,defaultValue:l});return{outputIndices:p[0],outputValues:p[1],emptyRowIndicator:p[2],reverseIndexMap:p[3]}}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"37czW":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseReshape",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({sparseReshape_:function(e,t,r){var n=(0,i.convertToTensor)(e,"inputIndices","sparseReshape","int32"),a=(0,i.convertToTensor)(t,"inputShape","sparseReshape","int32"),c=(0,i.convertToTensor)(r,"newShape","sparseReshape","int32");if(2!==n.rank)throw Error("Input indices should be Tensor2D but received shape\n ".concat(n.shape));if(1!==a.rank)throw Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==c.rank)throw Error("New shape should be Tensor1D but received shape ".concat(c.shape));var u=s.ENGINE.runKernel(o.SparseReshape,{inputIndices:n,inputShape:a,newShape:c});return{outputIndices:u[0],outputShape:u[1]}}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1fY6P":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentMean",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({sparseSegmentMean_:function(e,t,r){var n=(0,i.convertToTensor)(e,"data","sparseSegmentMean"),a=(0,i.convertToTensor)(t,"indices","sparseSegmentMean","int32"),c=(0,i.convertToTensor)(r,"segmentIds","sparseSegmentMean","int32");if(n.rank<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw Error("Indices should be Tensor1D but received shape\n ".concat(a.shape));if(1!==c.rank)throw Error("Segment ids should be Tensor1D but received shape\n ".concat(c.shape));return s.ENGINE.runKernel(o.SparseSegmentMean,{data:n,indices:a,segmentIds:c})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],agFHj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentSum",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({sparseSegmentSum_:function(e,t,r){var n=(0,i.convertToTensor)(e,"data","sparseSegmentSum"),a=(0,i.convertToTensor)(t,"indices","sparseSegmentSum","int32"),c=(0,i.convertToTensor)(r,"segmentIds","sparseSegmentSum","int32");if(n.rank<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw Error("Indices should be Tensor1D but received shape\n ".concat(a.shape));if(1!==c.rank)throw Error("Segment ids should be Tensor1D but received shape\n ".concat(c.shape));return s.ENGINE.runKernel(o.SparseSegmentSum,{data:n,indices:a,segmentIds:c})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6uyAu":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringNGrams",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({stringNGrams_:function(e,t,r,n,a,c,u,l){var p=(0,i.convertToTensor)(e,"data","stringNGrams","string");if("string"!==p.dtype)throw Error("Data must be of datatype string");if(1!==p.shape.length)throw Error("Data must be a vector, saw: ".concat(p.shape));var f=(0,i.convertToTensor)(t,"dataSplits","stringNGrams");if("int32"!==f.dtype)throw Error("Data splits must be of datatype int32");var d=s.ENGINE.runKernel(o.StringNGrams,{data:p,dataSplits:f},{separator:r,nGramWidths:n,leftPad:a,rightPad:c,padWidth:u,preserveShortSequences:l});return{nGrams:d[0],nGramsSplits:d[1]}}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"10vKp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringSplit",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({stringSplit_:function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=(0,i.convertToTensor)(e,"input","stringSplit","string"),a=(0,i.convertToTensor)(t,"delimiter","stringSplit","string");if(1!==n.rank)throw Error("Input should be Tensor1D but received shape ".concat(n.shape));if(0!==a.rank)throw Error("Delimiter should be a scalar but received shape ".concat(a.shape));var c=s.ENGINE.runKernel(o.StringSplit,{input:n,delimiter:a},{skipEmpty:r});return{indices:c[0],values:c[1],shape:c[2]}}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hA20k:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringToHashBucketFast",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({stringToHashBucketFast_:function(e,t){var r=(0,i.convertToTensor)(e,"input","stringToHashBucketFast","string");if(t<=0)throw Error("Number of buckets must be at least 1");return s.ENGINE.runKernel(o.StringToHashBucketFast,{input:r},{numBuckets:t})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cvIXQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"staticRegexReplace",function(){return c});var s=e("../../engine"),o=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({staticRegexReplace_:function(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],a=(0,i.convertToTensor)(e,"input","staticRegexReplace","string");return s.ENGINE.runKernel(o.StaticRegexReplace,{x:a},{pattern:t,rewrite:r,replaceGlobal:n})}})},{"../../engine":"196sS","../../kernel_names":"eNhfn","../../tensor_util_env":"gGMh6","../operation":"2e73h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],vKy6B:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Optimizer",function(){return h});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../globals"),f=e("../gradients"),d=e("../ops/ops"),h=function(e){"use strict";function t(){return(0,i._)(this,t),(0,o._)(this,t,arguments)}return(0,u._)(t,e),(0,c._)(t,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=this.computeGradients(e,r),a=n.value,s=n.grads;if(null!=r){var o=r.map(function(e){return{name:e.name,tensor:s[e.name]}});this.applyGradients(o)}else this.applyGradients(s);return((0,p.dispose)(s),t)?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return(0,f.variableGrads)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&(0,p.dispose)(this.iterations_)}},{key:"saveIterations",value:function(){return(0,s._)(function(){return(0,l._)(this,function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:(0,d.scalar)(this.iterations_,"int32")}]})}).call(this)}},{key:"getWeights",value:function(){return(0,s._)(function(){return(0,l._)(this,function(e){throw Error("getWeights() is not implemented for this optimizer yet.")})})()}},{key:"setWeights",value:function(e){return(0,s._)(function(){return(0,l._)(this,function(e){throw Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))})}).call(this)}},{key:"extractIterations",value:function(e){return(0,s._)(function(){var t;return(0,l._)(this,function(r){switch(r.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=r.sent()[0],[2,e.slice(1)]}})}).call(this)}}]),t}(e("../serialization").Serializable);Object.defineProperty(h,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}})},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../globals":"eqUUw","../gradients":"16TAF","../ops/ops":"5ZfNv","../serialization":"fHdse","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fHdse:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Serializable",function(){return p}),a.export(r,"SerializationMap",function(){return f}),a.export(r,"registerClass",function(){return d}),a.export(r,"getRegisteredName",function(){return h});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_type_of.cjs"),c=e("./util"),u=new Map,l=new Map,p=function(){"use strict";function e(){(0,s._)(this,e)}return(0,o._)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),f=function(){"use strict";function e(){(0,s._)(this,e),this.classNameMap={}}return(0,o._)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function d(e,t,r){(0,c.assert)(null!=e.className,function(){return"Class being registered does not have the static className property defined."}),(0,c.assert)("string"==typeof e.className,function(){return"className is required to be a string, but got type "+(0,i._)(e.className)}),(0,c.assert)(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),void 0===t&&(t="Custom"),void 0===r&&(r=e.className);var n=t+">"+r;return f.register(e),u.set(n,e),l.set(e,n),e}function h(e){return l.has(e)?l.get(e):e.className}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_type_of.cjs":"iXhRw","./util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iGzsb:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdagradOptimizer",function(){return x});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../engine"),f=e("../globals"),d=e("../ops/add"),h=e("../ops/div"),m=e("../ops/fill"),g=e("../ops/mul"),v=e("../ops/sqrt"),_=e("../ops/square"),x=function(e){"use strict";function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,i._)(this,t),(r=(0,o._)(this,t)).learningRate=e,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=p.ENGINE.registeredVariables[r];null==t.accumulatedGrads[n]&&(t.accumulatedGrads[n]={originalName:"".concat(r,"/accumulator"),variable:(0,f.tidy)(function(){return(0,m.fill)(a.shape,t.initialAccumulatorValue).variable(!1)})});var s=Array.isArray(e)?e[n].tensor:e[r];if(null!=s){var o=t.accumulatedGrads[n].variable;(0,f.tidy)(function(){var e=(0,d.add)(o,(0,_.square)(s));o.assign(e);var r=(0,d.add)((0,g.mul)((0,h.div)(s,(0,v.sqrt)((0,d.add)(e,p.ENGINE.backend.epsilon()))),-t.learningRate),a);a.assign(r)})}}),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&(0,f.dispose)(this.accumulatedGrads.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){return(0,s._)(function(){return(0,l._)(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})}).call(this)}},{key:"setWeights",value:function(e){return(0,s._)(function(){return(0,l._)(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})}).call(this)}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"className",get:function(){return"Adagrad"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../engine":"196sS","../globals":"eqUUw","../ops/add":"6RBEg","../ops/div":"4hv3k","../ops/fill":"7700s","../ops/mul":"ex4Je","../ops/sqrt":"QcYjO","../ops/square":"ilRll","./optimizer":"vKy6B","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lMDRN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdamOptimizer",function(){return j});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_to_consumable_array.cjs"),p=e("@swc/helpers/cjs/_ts_generator.cjs"),f=e("../engine"),d=e("../globals"),h=e("../ops/add"),m=e("../ops/div"),g=e("../ops/mul"),v=e("../ops/pow"),_=e("../ops/scalar"),x=e("../ops/sqrt"),y=e("../ops/square"),b=e("../ops/sub"),k=e("../ops/zeros_like"),j=function(e){"use strict";function t(e,r,n){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,i._)(this,t),(a=(0,o._)(this,t)).learningRate=e,a.beta1=r,a.beta2=n,a.epsilon=s,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],(0,d.tidy)(function(){a.accBeta1=(0,_.scalar)(r).variable(),a.accBeta2=(0,_.scalar)(n).variable()}),null==s&&(a.epsilon=f.ENGINE.backend.epsilon()),a}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this,r=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);(0,d.tidy)(function(){var n=(0,b.sub)(1,t.accBeta1),a=(0,b.sub)(1,t.accBeta2);r.forEach(function(r,s){var o=f.ENGINE.registeredVariables[r];null==t.accumulatedFirstMoment[s]&&(t.accumulatedFirstMoment[s]={originalName:"".concat(r,"/m"),variable:(0,d.tidy)(function(){return(0,k.zerosLike)(o).variable(!1)})}),null==t.accumulatedSecondMoment[s]&&(t.accumulatedSecondMoment[s]={originalName:"".concat(r,"/v"),variable:(0,d.tidy)(function(){return(0,k.zerosLike)(o).variable(!1)})});var i=Array.isArray(e)?e[s].tensor:e[r];if(null!=i){var c=t.accumulatedFirstMoment[s].variable,u=t.accumulatedSecondMoment[s].variable,l=(0,h.add)((0,g.mul)(c,t.beta1),(0,g.mul)(i,1-t.beta1)),p=(0,h.add)((0,g.mul)(u,t.beta2),(0,g.mul)((0,y.square)(i),1-t.beta2)),v=(0,m.div)(l,n),_=(0,m.div)(p,a);c.assign(l),u.assign(p);var b=(0,h.add)((0,g.mul)((0,m.div)(v,(0,h.add)((0,x.sqrt)(_),t.epsilon)),-t.learningRate),o);o.assign(b)}}),t.accBeta1.assign((0,g.mul)(t.accBeta1,t.beta1)),t.accBeta2.assign((0,g.mul)(t.accBeta2,t.beta2))}),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,d.dispose)(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&(0,d.dispose)(this.accumulatedSecondMoment.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){return(0,s._)(function(){var e;return(0,p._)(this,function(t){switch(t.label){case 0:return e=(0,l._)(this.accumulatedFirstMoment).concat((0,l._)(this.accumulatedSecondMoment)),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})}).call(this)}},{key:"setWeights",value:function(e){return(0,s._)(function(){var t,r;return(0,p._)(this,function(n){switch(n.label){case 0:return t=this,[4,this.extractIterations(e)];case 1:return e=n.sent(),(0,d.tidy)(function(){t.accBeta1.assign((0,v.pow)(t.beta1,t.iterations_+1)),t.accBeta2.assign((0,v.pow)(t.beta2,t.iterations_+1))}),r=e.length/2,this.accumulatedFirstMoment=e.slice(0,r).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedSecondMoment=e.slice(r,2*r).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})}).call(this)}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"className",get:function(){return"Adam"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../engine":"196sS","../globals":"eqUUw","../ops/add":"6RBEg","../ops/div":"4hv3k","../ops/mul":"ex4Je","../ops/pow":"j5OS2","../ops/scalar":"2e16W","../ops/sqrt":"QcYjO","../ops/square":"ilRll","../ops/sub":"3d8AE","../ops/zeros_like":"1ZxCJ","./optimizer":"vKy6B","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ekxAk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdamaxOptimizer",function(){return b});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../engine"),f=e("../globals"),d=e("../ops/abs"),h=e("../ops/add"),m=e("../ops/div"),g=e("../ops/maximum"),v=e("../ops/mul"),_=e("../ops/scalar"),x=e("../ops/sub"),y=e("../ops/zeros_like"),b=function(e){"use strict";function t(e,r,n){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,i._)(this,t),(a=(0,o._)(this,t)).learningRate=e,a.beta1=r,a.beta2=n,a.epsilon=s,a.decay=c,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],(0,f.tidy)(function(){a.iteration=(0,_.scalar)(0).variable(),a.accBeta1=(0,_.scalar)(r).variable()}),null==s&&(a.epsilon=p.ENGINE.backend.epsilon()),a}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this,r=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);(0,f.tidy)(function(){var n=(0,x.sub)(1,t.accBeta1),a=(0,m.div)(-t.learningRate,(0,h.add)((0,v.mul)(t.iteration,t.decay),1));r.forEach(function(r,s){var o=p.ENGINE.registeredVariables[r];null==t.accumulatedFirstMoment[s]&&(t.accumulatedFirstMoment[s]={originalName:"".concat(r,"/m"),variable:(0,y.zerosLike)(o).variable(!1)}),null==t.accumulatedWeightedInfNorm[s]&&(t.accumulatedWeightedInfNorm[s]={originalName:"".concat(r,"/v"),variable:(0,y.zerosLike)(o).variable(!1)});var i=Array.isArray(e)?e[s].tensor:e[r];if(null!=i){var c=t.accumulatedFirstMoment[s].variable,u=t.accumulatedWeightedInfNorm[s].variable,l=(0,h.add)((0,v.mul)(c,t.beta1),(0,v.mul)(i,1-t.beta1)),f=(0,v.mul)(u,t.beta2),_=(0,d.abs)(i),x=(0,g.maximum)(f,_);c.assign(l),u.assign(x);var b=(0,h.add)((0,v.mul)((0,m.div)(a,n),(0,m.div)(l,(0,h.add)(x,t.epsilon))),o);o.assign(b)}}),t.iteration.assign((0,h.add)(t.iteration,1)),t.accBeta1.assign((0,v.mul)(t.accBeta1,t.beta1))}),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,f.dispose)(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&(0,f.dispose)(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){return(0,s._)(function(){return(0,l._)(this,function(e){throw Error("getWeights() is not implemented for Adamax yet.")})})()}},{key:"setWeights",value:function(e){return(0,s._)(function(){return(0,l._)(this,function(e){throw Error("setWeights() is not implemented for Adamax yet.")})})()}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"className",get:function(){return"Adamax"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../engine":"196sS","../globals":"eqUUw","../ops/abs":"9oolp","../ops/add":"6RBEg","../ops/div":"4hv3k","../ops/maximum":"g17QF","../ops/mul":"ex4Je","../ops/scalar":"2e16W","../ops/sub":"3d8AE","../ops/zeros_like":"1ZxCJ","./optimizer":"vKy6B","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9rvcq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MomentumOptimizer",function(){return v});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../engine"),f=e("../globals"),d=e("../ops/add"),h=e("../ops/mul"),m=e("../ops/scalar"),g=e("../ops/zeros_like"),v=function(e){"use strict";function t(e,r){var n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,i._)(this,t),(n=(0,o._)(this,t,[e])).learningRate=e,n.momentum=r,n.useNesterov=a,n.accumulations=[],n.m=(0,m.scalar)(n.momentum),n}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=p.ENGINE.registeredVariables[r];null==t.accumulations[n]&&(t.accumulations[n]={originalName:"".concat(r,"/momentum"),variable:(0,f.tidy)(function(){return(0,g.zerosLike)(a).variable(!1)})});var s=t.accumulations[n].variable,o=Array.isArray(e)?e[n].tensor:e[r];null!=o&&(0,f.tidy)(function(){var e,r=(0,d.add)((0,h.mul)(t.m,s),o);e=t.useNesterov?(0,d.add)((0,h.mul)(t.c,(0,d.add)(o,(0,h.mul)(r,t.m))),a):(0,d.add)((0,h.mul)(t.c,r),a),s.assign(r),a.assign(e)})}),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&(0,f.dispose)(this.accumulations.map(function(e){return e.variable}))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){return(0,s._)(function(){return(0,l._)(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})}).call(this)}},{key:"setWeights",value:function(e){return(0,s._)(function(){return(0,l._)(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})}).call(this)}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"className",get:function(){return"Momentum"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),t}(e("./sgd_optimizer").SGDOptimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../engine":"196sS","../globals":"eqUUw","../ops/add":"6RBEg","../ops/mul":"ex4Je","../ops/scalar":"2e16W","../ops/zeros_like":"1ZxCJ","./sgd_optimizer":"3tB4a","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3tB4a":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SGDOptimizer",function(){return g});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../engine"),f=e("../globals"),d=e("../ops/add"),h=e("../ops/mul"),m=e("../ops/scalar"),g=function(e){"use strict";function t(e){var r;return(0,i._)(this,t),(r=(0,o._)(this,t)).learningRate=e,r.setLearningRate(e),r}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=Array.isArray(e)?e[n].tensor:e[r];if(null!=a){var s=p.ENGINE.registeredVariables[r];(0,f.tidy)(function(){var e=(0,d.add)((0,h.mul)(t.c,a),s);s.assign(e)})}}),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,f.keep)((0,m.scalar)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){return(0,s._)(function(){return(0,l._)(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}})}).call(this)}},{key:"setWeights",value:function(e){return(0,s._)(function(){return(0,l._)(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw Error("SGD optimizer does not have settable weights.");return[2]}})}).call(this)}},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"className",get:function(){return"SGD"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../engine":"196sS","../globals":"eqUUw","../ops/add":"6RBEg","../ops/mul":"ex4Je","../ops/scalar":"2e16W","./optimizer":"vKy6B","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aQjvk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"RMSPropOptimizer",function(){return b});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_to_consumable_array.cjs"),p=e("@swc/helpers/cjs/_ts_generator.cjs"),f=e("../engine"),d=e("../globals"),h=e("../ops/add"),m=e("../ops/div"),g=e("../ops/mul"),v=e("../ops/sqrt"),_=e("../ops/square"),x=e("../ops/sub"),y=e("../ops/zeros_like"),b=function(e){"use strict";function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,i._)(this,t),(r=(0,o._)(this,t)).learningRate=e,r.decay=n,r.momentum=a,r.epsilon=s,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=c,null==s&&(r.epsilon=f.ENGINE.backend.epsilon()),null==e)throw Error("learningRate for RMSPropOptimizer must be defined.");return r}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=f.ENGINE.registeredVariables[r];null==t.accumulatedMeanSquares[n]&&(t.accumulatedMeanSquares[n]={originalName:"".concat(r,"/rms"),variable:(0,d.tidy)(function(){return(0,y.zerosLike)(a).variable(!1)})}),null==t.accumulatedMoments[n]&&(t.accumulatedMoments[n]={originalName:"".concat(r,"/momentum"),variable:(0,d.tidy)(function(){return(0,y.zerosLike)(a).variable(!1)})}),null==t.accumulatedMeanGrads[n]&&t.centered&&(t.accumulatedMeanGrads[n]={originalName:"".concat(r,"/mg"),variable:(0,d.tidy)(function(){return(0,y.zerosLike)(a).variable(!1)})});var s=Array.isArray(e)?e[n].tensor:e[r];if(null!=s){var o=t.accumulatedMeanSquares[n].variable,i=t.accumulatedMoments[n].variable;(0,d.tidy)(function(){var e=(0,h.add)((0,g.mul)(o,t.decay),(0,g.mul)((0,_.square)(s),1-t.decay));if(t.centered){var r=t.accumulatedMeanGrads[n].variable,c=(0,h.add)((0,g.mul)(r,t.decay),(0,g.mul)(s,1-t.decay)),u=(0,m.div)((0,g.mul)(s,t.learningRate),(0,v.sqrt)((0,x.sub)(e,(0,h.add)((0,_.square)(c),t.epsilon)))),l=(0,h.add)((0,g.mul)(i,t.momentum),u);o.assign(e),r.assign(c),i.assign(l);var p=(0,x.sub)(a,l);a.assign(p)}else{var f=(0,h.add)((0,g.mul)(o,t.decay),(0,g.mul)((0,_.square)(s),1-t.decay)),d=(0,h.add)((0,g.mul)(i,t.momentum),(0,m.div)((0,g.mul)(s,t.learningRate),(0,v.sqrt)((0,h.add)(f,t.epsilon))));o.assign(f),i.assign(d);var y=(0,x.sub)(a,d);a.assign(y)}})}}),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&(0,d.dispose)(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&(0,d.dispose)(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&(0,d.dispose)(this.accumulatedMoments.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){return(0,s._)(function(){var e,t;return(0,p._)(this,function(r){switch(r.label){case 0:return t=(0,l._)(this.accumulatedMeanSquares).concat((0,l._)(this.accumulatedMoments)),this.centered&&(e=t).push.apply(e,(0,l._)(this.accumulatedMeanGrads)),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})}).call(this)}},{key:"setWeights",value:function(e){return(0,s._)(function(){var t;return(0,p._)(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedMoments=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}})}).call(this)}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"className",get:function(){return"RMSProp"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../engine":"196sS","../globals":"eqUUw","../ops/add":"6RBEg","../ops/div":"4hv3k","../ops/mul":"ex4Je","../ops/sqrt":"QcYjO","../ops/square":"ilRll","../ops/sub":"3d8AE","../ops/zeros_like":"1ZxCJ","./optimizer":"vKy6B","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],d8Ntd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdadeltaOptimizer",function(){return v.AdadeltaOptimizer}),a.export(r,"AdagradOptimizer",function(){return _.AdagradOptimizer}),a.export(r,"AdamOptimizer",function(){return x.AdamOptimizer}),a.export(r,"AdamaxOptimizer",function(){return y.AdamaxOptimizer}),a.export(r,"MomentumOptimizer",function(){return b.MomentumOptimizer}),a.export(r,"Optimizer",function(){return k.Optimizer}),a.export(r,"OptimizerConstructors",function(){return j.OptimizerConstructors}),a.export(r,"RMSPropOptimizer",function(){return w.RMSPropOptimizer}),a.export(r,"SGDOptimizer",function(){return I.SGDOptimizer}),a.export(r,"Tensor",function(){return T.Tensor}),a.export(r,"TensorBuffer",function(){return T.TensorBuffer}),a.export(r,"Variable",function(){return T.Variable}),a.export(r,"Rank",function(){return S.Rank}),a.export(r,"sumOutType",function(){return S.sumOutType}),a.export(r,"upcastType",function(){return S.upcastType}),a.export(r,"Reduction",function(){return M.Reduction}),a.export(r,"customGrad",function(){return A.customGrad}),a.export(r,"grad",function(){return A.grad}),a.export(r,"grads",function(){return A.grads}),a.export(r,"valueAndGrad",function(){return A.valueAndGrad}),a.export(r,"valueAndGrads",function(){return A.valueAndGrads}),a.export(r,"variableGrads",function(){return A.variableGrads}),a.export(r,"Environment",function(){return R.Environment}),a.export(r,"env",function(){return R.env}),a.export(r,"ENV",function(){return R.ENV}),a.export(r,"nextFrame",function(){return P.nextFrame}),a.export(r,"KernelBackend",function(){return V.KernelBackend}),a.export(r,"DataStorage",function(){return V.DataStorage}),a.export(r,"version_core",function(){return g.version}),a.export(r,"browser",function(){return c}),a.export(r,"io",function(){return s}),a.export(r,"math",function(){return o}),a.export(r,"serialization",function(){return f}),a.export(r,"test_util",function(){return h}),a.export(r,"util",function(){return m}),a.export(r,"backend_util",function(){return O}),a.export(r,"broadcast_util",function(){return i}),a.export(r,"tensor_util",function(){return d}),a.export(r,"slice_util",function(){return p}),a.export(r,"gather_util",function(){return u}),a.export(r,"scatter_util",function(){return l}),a.export(r,"device_util",function(){return D}),a.export(r,"kernel_impls",function(){return B});var s=e("./io/io"),o=e("./math"),i=e("./ops/broadcast_util"),c=e("./ops/browser"),u=e("./ops/gather_nd_util"),l=e("./ops/scatter_nd_util"),p=e("./ops/slice_util"),f=e("./serialization"),d=e("./tensor_util"),h=e("./test_util"),m=e("./util"),g=e("./version"),v=e("./optimizers/adadelta_optimizer"),_=e("./optimizers/adagrad_optimizer"),x=e("./optimizers/adam_optimizer"),y=e("./optimizers/adamax_optimizer"),b=e("./optimizers/momentum_optimizer"),k=e("./optimizers/optimizer"),j=e("./optimizers/optimizer_constructors"),w=e("./optimizers/rmsprop_optimizer"),I=e("./optimizers/sgd_optimizer"),T=e("./tensor"),S=e("./types"),N=e("./ops/ops");a.exportAll(N,r);var M=e("./ops/loss_ops_utils"),C=e("./train");a.exportAll(C,r);var E=e("./globals");a.exportAll(E,r);var F=e("./kernel_registry");a.exportAll(F,r);var A=e("./gradients"),R=e("./environment"),P=e("./browser_util"),O=e("./backends/backend_util"),D=e("./device_util"),B=e("./backends/kernel_impls"),V=e("./backends/backend"),G=e("./kernel_names");a.exportAll(G,r)},{"./io/io":"bqVj9","./math":"lppQr","./ops/broadcast_util":"d00Jz","./ops/browser":"9HQoY","./ops/gather_nd_util":"axJmI","./ops/scatter_nd_util":"dXk24","./ops/slice_util":"9JvGP","./serialization":"fHdse","./tensor_util":"39ZV0","./test_util":"2Tfgx","./util":"pzc9n","./version":"k3r1s","./optimizers/adadelta_optimizer":"7Ya92","./optimizers/adagrad_optimizer":"iGzsb","./optimizers/adam_optimizer":"lMDRN","./optimizers/adamax_optimizer":"ekxAk","./optimizers/momentum_optimizer":"9rvcq","./optimizers/optimizer":"vKy6B","./optimizers/optimizer_constructors":"473Ua","./optimizers/rmsprop_optimizer":"aQjvk","./optimizers/sgd_optimizer":"3tB4a","./tensor":"6gbjA","./types":"liYbZ","./ops/ops":"5ZfNv","./ops/loss_ops_utils":"aw8nZ","./train":"6PP1c","./globals":"eqUUw","./kernel_registry":"kxOzH","./gradients":"16TAF","./environment":"bJoCx","./browser_util":"fLMal","./backends/backend_util":"dNsFD","./device_util":"35PiO","./backends/kernel_impls":"16YrG","./backends/backend":"dFyOy","./kernel_names":"eNhfn","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bqVj9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"copyModel",function(){return f.copyModel}),a.export(r,"listModels",function(){return f.listModels}),a.export(r,"moveModel",function(){return f.moveModel}),a.export(r,"removeModel",function(){return f.removeModel}),a.export(r,"browserFiles",function(){return s.browserFiles}),a.export(r,"browserHTTPRequest",function(){return o.browserHTTPRequest}),a.export(r,"CompositeArrayBuffer",function(){return p.CompositeArrayBuffer}),a.export(r,"concatenateArrayBuffers",function(){return i.concatenateArrayBuffers}),a.export(r,"decodeWeights",function(){return i.decodeWeights}),a.export(r,"decodeWeightsStream",function(){return i.decodeWeightsStream}),a.export(r,"encodeWeights",function(){return i.encodeWeights}),a.export(r,"fromMemory",function(){return c.fromMemory}),a.export(r,"fromMemorySync",function(){return c.fromMemorySync}),a.export(r,"getLoadHandlers",function(){return u.getLoadHandlers}),a.export(r,"getModelArtifactsForJSON",function(){return i.getModelArtifactsForJSON}),a.export(r,"getModelArtifactsForJSONSync",function(){return i.getModelArtifactsForJSONSync}),a.export(r,"getModelArtifactsInfoForJSON",function(){return i.getModelArtifactsInfoForJSON}),a.export(r,"getSaveHandlers",function(){return u.getSaveHandlers}),a.export(r,"getWeightSpecs",function(){return i.getWeightSpecs}),a.export(r,"http",function(){return o.http}),a.export(r,"isHTTPScheme",function(){return o.isHTTPScheme}),a.export(r,"loadWeights",function(){return l.loadWeights}),a.export(r,"registerLoadRouter",function(){return u.registerLoadRouter}),a.export(r,"registerSaveRouter",function(){return u.registerSaveRouter}),a.export(r,"weightsLoaderFactory",function(){return l.weightsLoaderFactory}),a.export(r,"withSaveHandler",function(){return c.withSaveHandler}),a.export(r,"withSaveHandlerSync",function(){return c.withSaveHandlerSync}),e("./indexed_db"),e("./local_storage");var s=e("./browser_files"),o=e("./http"),i=e("./io_utils"),c=e("./passthrough"),u=e("./router_registry"),l=e("./weights_loader"),p=e("./composite_array_buffer"),f=e("./model_management")},{"./indexed_db":"8p6gA","./local_storage":"j4JKE","./browser_files":"5H56n","./http":"lUGUP","./io_utils":"4iN9Y","./passthrough":"g12hx","./router_registry":"gDNEG","./weights_loader":"6fUng","./composite_array_buffer":"jvAqk","./model_management":"7lohN","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5H56n":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BrowserDownloads",function(){return m}),a.export(r,"browserDownloadsRouter",function(){return v}),a.export(r,"browserDownloads",function(){return _}),a.export(r,"browserFiles",function(){return x});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_to_consumable_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs");e("../flags");var l=e("../environment"),p=e("./io_utils"),f=e("./router_registry"),d=e("./composite_array_buffer");function h(e){return new Promise(function(e){return setTimeout(e)}).then(e)}var m=function(){"use strict";function e(t){if((0,o._)(this,e),!(0,l.env)().getBool("IS_BROWSER"))throw Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),(null==t||0===t.length)&&(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,i._)(e,[{key:"save",value:function(e){return(0,s._)(function(){var t,r,n,a,s,o,i;return(0,u._)(this,function(c){switch(c.label){case 0:if("undefined"==typeof document)throw Error("Browser downloads are not supported in this environment since `document` is not present");if(t=d.CompositeArrayBuffer.join(e.weightData),r=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a=(0,p.getModelJSONForModelArtifacts)(e,n),s=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,o.href=s,[4,h(function(){return o.dispatchEvent(new MouseEvent("click"))})];case 2:if(c.sent(),null==e.weightData)return[3,4];return(i=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,i.href=r,[4,h(function(){return i.dispatchEvent(new MouseEvent("click"))})];case 3:c.sent(),c.label=4;case 4:return[2,{modelArtifactsInfo:(0,p.getModelArtifactsInfoForJSON)(e)}];case 5:return[2]}})}).call(this)}}]),e}();m.URL_SCHEME="downloads://";var g=function(){"use strict";function e(t){if((0,o._)(this,e),null==t||t.length<1)throw Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,i._)(e,[{key:"load",value:function(){return(0,s._)(function(){var e;return(0,u._)(this,function(t){return e=this,[2,new Promise(function(t,r){var n=new FileReader;n.onload=function(n){var a=JSON.parse(n.target.result),s=a.modelTopology;return null==s?void r(Error("modelTopology field is missing from file ".concat(e.jsonFile.name))):null==a.weightsManifest?void r(Error("weightManifest field is missing from file ".concat(e.jsonFile.name))):0===e.weightsFiles.length?void t({modelTopology:s}):void t((0,p.getModelArtifactsForJSON)(a,function(t){return e.loadWeights(t)}))},n.onerror=function(t){return r("Failed to read model topology and weights manifest JSON "+"from file '".concat(e.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},n.readAsText(e.jsonFile)})]})}).call(this)}},{key:"loadWeights",value:function(e){var t=this,r=[],n=[],a=!0,s=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done);a=!0){var l=i.value;r.push.apply(r,(0,c._)(l.weights)),n.push.apply(n,(0,c._)(l.paths))}}catch(e){s=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw o}}var p=this.checkManifestAndWeightFiles(e);return Promise.all(n.map(function(e){return t.loadWeightsFile(e,p[e])})).then(function(e){return[r,e]})}},{key:"loadWeightsFile",value:function(e,t){return new Promise(function(r,n){var a=new FileReader;a.onload=function(e){r(e.target.result)},a.onerror=function(t){return n("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)})}},{key:"checkManifestAndWeightFiles",value:function(e){var t=this,r=[],n=this.weightsFiles.map(function(e){return(0,p.basename)(e.name)}),a={},s=!0,o=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0)c.value.paths.forEach(function(e){var s=(0,p.basename)(e);if(-1!==r.indexOf(s))throw Error("Duplicate file basename found in weights manifest: "+"'".concat(s,"'"));if(r.push(s),-1===n.indexOf(s))throw Error("Weight file with basename '".concat(s,"' is not provided."));a[e]=t.weightsFiles[n.indexOf(s)]})}catch(e){o=!0,i=e}finally{try{s||null==u.return||u.return()}finally{if(o)throw i}}if(r.length!==this.weightsFiles.length)throw Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}]),e}(),v=function(e){return(0,l.env)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(m.URL_SCHEME)?_(e.slice(m.URL_SCHEME.length)):null};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new m(e)}function x(e){return new g(e)}f.IORouterRegistry.registerSaveRouter(v)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../flags":"9AT8z","../environment":"bJoCx","./io_utils":"4iN9Y","./router_registry":"gDNEG","./composite_array_buffer":"jvAqk","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lUGUP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"HTTPRequest",function(){return v}),a.export(r,"parseUrl",function(){return _}),a.export(r,"isHTTPScheme",function(){return x}),a.export(r,"httpRouter",function(){return y}),a.export(r,"http",function(){return b}),a.export(r,"browserHTTPRequest",function(){return k});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_to_consumable_array.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../environment"),f=e("../util"),d=e("./io_utils"),h=e("./composite_array_buffer"),m=e("./router_registry"),g=e("./weights_loader"),v=function(){"use strict";function e(t,r){if((0,o._)(this,e),this.DEFAULT_METHOD="POST",null==r&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.weightUrlConverter=r.weightUrlConverter,null!=r.fetchFunc?((0,f.assert)("function"==typeof r.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=r.fetchFunc):this.fetch=(0,p.env)().platform.fetch,(0,f.assert)(null!=t&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&(0,f.assert)(2===t.length,function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")}),this.path=t,null!=r.requestInit&&null!=r.requestInit.body)throw Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{},this.loadOptions=r}return(0,i._)(e,[{key:"save",value:function(e){return(0,s._)(function(){var t,r,n,a,s;return(0,l._)(this,function(o){switch(o.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],n=(0,d.getModelJSONForModelArtifacts)(e,r),t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&(a=h.CompositeArrayBuffer.join(e.weightData),t.body.append("model.weights.bin",new Blob([a],{type:"application/octet-stream"}),"model.weights.bin")),[4,this.fetch(this.path,t)];case 1:if((s=o.sent()).ok)return[2,{modelArtifactsInfo:(0,d.getModelArtifactsInfoForJSON)(e),responses:[s]}];throw Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(s.status,"."))}})}).call(this)}},{key:"loadModelJSON",value:function(){return(0,s._)(function(){var e,t,r,n,a;return(0,l._)(this,function(s){switch(s.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=s.sent()).ok)throw Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");s.label=2;case 2:return s.trys.push([2,4,,5]),[4,e.json()];case 3:return t=s.sent(),[3,5];case 4:throw s.sent(),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",Error(r);case 5:if(n=t.modelTopology,a=t.weightsManifest,null==n&&null==a)throw Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return[2,t]}})}).call(this)}},{key:"load",value:function(){return(0,s._)(function(){var e,t;return(0,l._)(this,function(r){switch(r.label){case 0:if(e=this,this.loadOptions.streamWeights)return[2,this.loadStream()];return[4,this.loadModelJSON()];case 1:return t=r.sent(),[2,(0,d.getModelArtifactsForJSON)(t,function(t){return e.loadWeights(t)})]}})}).call(this)}},{key:"loadStream",value:function(){return(0,s._)(function(){var e,t,r,n,a;return(0,l._)(this,function(s){switch(s.label){case 0:return e=this,[4,this.loadModelJSON()];case 1:return t=s.sent(),[4,this.getWeightUrls(t.weightsManifest)];case 2:return r=s.sent(),n=(0,d.getWeightSpecs)(t.weightsManifest),a=function(){return(0,g.streamWeights)(r,e.loadOptions)},[2,Object.assign(Object.assign({},t),{weightSpecs:n,getWeightStream:a})]}})}).call(this)}},{key:"getWeightUrls",value:function(e){return(0,s._)(function(){var t,r,n,a,s,o,i,p,f,d,h,m,g,v,x,y,b,k,j,w,I,T,S;return(0,l._)(this,function(l){switch(l.label){case 0:r=Array.isArray(this.path)?this.path[1]:this.path,a=(n=(0,c._)(_(r),2))[0],s=n[1],o=this.weightPathPrefix||a,i=[],p=[],f=!0,d=!1,h=void 0;try{for(m=e[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){v=g.value,x=!0,y=!1,b=void 0;try{for(k=v.paths[Symbol.iterator]();!(x=(j=k.next()).done);x=!0)w=j.value,null!=this.weightUrlConverter?p.push(this.weightUrlConverter(w)):i.push(o+w+s)}catch(e){y=!0,b=e}finally{try{x||null==k.return||k.return()}finally{if(y)throw b}}}}catch(e){d=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(d)throw h}}if(!this.weightUrlConverter)return[3,2];return T=(I=(t=i).push).apply,S=[t],[4,Promise.all(p)];case 1:T.apply(I,S.concat([u._.apply(void 0,[l.sent()])])),l.label=2;case 2:return[2,i]}})}).call(this)}},{key:"loadWeights",value:function(e){return(0,s._)(function(){var t,r,n;return(0,l._)(this,function(a){switch(a.label){case 0:return[4,this.getWeightUrls(e)];case 1:return t=a.sent(),r=(0,d.getWeightSpecs)(e),[4,(0,g.loadWeightsAsArrayBuffer)(t,this.loadOptions)];case 2:return n=a.sent(),[2,[r,n]]}})}).call(this)}}]),e}();function _(e){var t=e.lastIndexOf("/"),r=e.lastIndexOf("?");return[e.substring(0,t)+"/",r>t?e.substring(r):""]}function x(e){return null!=e.match(v.URL_SCHEME_REGEX)}v.URL_SCHEME_REGEX=/^https?:\/\//;var y=function(e,t){if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc));else if(Array.isArray(e)?e.every(function(e){return x(e)}):x(e))return b(e,t);return null};function b(e,t){return new v(e,t)}function k(e,t){return b(e,t)}m.IORouterRegistry.registerSaveRouter(y),m.IORouterRegistry.registerLoadRouter(y)},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../environment":"bJoCx","../util":"pzc9n","./io_utils":"4iN9Y","./composite_array_buffer":"jvAqk","./router_registry":"gDNEG","./weights_loader":"6fUng","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6fUng":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"loadWeightsAsArrayBuffer",function(){return d}),a.export(r,"streamWeights",function(){return h}),a.export(r,"loadWeights",function(){return m}),a.export(r,"weightsLoaderFactory",function(){return g});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../environment"),c=e("../util"),u=e("./composite_array_buffer"),l=e("./io_utils"),p=e("./progress"),f=e("./types");function d(e,t){return(0,s._)(function(){var r,n,a,s,c,u,l,f,d;return(0,o._)(this,function(o){switch(o.label){case 0:if(null==t&&(t={}),r=null==t.fetchFunc?(0,i.env)().platform.fetch:t.fetchFunc,n=e.map(function(e){return r(e,t.requestInit,{isBinary:!0})}),a=0,s=.5,null!=t.onProgress)return[3,2];return[4,Promise.all(n)];case 1:return c=o.sent(),[3,4];case 2:return[4,(0,p.monitorPromisesProgress)(n,t.onProgress,a,s)];case 3:c=o.sent(),o.label=4;case 4:if(u=c.map(function(e){return e.arrayBuffer()}),l=.5,f=1,null!=t.onProgress)return[3,6];return[4,Promise.all(u)];case 5:return d=o.sent(),[3,8];case 6:return[4,(0,p.monitorPromisesProgress)(u,t.onProgress,l,f)];case 7:d=o.sent(),o.label=8;case 8:return[2,d]}})})()}function h(e,t){var r,n,a=null==t.fetchFunc?(0,i.env)().platform.fetch:t.fetchFunc,c=0;return null==(r=t.onProgress)||r.call(t,0),new ReadableStream({pull:function(r){return(0,s._)(function(){var s,i,u,l;return(0,o._)(this,function(o){switch(o.label){case 0:if(!(c<e.length))return[3,4];if(n)return[3,2];return[4,a(e[c],t.requestInit,{isBinary:!0})];case 1:n=o.sent().body.getReader(),o.label=2;case 2:return[4,n.read()];case 3:if(u=(i=o.sent()).done,l=i.value,u)return c++,n=void 0,null==(s=t.onProgress)||s.call(t,c/e.length),[3,0];return r.enqueue(l),[2];case 4:return r.close(),[2]}})})()}})}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return(0,s._)(function(){return(0,o._)(this,function(a){return[2,g(function(e){return d(e,{requestInit:n})})(e,t,r)]})})()}function g(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return(0,s._)(function(){var a,s,i,p,d,h,m,g,v,_;return(0,o._)(this,function(o){switch(o.label){case 0:if(a=t.map(function(){return!1}),s={},i=null!=n?n.map(function(){return!1}):[],p=[],t.forEach(function(e,t){var r=0;e.weights.forEach(function(e){var o="quantization"in e?e.quantization.dtype:e.dtype,u=f.DTYPE_VALUE_SIZE_MAP[o]*c.sizeFromShape(e.shape),l=function(){a[t]=!0,null==s[t]&&(s[t]=[]),s[t].push({manifestEntry:e,groupOffset:r,sizeBytes:u})};null!=n?n.forEach(function(t,r){t===e.name&&(l(),i[r]=!0)}):l(),p.push(e.name),r+=u})}),!i.every(function(e){return e}))throw d=n.filter(function(e,t){return!i[t]}),Error("Could not find weights in manifest with names: "+"".concat(d.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(p.join(", "),"."));return h=a.reduce(function(e,t,r){return t&&e.push(r),e},[]),m=[],h.forEach(function(e){t[e].paths.forEach(function(e){var t=r+(r.endsWith("/")?"":"/")+e;m.push(t)})}),[4,e(m)];case 1:return g=o.sent(),v={},_=0,h.forEach(function(e){var r=t[e].paths.length,n=new(0,u.CompositeArrayBuffer)(g.slice(_,_+r));s[e].forEach(function(e){var t=n.slice(e.groupOffset,e.groupOffset+e.sizeBytes),r=(0,l.decodeWeights)(t,[e.manifestEntry]);for(var a in r)v[a]=r[a]}),_+=r}),[2,v]}})})()}}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../environment":"bJoCx","../util":"pzc9n","./composite_array_buffer":"jvAqk","./io_utils":"4iN9Y","./progress":"7DsuG","./types":"hY1iL","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7DsuG":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"monitorPromisesProgress",function(){return o});var s=e("../util");function o(e,t,r,n){a=e,(0,s.assert)(null!=a&&Array.isArray(a)&&a.length>0,function(){return"promises must be a none empty array"}),o=r=null==r?0:r,i=n=null==n?1:n,(0,s.assert)(o>=0&&o<=1,function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(o)}),(0,s.assert)(i>=0&&i<=1,function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(i)}),(0,s.assert)(i>=o,function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(o," and endFraction ")+"".concat(i)});var a,o,i,c=0;return Promise.all(e.map(function(a){return a.then(function(a){return t(r+ ++c/e.length*(n-r)),a}),a}))}},{"../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g12hx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fromMemory",function(){return p}),a.export(r,"fromMemorySync",function(){return f}),a.export(r,"withSaveHandler",function(){return d}),a.export(r,"withSaveHandlerSync",function(){return h});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_to_consumable_array.cjs"),c=function(){"use strict";function e(t){(0,s._)(this,e),this.modelArtifacts=t}return(0,o._)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),u=function(){"use strict";function e(t){(0,s._)(this,e),this.saveHandler=t}return(0,o._)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),l=function e(t){"use strict";(0,s._)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})};function p(e,t,r,n){var a=arguments;return new l(f.apply(void 0,(0,i._)(a)))}function f(e,t,r,n){return 1!=arguments.length?(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new c({modelTopology:e,weightSpecs:t,weightData:r,trainingConfig:n})):null!=e.modelTopology||null!=e.weightSpecs?new c(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new c({modelTopology:e}))}function d(e){return new u(e)}function h(e){return new u(e)}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lppQr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"confusionMatrix",function(){return s.confusionMatrix});var s=e("./ops/confusion_matrix")},{"./ops/confusion_matrix":"kNySJ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kNySJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"confusionMatrix_",function(){return f}),a.export(r,"confusionMatrix",function(){return d});var s=e("../tensor_util_env"),o=e("../util"),i=e("./cast"),c=e("./mat_mul"),u=e("./one_hot"),l=e("./operation"),p=e("./transpose");function f(e,t,r){var n=(0,s.convertToTensor)(e,"labels","confusionMatrix"),a=(0,s.convertToTensor)(t,"predictions","confusionMatrix");o.assert(null==r||r>0&&Number.isInteger(r),function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(r)}),o.assert(1===n.rank,function(){return"Expected the rank of labels to be 1, but got ".concat(n.rank)}),o.assert(1===a.rank,function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(a.rank)}),o.assert(n.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+"".concat(n.shape[0]," vs. ").concat(a.shape[0],". ")+"Labels and predictions should have the same number of elements."}),o.assert(r>0&&Number.isInteger(r),function(){return"numClasses is required to be a positive integer, but got "+"".concat(r)});var l=(0,u.oneHot)((0,i.cast)(n,"int32"),r),f=(0,u.oneHot)((0,i.cast)(a,"int32"),r),d=(0,p.transpose)(l),h=(0,c.matMul)(d,f);return(0,i.cast)(h,"int32")}var d=(0,l.op)({confusionMatrix_:f})},{"../tensor_util_env":"gGMh6","../util":"pzc9n","./cast":"lsee3","./mat_mul":"3WX7I","./one_hot":"71DgA","./operation":"2e73h","./transpose":"67858","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9HQoY":[function(e,t,r,n){var a,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"fromPixelsAsync",function(){return y}),s.export(r,"toPixels",function(){return k}),s.export(r,"draw",function(){return j}),s.export(r,"fromPixels",function(){return w});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),i=e("@swc/helpers/cjs/_sliced_to_array.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs"),u=e("../engine"),l=e("../environment"),p=e("../kernel_names"),f=e("../kernel_registry"),d=e("../tensor"),h=e("../tensor_util_env"),m=e("./cast"),g=e("./operation"),v=e("./tensor3d"),_=!1;function x(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(n>4)throw Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw Error("pixels passed to tf.browser.fromPixels() can not be null");var s=!1,o=!1,c=!1,l=!1,d=!1,h=!1;if(e.data instanceof Uint8Array)s=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)o=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)c=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)l=!0;else if(null!=e.getContext)d=!0;else if("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap)h=!0;else throw Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));if(null!=(0,f.getKernel)(p.FromPixels,u.ENGINE.backendName))return u.ENGINE.runKernel(p.FromPixels,{pixels:e},{numChannels:n});var m=(0,i._)(c?[e.videoWidth,e.videoHeight]:[e.width,e.height],2),g=m[0],_=m[1];if(d)t=e.getContext("2d").getImageData(0,0,g,_).data;else if(o||s)t=e.data;else if(l||c||h){if(null==a)if("undefined"==typeof document)if("undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof OffscreenCanvasRenderingContext2D)a=new OffscreenCanvas(1,1).getContext("2d");else throw Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else a=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});a.canvas.width=g,a.canvas.height=_,a.drawImage(e,0,0,g,_),t=a.getImageData(0,0,g,_).data}if(4===n)r=new Int32Array(t);else{var x=g*_;r=new Int32Array(x*n);for(var y=0;y<x;y++)for(var b=0;b<n;++b)r[y*n+b]=t[4*y+b]}var k=[_,g,n];return(0,v.tensor3d)(r,k,"int32")}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,o._)(function(){var r,n;return(0,c._)(this,function(a){switch(a.label){case 0:var s;if(r=null,!((0,l.env)().getBool("WRAP_TO_IMAGEBITMAP")&&"undefined"!=typeof window&&"undefined"!=typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&null!=(s=e)&&0!==s.width&&0!==s.height&&!(null!=e&&e.data instanceof Uint8Array)))return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,createImageBitmap(e,{premultiplyAlpha:"none"})];case 2:return n=a.sent(),[3,4];case 3:return a.sent(),n=null,[3,4];case 4:return r=null!=n&&n.width===e.width&&n.height===e.height?n:e,[3,6];case 5:r=e,a.label=6;case 6:return[2,x(r,t)]}})})()}function b(e){if(2!==e.rank&&3!==e.rank)throw Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(e.rank,"."));var t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(t));if("float32"!==e.dtype&&"int32"!==e.dtype)throw Error("Unsupported type for toPixels: ".concat(e.dtype,".")+" Please use float32 or int32 tensors.")}function k(e,t){return(0,o._)(function(){var r,n,a,s,o,l,g,v,x,y,k,j,w,I,T,S;return(0,c._)(this,function(c){switch(c.label){case 0:return r=(0,h.convertToTensor)(e,"img","toPixels"),e instanceof d.Tensor||(n=r,r=(0,m.cast)(n,"int32"),n.dispose()),b(r),s=(a=(0,i._)(r.shape.slice(0,2),2))[0],o=a[1],l=2===r.rank?1:r.shape[2],[4,r.data()];case 1:for(y=0,g=c.sent(),v="float32"===r.dtype?255:1,x=new Uint8ClampedArray(o*s*4);y<s*o;++y){for(j=0,k=[0,0,0,255];j<l;j++){if(w=g[y*l+j],"float32"===r.dtype){if(w<0||w>1)throw Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(w,"."))}else if("int32"===r.dtype&&(w<0||w>255))throw Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(w,"."));1===l?(k[0]=w*v,k[1]=w*v,k[2]=w*v):k[j]=w*v}x[(I=4*y)+0]=Math.round(k[0]),x[I+1]=Math.round(k[1]),x[I+2]=Math.round(k[2]),x[I+3]=Math.round(k[3])}return null!=t&&(_||null!=(0,f.getKernel)(p.Draw,u.ENGINE.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),_=!0),t.width=o,t.height=s,T=t.getContext("2d"),S=new ImageData(x,o,s),T.putImageData(S,0,0)),r!==e&&r.dispose(),[2,x]}})})()}function j(e,t,r){var n=(0,h.convertToTensor)(e,"img","draw");if(!(e instanceof d.Tensor)){var a=n;n=(0,m.cast)(a,"int32"),a.dispose()}b(n);var s=null==r?void 0:r.imageOptions,o=(null==s?void 0:s.alpha)||1;if(o>1||o<0)throw Error("Alpha value ".concat(o," is suppoed to be in range [0 - 1]."));var i={image:n};u.ENGINE.runKernel(p.Draw,i,{canvas:t,options:r})}var w=(0,g.op)({fromPixels_:x})},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../engine":"196sS","../environment":"bJoCx","../kernel_names":"eNhfn","../kernel_registry":"kxOzH","../tensor":"6gbjA","../tensor_util_env":"gGMh6","./cast":"lsee3","./operation":"2e73h","./tensor3d":"lxX7t","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],axJmI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prepareAndValidate",function(){return i});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("../util");function i(e,t){var r=e.shape.length,n=t.shape.length;if(r<1)throw Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if(n<1)throw Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if("int32"!==t.dtype)throw Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[n-1]>r)throw Error("index innermost dimension length must be<= tensor rank; saw: "+"".concat(t.shape[n-1]," vs. ").concat(r));if(0===(0,o.sizeFromShape)(e.shape))throw Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,i=a[a.length-1],c=1,u=0;u<a.length-1;++u)c*=a[u];var l=e.shape,p=a.slice();p.pop();for(var f=1,d=i;d<r;++d)f*=l[d],p.push(l[d]);var h=(0,s._)((0,o.computeStrides)(e.shape).map(function(e){return e/f})).concat([1]).slice(0,i);return[p,c,f,h]}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9JvGP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"assertParamsValid",function(){return i}),a.export(r,"maskToAxes",function(){return c}),a.export(r,"computeOutShape",function(){return u}),a.export(r,"stridesWithElidedDims",function(){return l}),a.export(r,"getNormalizedAxes",function(){return f}),a.export(r,"startIndicesWithElidedDims",function(){return d}),a.export(r,"stopIndicesWithElidedDims",function(){return h}),a.export(r,"stridesForAxis",function(){return m}),a.export(r,"startForAxis",function(){return g}),a.export(r,"stopForAxis",function(){return v}),a.export(r,"isSliceContinous",function(){return _}),a.export(r,"computeFlatOffset",function(){return x}),a.export(r,"parseSliceParams",function(){return y}),a.export(r,"sliceInfo",function(){return b});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("../util");function i(e,t,r){var n=function(n){o.assert(t[n]+r[n]<=e.shape[n],function(){return"Error in slice".concat(a,"D: begin[").concat(n,"] + size[").concat(n,"] ")+"(".concat(t[n]+r[n],") would overflow input.shape[").concat(n,"] (").concat(e.shape[n],")")})},a=e.shape.length;o.assert(a===t.length,function(){return"Error in slice".concat(a,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(a,").")}),o.assert(a===r.length,function(){return"Error in slice".concat(a,"D: Length of size ").concat(r," must ")+"match the rank of the array (".concat(a,").")});for(var s=0;s<a;++s)n(s)}function c(e){for(var t=[],r=0;e>0;)1&e&&t.push(r),e/=2,r++;return t}function u(e,t,r){for(var n=[],a=0;a<e.length;a++)n[a]=Math.ceil((t[a]-e[a])/r[a]);return n}function l(e,t,r,n){for(var a=(0,s._)(e),o=a.length;o<n.length;o++)a.push(1);for(var i=0;i<r;i++)0===i?a[t]=1:(a.splice(t,0,1),a.pop());return a}function p(e,t){for(var r=[],n=0;n<e;n++)r.push(t+n);return r}function f(e,t,r,n,a,s,o,i,c){var u=e.length,p=Array(u),f=Array(u),_=Array(u);if(t.length&&r>0){var x=t[0],y=r+1;p=d(o,x,y,n,e),f=h(i,x,y,a,e),_=l(s,x,y,e)}else for(var b=0;b<u;b++)p[b]=g(o,n,s,e,b,c),f[b]=v(i,a,s,e,b,c),_[b]=m(s,b,c);return{begin:p,end:f,strides:_}}function d(e,t,r,n,a){for(var o=(0,s._)(a),i=p(r,t),c=0;c<o.length;c++)if(i.indexOf(c)>-1)o[c]=0;else{var u,l,f,d=(u=t,l=r,(f=c)<=u?f:f-(l-1)),h=n[d];e&1<<d&&(h=0),o[c]=h}return o}function h(e,t,r,n,a){for(var i=(0,s._)(a),c=p(r,t),u=0;u<i.length;u++)if(c.indexOf(u)>-1)i[u]=Number.MAX_SAFE_INTEGER;else{var l,f,d,h=(l=t,f=r,(d=u)<=l?d:d-(f-1)),m=n[h];e&1<<h&&(m=Number.MAX_SAFE_INTEGER),i[u]=m}for(var g=0;g<i.length;g++){var v=a[g];i[g]<0&&(i[g]+=v),i[g]=o.clamp(0,i[g],a[g])}return i}function m(e,t,r){var n=e[t];return(r&1<<t||null==n)&&(n=1),n}function g(e,t,r,n,a,s){var i=t[a],c=r[a]||1;(e&1<<a||s&1<<a||null==i)&&(i=c>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var u=n[a];return i<0&&(i+=u),i=o.clamp(0,i,u-1)}function v(e,t,r,n,a,s){var i=t[a],c=r[a]||1;(e&1<<a||s&1<<a||null==i)&&(i=c>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var u=n[a];return i<0&&(i+=u),i=c>0?o.clamp(0,i,u):o.clamp(-1,i,u-1)}function _(e,t,r){for(var n=r.length,a=0;a<r.length;a++)if(r[a]>1){n=a;break}for(var s=n+1;s<r.length;s++)if(t[s]>0||r[s]!==e[s])return!1;return!0}function x(e,t){for(var r=e.length>0?e[e.length-1]:1,n=0;n<e.length-1;n++)r+=e[n]*t[n];return r}function y(e,t,r){var n,a,i=e.shape.length;return(n="number"==typeof t?[t].concat((0,s._)(Array(i-1).fill(0))):t.length<i?t.concat(Array(i-t.length).fill(0)):t.slice()).forEach(function(e){o.assert(-1!==e,function(){return"slice() does not support negative begin indexing."})}),a=(a=null==r?Array(i).fill(-1):"number"==typeof r?[r].concat((0,s._)(Array(i-1).fill(-1))):r.length<i?r.concat(Array(i-r.length).fill(-1)):r).map(function(t,r){return t>=0?t:(o.assert(-1===t,function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(r,".")}),e.shape[r]-n[r])}),[n,a]}function b(e,t,r,n,a,s,o,i,c){if(null==n?(u=Array(t.length)).fill(1):u=n,null!=o&&(o&o-1)!=0)throw Error("Multiple ellipses in slice is not allowed.");for(var u,l=!1,p={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:r.slice(),strides:u.slice(),beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:c},f=0;f<p.dims;f++)l&&(1<<f&i)!=0&&p.numAddAxisAfterEllipsis++,1<<f&o&&(l=!0);!l&&(p.ellipsisMask|=1<<p.dims,p.dims++);var d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1},h=p,m=d;m.beginMask=0,m.endMask=0,m.shrinkAxisMask=0;var g=0;m.beginValid=null!=h.begin,m.endValid=null!=h.end,m.begin=Array(m.dims),m.end=Array(m.dims),m.strides=Array(m.dims),m.finalShapeGatherIndices=[],m.finalShapeGatherIndicesSparse=[],m.inputShapeGatherIndicesSparse=Array(m.dims);for(var v=0;v<h.dims;v++)if(1<<v&h.ellipsisMask)for(var _=Math.min(m.dims-(h.dims-v)+1+h.numAddAxisAfterEllipsis,m.dims);g<_;g++)m.begin[g]=0,m.end[g]=0,m.strides[g]=1,m.beginMask|=1<<g,m.endMask|=1<<g,m.finalShapeGatherIndices.push(g),m.finalShapeGatherIndicesSparse.push(-1),m.inputShapeGatherIndicesSparse[g]=v;else if(1<<v&h.newAxisMask)m.finalShapeGatherIndices.push(-2),m.finalShapeGatherIndicesSparse.push(-1);else{if(g===m.begin.length)throw Error("Index out of range using input dim ".concat(g,"; input ")+"has only ".concat(m.dims," dims, ").concat(m.begin.length,"."));null!=h.begin&&(m.begin[g]=h.begin[v]),null!=h.end&&(m.end[g]=h.end[v]),m.strides[g]=h.strides[v],h.beginMask&1<<v&&(m.beginMask|=1<<g),h.endMask&1<<v&&(m.endMask|=1<<g),h.shrinkAxisMask&1<<v?(m.finalShapeGatherIndices.push(-1),m.finalShapeGatherIndicesSparse.push(-1),m.shrinkAxisMask|=1<<g):(m.finalShapeGatherIndices.push(g),m.finalShapeGatherIndicesSparse.push(v)),m.inputShapeGatherIndicesSparse[g]=v,g++}for(var x=!0,y=!0,b=!0,j=[],w=[],I=0;I<e.length;++I){if(0===d.strides[I])throw Error("strides[".concat(I,"] must be non-zero"));var T=!!(d.shrinkAxisMask&1<<I),S=e[I];if(-1===S){j.push(T?1:-1);continue}var N=[d.beginMask&1<<I,d.endMask&1<<I],M=[d.strides[I]>0?0:-1,d.strides[I]>0?S:S-1];if(T&&d.strides[I]<=0)throw Error("only stride 1 allowed on non-range indexing.");b=b&&1===d.strides[I];var C=!!(d.beginMask&1<<I&&d.endMask&1<<I);if(d.beginValid&&d.endValid){if(T){var E=d.begin[I]<0?S+d.begin[I]:d.begin[I];if(d.begin[I]=E,d.end[I]=d.begin[I]+1,E<0||E>=S)throw Error("slice index ".concat(d.begin[I]," of dimension ").concat(I," out of bounds."))}else d.begin[I]=k(d.begin[I],0,d.strides[I],S,N,M),d.end[I]=k(d.end[I],1,d.strides[I],S,N,M);var F=1===d.strides[I]&&0===d.begin[I]&&d.end[I]===S;x=x&&F,y=y&&(0===I&&1===d.strides[I]||F)}else x=x&&1===d.strides[I]&&C,y=y&&(0===I&&1===d.strides[I]||C);var A=void 0,R=!1;if(d.beginValid&&d.endValid?(A=d.end[I]-d.begin[I],R=!0):T?(A=1,R=!0):C&&S>=0&&(A=d.strides[I]<0?-S:S,R=!0),R){var P=void 0;P=0===A||A<0!=d.strides[I]<0?0:Math.trunc(A/d.strides[I])+ +(A%d.strides[I]!=0),j.push(P)}else j.push(-1)}for(var O=0;O<d.finalShapeGatherIndices.length;++O){var D=d.finalShapeGatherIndices[O];D>=0?w.push(j[D]):-2===D&&w.push(1)}return{finalShapeSparse:w.filter(function(e,t){return -2!==d.finalShapeGatherIndices[t]}),finalShape:w,isIdentity:x,sliceDim0:y,isSimpleSlice:b,begin:d.begin,end:d.end,strides:d.strides}}function k(e,t,r,n,a,s){if(a[t])return r>0?s[t]:s[t+1&1];var o=e<0?n+e:e;return o<s[0]?s[0]:o>s[1]?s[1]:o}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],k3r1s:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version",function(){return s});var s="4.22.0"},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"473Ua":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"OptimizerConstructors",function(){return h});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("./adadelta_optimizer"),c=e("./adagrad_optimizer"),u=e("./adam_optimizer"),l=e("./adamax_optimizer"),p=e("./momentum_optimizer"),f=e("./rmsprop_optimizer"),d=e("./sgd_optimizer"),h=function(){"use strict";function e(){(0,s._)(this,e)}return(0,o._)(e,null,[{key:"sgd",value:function(e){return new(0,d.SGDOptimizer)(e)}},{key:"momentum",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new(0,p.MomentumOptimizer)(e,t,r)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new(0,f.RMSPropOptimizer)(e,t,r,n,a)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new(0,u.AdamOptimizer)(e,t,r,n)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new(0,i.AdadeltaOptimizer)(e,t,r)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new(0,l.AdamaxOptimizer)(e,t,r,n,a)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new(0,c.AdagradOptimizer)(e,t)}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","./adadelta_optimizer":"7Ya92","./adagrad_optimizer":"iGzsb","./adam_optimizer":"lMDRN","./adamax_optimizer":"ekxAk","./momentum_optimizer":"9rvcq","./rmsprop_optimizer":"aQjvk","./sgd_optimizer":"3tB4a","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6PP1c":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"train",function(){return s});var s=e("./optimizers/optimizer_constructors").OptimizerConstructors},{"./optimizers/optimizer_constructors":"473Ua","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fLMal:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nextFrame",function(){return o});var s="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:function(e){return e()};function o(){return new Promise(function(e){return s(function(){return e()})})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dNsFD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"upcastType",function(){return m.upcastType}),a.export(r,"slice_util",function(){return h}),a.export(r,"segment_util",function(){return M}),a.export(r,"fromUint8ToStringArray",function(){return C}),a.export(r,"fromStringArrayToUint8",function(){return E});var s=e("../util"),o=e("../ops/axis_util");a.exportAll(o,r);var i=e("../ops/broadcast_util");a.exportAll(i,r);var c=e("../ops/concat_util");a.exportAll(c,r);var u=e("../ops/conv_util");a.exportAll(u,r);var l=e("../ops/fused_util");a.exportAll(l,r);var p=e("../ops/fused_types");a.exportAll(p,r);var f=e("../ops/ragged_to_dense_util");a.exportAll(f,r);var d=e("../ops/reduce_util");a.exportAll(d,r);var h=e("../ops/slice_util"),m=e("../types"),g=e("../ops/rotate_util");a.exportAll(g,r);var v=e("../ops/array_ops_util");a.exportAll(v,r);var _=e("../ops/gather_nd_util");a.exportAll(_,r);var x=e("../ops/scatter_nd_util");a.exportAll(x,r);var y=e("../ops/selu_util");a.exportAll(y,r),a.exportAll(l,r);var b=e("../ops/erf_util");a.exportAll(b,r);var k=e("../log");a.exportAll(k,r);var j=e("../backends/complex_util");a.exportAll(j,r);var w=e("../backends/einsum_util");a.exportAll(w,r);var I=e("../ops/split_util");a.exportAll(I,r);var T=e("../ops/sparse/sparse_fill_empty_rows_util");a.exportAll(T,r);var S=e("../ops/sparse/sparse_reshape_util");a.exportAll(S,r);var N=e("../ops/sparse/sparse_segment_reduction_util");a.exportAll(N,r);var M=e("../ops/segment_util");function C(e){try{return e.map(function(e){return(0,s.decodeString)(e)})}catch(e){throw Error("Failed to decode encoded string bytes into utf-8, error: ".concat(e))}}function E(e){return e.map(function(e){return(0,s.encodeString)(e)})}},{"../util":"pzc9n","../ops/axis_util":"hUfIQ","../ops/broadcast_util":"d00Jz","../ops/concat_util":"f3geQ","../ops/conv_util":"EtnDJ","../ops/fused_util":"d7YJO","../ops/fused_types":"7JKdi","../ops/ragged_to_dense_util":"kCtJj","../ops/reduce_util":"jizCY","../ops/slice_util":"9JvGP","../types":"liYbZ","../ops/rotate_util":"ergf0","../ops/array_ops_util":"i42vK","../ops/gather_nd_util":"axJmI","../ops/scatter_nd_util":"dXk24","../ops/selu_util":"94UCM","../ops/erf_util":"hQsgG","../log":"jn8iP","../backends/complex_util":"498Qb","../backends/einsum_util":"aBGQr","../ops/split_util":"ccVpD","../ops/sparse/sparse_fill_empty_rows_util":"NzWC0","../ops/sparse/sparse_reshape_util":"d8UCK","../ops/sparse/sparse_segment_reduction_util":"l9foP","../ops/segment_util":"fD4UR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],f3geQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"assertParamsConsistent",function(){return o}),a.export(r,"computeOutShape",function(){return i});var s=e("../util");function o(e,t){var r=e[0].length;e.forEach(function(e,t){s.assert(e.length===r,function(){return"Error in concat".concat(r,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(r,")")})}),s.assert(t>=0&&t<r,function(){return"Error in concat".concat(r,"D: axis must be between 0 and ").concat(r-1,".")});var n=e[0];e.forEach(function(e,a){for(var o=0;o<r;o++)s.assert(o===t||e[o]===n[o],function(){return"Error in concat".concat(r,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(n,") ")+"along the non-concatenated axis ".concat(a,".")})})}function i(e,t){for(var r=e[0].slice(),n=1;n<e.length;n++)r[t]+=e[n][t];return r}},{"../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7JKdi":[function(e,t,r,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kCtJj:[function(e,t,r,n){var a,s,o=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t,r){var n=[];if(null==r&&null==t)return n;if(null==t)for(;n.length<e+r.length;)n.push(-1);else n=t.slice();if(null==r)return n;if(e+r.length!==n.length)throw Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+r.length,", but shape.rank = ").concat(n.length));for(var a=1;a<r.length;++a){var s=r[a],o=n[n.length-r.length+a],i=n[o];if(s>=0)if(i>=0){if(i!==s)throw Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(a+e,"] = ").concat(s," but shape[").concat(a+e,"] = ").concat(i))}else n[o]=s}return n}function c(e){var t={FIRST_DIM_SIZE:s.FIRST_DIM_SIZE,VALUE_ROWIDS:s.VALUE_ROWIDS,ROW_LENGTHS:s.ROW_LENGTHS,ROW_SPLITS:s.ROW_SPLITS,ROW_LIMITS:s.ROW_LIMITS,ROW_STARTS:s.ROW_STARTS},r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value;if(u in t)r.push(t[u]);else break}}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}function u(e){return 0===e.length?0:e[0]===s.FIRST_DIM_SIZE?e.length-1:e.length}function l(e,t){if(null!=e&&null!=t){var r=e.length,n=t.length;if(r>=n)throw Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(r," must be less than ragged tensor input flatValues.rank = ").concat(n,")"));for(var a=0;a<Math.min(r,n-1);++a){var s=e[a],o=t[a+1];if(s>=0&&o>=0&&1!==s&&s!==o)throw Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(a-e.length,"] = ").concat(s," but ragged tensor input.flatValues.shape[").concat(a-e.length,"] = ").concat(o))}}}o.defineInteropFlag(r),o.export(r,"RowPartitionType",function(){return s}),o.export(r,"combineRaggedTensorToTensorShapes",function(){return i}),o.export(r,"getRowPartitionTypesHelper",function(){return c}),o.export(r,"getRaggedRank",function(){return u}),o.export(r,"validateDefaultValueShape",function(){return l}),(a=s||(s={}))[a.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",a[a.VALUE_ROWIDS=1]="VALUE_ROWIDS",a[a.ROW_LENGTHS=2]="ROW_LENGTHS",a[a.ROW_SPLITS=3]="ROW_SPLITS",a[a.ROW_LIMITS=4]="ROW_LIMITS",a[a.ROW_STARTS=5]="ROW_STARTS"},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jizCY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PARALLELIZE_THRESHOLD",function(){return o}),a.export(r,"computeOptimalWindowSize",function(){return i});var s=e("../util"),o=30;function i(e){return e<=o?e:(0,s.nearestDivisor)(e,Math.floor(Math.sqrt(e)))}},{"../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ergf0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t,r){return[r*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}a.defineInteropFlag(r),a.export(r,"getImageCenter",function(){return s})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],i42vK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getReshaped",function(){return o}),a.export(r,"getPermuted",function(){return i}),a.export(r,"getReshapedPermuted",function(){return c}),a.export(r,"getSliceBeginCoords",function(){return u}),a.export(r,"getSliceSize",function(){return l});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs");function o(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],a=[];if(n)(a=a.concat(t.slice(0))).push(e[0]/r),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var s=t.length,o=0;o<s;++o)a=a.concat([e[o+1]/t[o],t[o]]);a=a.concat(e.slice(s+1))}return a}function i(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=[];if(r){n.push(t);for(var a=t+1;a<e;++a)a<=2*t?(n.push(a),n.push(a-(t+1))):n.push(a)}else{for(var o=[],i=[],c=1;c<e;++c)c>=2*t+1||c%2==1?i.push(c):o.push(c);n.push.apply(n,(0,s._)(o)),n.push(0),n.push.apply(n,(0,s._)(i))}return n}function c(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],a=[];n?a.push(e[0]/r):a.push(e[0]*r);for(var s=1;s<e.length;++s)s<=t.length?n?a.push(t[s-1]*e[s]):a.push(e[s]/t[s-1]):a.push(e[s]);return a}function u(e,t){for(var r=[0],n=0;n<t;++n)r.push(e[n][0]);return r}function l(e,t,r){for(var n=e.slice(0,1),a=0;a<r;++a)n.push(e[a+1]-t[a][0]-t[a][1]);return n}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"94UCM":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SELU_SCALEALPHA",function(){return s}),a.export(r,"SELU_SCALE",function(){return o});var s=1.7580993408473768,o=1.0507009873554805},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hQsgG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ERF_P",function(){return s}),a.export(r,"ERF_A1",function(){return o}),a.export(r,"ERF_A2",function(){return i}),a.export(r,"ERF_A3",function(){return c}),a.export(r,"ERF_A4",function(){return u}),a.export(r,"ERF_A5",function(){return l});var s=.3275911,o=.254829592,i=-.284496736,c=1.421413741,u=-1.453152027,l=1.061405429},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"498Qb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(e.length!==t.length)throw Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var r=new Float32Array(2*e.length),n=0;n<r.length;n+=2)r[n]=e[n/2],r[n+1]=t[n/2];return r}function o(e){for(var t=new Float32Array(e.length/2),r=new Float32Array(e.length/2),n=0;n<e.length;n+=2)t[n/2]=e[n],r[n/2]=e[n+1];return{real:t,imag:r}}function i(e){for(var t=Math.ceil(e.length/4),r=new Float32Array(t),n=new Float32Array(t),a=0;a<e.length;a+=4)r[Math.floor(a/4)]=e[a],n[Math.floor(a/4)]=e[a+1];return{real:r,imag:n}}function c(e){for(var t=Math.floor(e.length/4),r=new Float32Array(t),n=new Float32Array(t),a=2;a<e.length;a+=4)r[Math.floor(a/4)]=e[a],n[Math.floor(a/4)]=e[a+1];return{real:r,imag:n}}function u(e,t){return{real:e[2*t],imag:e[2*t+1]}}function l(e,t,r,n){e[2*n]=t,e[2*n+1]=r}function p(e,t){for(var r=new Float32Array(e/2),n=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var s=(t?2:-2)*Math.PI*(a/e);r[a]=Math.cos(s),n[a]=Math.sin(s)}return{real:r,imag:n}}function f(e,t,r){var n=(r?2:-2)*Math.PI*(e/t);return{real:Math.cos(n),imag:Math.sin(n)}}a.defineInteropFlag(r),a.export(r,"mergeRealAndImagArrays",function(){return s}),a.export(r,"splitRealAndImagArrays",function(){return o}),a.export(r,"complexWithEvenIndex",function(){return i}),a.export(r,"complexWithOddIndex",function(){return c}),a.export(r,"getComplexWithIndex",function(){return u}),a.export(r,"assignToTypedArray",function(){return l}),a.export(r,"exponents",function(){return p}),a.export(r,"exponent",function(){return f})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aBGQr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"decodeEinsumEquation",function(){return c}),a.export(r,"getEinsumPermutation",function(){return u}),a.export(r,"checkEinsumDimSizes",function(){return l}),a.export(r,"getEinsumComputePath",function(){return p}),a.export(r,"isIdentityPermutation",function(){return f});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("../util_base"),i=/->/g;function c(e,t){var r=((e=e.replace(/\s/g,"")).length-e.replace(i,"").length)/2;if(r<1)throw Error("Equations without an arrow are not supported.");if(r>1)throw Error('Equation must contain exactly one arrow ("'.concat("->",'").'));var n=(0,s._)(e.split("->"),2),a=n[0],c=n[1];(0,o.assert)(-1===a.indexOf("..."),function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')});var u=a.split(","),l=u.length;if(t!==l)throw Error("Expected ".concat(l," input tensors, received ").concat(t));if(l>2)throw Error("Support for more than 2 input tensors is not implemented yet.");for(var p=[],f=0;f<c.length;++f)!function(e){var t=c[e];if(!u.some(function(e){return -1!==e.indexOf(t)}))throw Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===p.indexOf(t)&&p.push(t)}(f);for(var d=0;d<a.length;++d){var h=a[d];-1===p.indexOf(h)&&","!==h&&p.push(h)}for(var m=Array(u.length),g=0;g<l;++g){if(new Set(u[g].split("")).size!==u[g].length)throw Error("Found duplicate axes in input component ".concat(u[g],". ")+"Support for duplicate axes in input is not implemented yet.");m[g]=[];for(var v=0;v<u[g].length;++v)m[g].push(p.indexOf(u[g][v]))}for(var _=p.length,x=c.length,y=[],b=x;b<_;++b)y.push(b);return{allDims:p,summedDims:y,idDims:m}}function u(e,t){var r=Array(e);r.fill(-1);for(var n=0;n<t.length;++n)r[t[n]]=n;for(var a=[],s=0;s<e;++s)-1===r[s]&&a.push(s);return{permutationIndices:r=r.filter(function(e){return -1!==e}),expandDims:a}}function l(e,t,r){for(var n=function(e){for(var n=function(r){void 0===a[t[e][r]]?a[t[e][r]]=s[r]:(0,o.assert)(a[t[e][r]]===s[r],function(){return"Expected dimension ".concat(a[t[e][r]]," at axis ").concat(r," ")+"of input shaped ".concat(JSON.stringify(s),", ")+"but got dimension ".concat(s[r])})},s=r[e].shape,i=0;i<t[e].length;++i)n(i)},a=Array(e),s=0;s<r.length;++s)n(s)}function p(e,t){var r=[],n=0;0===e.length&&e.push(-1),n=e.length+1;for(var a=0;a<n;++a)r.push([]);for(var s=[],o=0;o<e.length;++o){var i=function(e,t){for(var r=[],n=0;n<e.length;++n)(0===e[n].length||-1!==e[n].indexOf(t)||-1===t)&&r.push(n);return r}(t,e[o]),c=!0,u=!1,l=void 0;try{for(var p,f=i[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var d=p.value;-1===s.indexOf(d)&&(r[o].push(d),s.push(d))}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}return{path:e,steps:r}}function f(e){return e.every(function(e,t){return e===t})}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../util_base":"3jQov","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ccVpD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prepareSplitSize",function(){return o});var s=e("../util");function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[];if("number"==typeof t)(0,s.assert)(e.shape[r]%t==0,function(){return"Number of splits must evenly divide the axis."}),n=Array(t).fill(e.shape[r]/t);else{var a=t.reduce(function(e,t){return -1===t&&(e+=1),e},0);(0,s.assert)(a<=1,function(){return"There should be only one negative value in split array."});var o=t.indexOf(-1);if(-1!==o){var i=t.reduce(function(e,t){return t>0?e+t:e});t[o]=e.shape[r]-i}(0,s.assert)(e.shape[r]===t.reduce(function(e,t){return e+t}),function(){return"The sum of sizes must match the size of the axis dimension."}),n=t}return n}},{"../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],NzWC0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return"Received SparseTensor with denseShape[0] = 0 but\n indices.shape[0] = ".concat(e)}function o(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t,"< 0")}function i(e,t,r){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(r)}a.defineInteropFlag(r),a.export(r,"getSparseFillEmptyRowsIndicesDenseShapeMismatch",function(){return s}),a.export(r,"getSparseFillEmptyRowsNegativeIndexErrorMessage",function(){return o}),a.export(r,"getSparseFillEmptyRowsOutOfRangeIndexErrorMessage",function(){return i})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],d8UCK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getSparseReshapeMultipleNegativeOneOutputDimErrorMessage",function(){return o}),a.export(r,"getSparseReshapeNegativeOutputDimErrorMessage",function(){return i}),a.export(r,"getSparseReshapeEmptyTensorZeroOutputDimErrorMessage",function(){return c}),a.export(r,"getSparseReshapeInputOutputMultipleErrorMessage",function(){return u}),a.export(r,"getSparseReshapeInputOutputMismatchErrorMessage",function(){return l});var s=e("../../util");function o(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function i(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function c(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function u(e,t){var r=(0,s.sizeFromShape)(e),n=(0,s.sizeFromShape)(t);return"Input to reshape is a SparseTensor with ".concat(r,"\n dense values, but the requested shape requires a multiple of ").concat(n,". inputShape=").concat(e," outputShape= ").concat(t)}function l(e,t){var r=(0,s.sizeFromShape)(e),n=(0,s.sizeFromShape)(t);return"Input to reshape is a tensor with ".concat(r," dense values, but the requested shape has ").concat(n,". inputShape=").concat(e," outputShape=").concat(t)}},{"../../util":"pzc9n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],l9foP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(){return"segment ids must be >= 0"}function o(){return"segment ids are not increasing"}function i(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function c(e,t,r){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(r,")")}a.defineInteropFlag(r),a.export(r,"getSparseSegmentReductionNegativeSegmentIdsErrorMessage",function(){return s}),a.export(r,"getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage",function(){return o}),a.export(r,"getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage",function(){return i}),a.export(r,"getSparseSegmentReductionIndicesOutOfRangeErrorMessage",function(){return c})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fD4UR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"segOpComputeOptimalWindowSize",function(){return i}),a.export(r,"computeOutShape",function(){return c}),a.export(r,"collectGatherOpShapeInfo",function(){return u});var s=e("../util"),o=e("./reduce_util");function i(e,t){var r,n=!1;for(e<=o.PARALLELIZE_THRESHOLD?(r=e,n=!0):r=(0,s.nearestDivisor)(e,Math.floor(Math.sqrt(e)));!n;)r>t||r===e?n=!0:r=(0,s.nearestDivisor)(e,r+1);return r}function c(e,t,r){for(var n=[],a=e.length,s=0;s<a;s++)s!==t?n.push(e[s]):n.push(r);return n}function u(e,t,r,n){var a=t.shape.length,s=e.shape.length;if(0!==n&&(n<-a||n>a))throw Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(n));if(n<0&&(n+=a),n>s)throw Error("batchDims (".concat(n,") must be less than rank(x) (\n ").concat(s,")."));if(r<n)throw Error("batchDims (".concat(n,") must be less than or equal to axis (").concat(r,")."));for(var o=0;o<n;++o)if(e.shape[o]!==t.shape[o])throw Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var i=e.shape[r],c=[],u=1,l=1,p=1,f=0;f<n;++f)c.push(e.shape[f]),u*=e.shape[f];for(var d=n;d<r;d++)c.push(e.shape[d]),l*=e.shape[d];for(var h=n;h<a;h++)c.push(t.shape[h]);for(var m=r+1;m<s;m++)c.push(e.shape[m]),p*=e.shape[m];return{batchSize:u,sliceSize:p,outerSize:l,dimSize:i,outputShape:c}}},{"../util":"pzc9n","./reduce_util":"jizCY","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"16YrG":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV3Impl",function(){return s.nonMaxSuppressionV3Impl}),a.export(r,"nonMaxSuppressionV4Impl",function(){return s.nonMaxSuppressionV4Impl}),a.export(r,"nonMaxSuppressionV5Impl",function(){return s.nonMaxSuppressionV5Impl}),a.export(r,"whereImpl",function(){return o.whereImpl});var s=e("./non_max_suppression_impl"),o=e("./where_impl")},{"./non_max_suppression_impl":"gWbxk","./where_impl":"weE3b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],l959W:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GraphModel",function(){return s.GraphModel}),a.export(r,"loadGraphModel",function(){return s.loadGraphModel}),a.export(r,"loadGraphModelSync",function(){return s.loadGraphModelSync}),a.export(r,"deregisterOp",function(){return o.deregisterOp}),a.export(r,"registerOp",function(){return o.registerOp}),a.export(r,"version_converter",function(){return i.version}),e("./flags");var s=e("./executor/graph_model"),o=e("./operations/custom_op/register"),i=e("./version")},{"./flags":"bcPhy","./executor/graph_model":"9mzMm","./operations/custom_op/register":"dO4ig","./version":"5CLf8","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bcPhy:[function(e,t,r,n){(0,e("@tensorflow/tfjs-core").env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",function(){return!1},function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})},{"@tensorflow/tfjs-core":"aOH7b"}],"9mzMm":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TFHUB_SEARCH_PARAM",function(){return m}),a.export(r,"DEFAULT_MODEL_NAME",function(){return g}),a.export(r,"GraphModel",function(){return v}),a.export(r,"loadGraphModel",function(){return _}),a.export(r,"loadGraphModelSync",function(){return x});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs"),l=e("@tensorflow/tfjs-core"),p=e("../operations/operation_mapper"),f=e("./graph_executor"),d=e("./resource_manager"),h=e("@tensorflow/tfjs-core/dist/io/io_utils"),m="?tfjs-format=file",g="model.json",v=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.io;(0,o._)(this,e),this.modelUrl=t,this.loadOptions=r,this.version="n/a",this.io=n,null==r&&(this.loadOptions={}),this.resourceManager=new(0,d.ResourceManager)}return(0,i._)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"modelStructuredOutputKeys",get:function(){return this.structuredOutputKeys}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{var t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return l.util.isPromise(t)?t.then(function(t){return null==t.getWeightStream?e.loadSync(t):e.loadStreaming(t)}):this.loadSync(t)}},{key:"loadSync",value:function(e){var t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}},{key:"loadStreaming",value:function(e){return(0,s._)(function(){var t;return(0,u._)(this,function(r){switch(r.label){case 0:if(null==e.getWeightStream)throw Error("Model artifacts missing streamWeights function");return[4,(0,h.decodeWeightsStream)(e.getWeightStream(),e.weightSpecs)];case 1:return t=r.sent(),[2,this.loadWithWeightMap(e,t)]}})}).call(this)}},{key:"loadWithWeightMap",value:function(e,t){this.artifacts=e;var r=this.artifacts.modelTopology,n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){var a=this.artifacts.userDefinedMetadata;null!=a.signature&&(n=a.signature),null!=a.structuredOutputKeys&&(this.structuredOutputKeys=a.structuredOutputKeys)}if(this.signature=n,this.version="".concat(r.versions.producer,".").concat(r.versions.minConsumer),this.executor=new(0,f.GraphExecutor)(p.OperationMapper.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var s=p.OperationMapper.Instance.transformGraph(e.modelInitializer);this.initializer=new(0,f.GraphExecutor)(s),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}},{key:"save",value:function(e,t){return(0,s._)(function(){var t;return(0,u._)(this,function(r){if("string"==typeof e){if(0===(t=this.io.getSaveHandlers(e)).length)throw Error("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw Error("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[2,e.save(this.artifacts)]})}).call(this)}},{key:"addStructuredOutputNames",value:function(e){var t=this;if(this.structuredOutputKeys){var r=e instanceof l.Tensor?[e]:e,n={};return r.forEach(function(e,r){return n[t.structuredOutputKeys[r]]=e}),n}return e}},{key:"predict",value:function(e,t){var r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}},{key:"predictAsync",value:function(e,t){return(0,s._)(function(){var t;return(0,u._)(this,function(r){switch(r.label){case 0:return[4,this.executeAsync(e,this.outputNodes)];case 1:return t=r.sent(),[2,this.addStructuredOutputNames(t)]}})}).call(this)}},{key:"normalizeInputs",value:function(e){var t,r=this;if(!(e instanceof l.Tensor)&&!Array.isArray(e)){var n=null==(t=this.signature)?void 0:t.inputs;if(null!=n)for(var a in n){var s=n[a];null!=s.resourceId&&(e[a]=this.resourceIdToCapturedInput[s.resourceId])}return e}e=Array.isArray(e)?e:[e];var o=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+o!==this.inputNodes.length)throw Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-o," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));var i=0;return this.inputNodes.reduce(function(t,n){var a,s,o,c=null==(o=null==(s=null==(a=r.signature)?void 0:a.inputs)?void 0:s[n])?void 0:o.resourceId;return null!=c?t[n]=r.resourceIdToCapturedInput[c]:t[n]=e[i++],t},{})}},{key:"normalizeOutputs",value:function(e){return Array.isArray(e=e||this.outputNodes)?e:[e]}},{key:"executeInitializerGraph",value:function(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}},{key:"executeInitializerGraphAsync",value:function(){return(0,s._)(function(){return(0,u._)(this,function(e){return null==this.initializer?[2,[]]:null==this.initializerSignature?[2,this.initializer.executeAsync({},[])]:[2,this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))]})}).call(this)}},{key:"setResourceIdToCapturedInput",value:function(e){if(this.resourceIdToCapturedInput={},this.initializerSignature)for(var t=this.initializerSignature.outputs,r=Object.keys(t),n=0;n<r.length;n++){var a=t[r[n]];this.resourceIdToCapturedInput[a.resourceId]=e[n]}}},{key:"execute",value:function(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var r=this.executor.execute(e,t);return r.length>1?r:r[0]}},{key:"executeAsync",value:function(e,t){return(0,s._)(function(){var r,n,a;return(0,u._)(this,function(s){switch(s.label){case 0:if(null!=this.resourceIdToCapturedInput)return[3,2];return n=(r=this).setResourceIdToCapturedInput,[4,this.executeInitializerGraphAsync()];case 1:n.apply(r,[s.sent()]),s.label=2;case 2:return e=this.normalizeInputs(e),t=this.normalizeOutputs(t),[4,this.executor.executeAsync(e,t)];case 3:return[2,(a=s.sent()).length>1?a:a[0]]}})}).call(this)}},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce(function(t,r){return t[r]=[e[r]],t},{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&(0,l.dispose)(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}]),e}();function _(e){return(0,s._)(function(e){var t,r,n,a=arguments;return(0,u._)(this,function(s){switch(s.label){case 0:var o;if(t=a.length>1&&void 0!==a[1]?a[1]:{},r=a.length>2&&void 0!==a[2]?a[2]:l.io,null==e)throw Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");return null==t&&(t={}),t.fromTFHub&&"string"==typeof e&&((o=e).endsWith("/")||(o+="/"),e="".concat(o).concat(g).concat(m)),[4,(n=new v(e,t,r)).load()];case 1:return s.sent(),[2,n]}})}).apply(this,arguments)}function x(e){if(null==e)throw Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");if(e instanceof Array){var t,r=(0,c._)(e,2),n=r[0],a=r[1];if(!n)throw Error("modelJSON must be the first element of the array");if(!a||!(a instanceof ArrayBuffer))throw Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in n))throw Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in n))throw Error("Model JSON is missing 'weightsManifest'");var s=l.io.getWeightSpecs(n.weightsManifest),o=l.io.getModelArtifactsForJSONSync(n,s,a);t=l.io.fromMemorySync(o)}else if("load"in e)t=e;else if("modelTopology"in e&&"weightSpecs"in e&&"weightData"in e)t=l.io.fromMemorySync(e);else throw Error("Unknown model format");var i=new v(t);return i.load(),i}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","@tensorflow/tfjs-core":"aOH7b","../operations/operation_mapper":"jpu5h","./graph_executor":"2Mruo","./resource_manager":"gfBLD","@tensorflow/tfjs-core/dist/io/io_utils":"4iN9Y","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jpu5h:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"OperationMapper",function(){return F}),a.export(r,"decodeBase64",function(){return A}),a.export(r,"parseStringParam",function(){return R}),a.export(r,"getStringParam",function(){return P}),a.export(r,"getBoolParam",function(){return O}),a.export(r,"getNumberParam",function(){return D}),a.export(r,"parseDtypeParam",function(){return B}),a.export(r,"getFuncParam",function(){return V}),a.export(r,"getDtypeParam",function(){return G}),a.export(r,"getDtypeArrayParam",function(){return L}),a.export(r,"parseTensorShapeParam",function(){return q}),a.export(r,"getTensorShapeParam",function(){return z}),a.export(r,"getNumericArrayParam",function(){return U}),a.export(r,"getStringArrayParam",function(){return H}),a.export(r,"getTensorShapeArrayParam",function(){return W}),a.export(r,"getBoolArrayParam",function(){return K});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_sliced_to_array.cjs"),c=e("@swc/helpers/cjs/_to_consumable_array.cjs"),u=e("@tensorflow/tfjs-core"),l=e("../data/compiled_api"),p=e("./custom_op/register"),f=e("./executors/utils"),d=e("./op_list/arithmetic"),h=e("./op_list/basic_math"),m=e("./op_list/control"),g=e("./op_list/convolution"),v=e("./op_list/creation"),_=e("./op_list/dynamic"),x=e("./op_list/evaluation"),y=e("./op_list/graph"),b=e("./op_list/hash_table"),k=e("./op_list/image"),j=e("./op_list/logical"),w=e("./op_list/matrices"),I=e("./op_list/normalization"),T=e("./op_list/reduction"),S=e("./op_list/slice_join"),N=e("./op_list/sparse"),M=e("./op_list/spectral"),C=e("./op_list/string"),E=e("./op_list/transformation"),F=function(){"use strict";function e(){(0,s._)(this,e);var t,r=(t=[]).concat.apply(t,(0,c._)([d,h,m,g,v,_,x,y,b,k,j,w,I,T,S,N,M,C,E].map(function(e){return e.json})));this.opMappers=r.reduce(function(e,t){return e[t.tfOpName]=t,e},{})}return(0,o._)(e,[{key:"transformGraph",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.node,a=[],s=[],o=[],c=n.reduce(function(e,r){return e[r.name]=t.mapNode(r),r.op.startsWith("Placeholder")?a.push(e[r.name]):"Const"===r.op?s.push(e[r.name]):(null==r.input||0===r.input.length)&&o.push(e[r.name]),e},{}),u=[],l=[],p={},d={};null!=r&&(p=this.mapSignatureEntries(r.inputs),d=this.mapSignatureEntries(r.outputs));var h=Object.keys(c);h.forEach(function(e){var t=c[e];t.inputNames.forEach(function(e,r){var n=(0,i._)((0,f.getNodeNameAndIndex)(e),3),a=n[0],s=n[2],o=c[a];if(null!=o.outputs){var u=o.outputs.indexOf(s);if(-1!==u){var l="".concat(a,":").concat(u);t.inputNames[r]=l}}t.inputs.push(o),o.children.push(t)})}),0===Object.keys(d).length?h.forEach(function(e){var t=c[e];0===t.children.length&&l.push(t)}):Object.keys(d).forEach(function(e){var t=c[(0,i._)((0,f.getNodeNameAndIndex)(e),1)[0]];null!=t&&(t.signatureKey=d[e],l.push(t))}),Object.keys(p).length>0?Object.keys(p).forEach(function(e){var t=c[(0,i._)((0,f.getNodeNameAndIndex)(e),1)[0]];t&&(t.signatureKey=p[e],u.push(t))}):u=a;var m={};null!=e.library&&null!=e.library.function&&(m=e.library.function.reduce(function(e,r){return e[r.signature.name]=t.mapFunction(r),e},{}));var g={nodes:c,inputs:u,outputs:l,weights:s,placeholders:a,signature:r,functions:m};return o.length>0&&(g.initNodes=o),g}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce(function(t,r){return t[e[r].name]=r,t},{})}},{key:"mapNode",value:function(e){var t=(0,p.getRegisteredOp)(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var r={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(function(e){return e.startsWith("^")?e.slice(1):e}),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(r.inputParams=t.inputs.reduce(function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e},{})),null!=t.attrs&&(r.attrParams=t.attrs.reduce(function(t,r){var n=r.type,a=void 0;switch(r.type){case"string":void 0===(a=P(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=P(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"string[]":void 0===(a=H(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=H(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"number":void 0===(a=D(e.attr,r.tfName,r.defaultValue||0))&&r.tfDeprecatedName&&(a=D(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"number[]":void 0===(a=U(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=U(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"bool":void 0===(a=O(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=O(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"bool[]":void 0===(a=K(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=K(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"shape":void 0===(a=z(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=z(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"shape[]":void 0===(a=W(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=W(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"dtype":void 0===(a=G(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=G(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"dtype[]":void 0===(a=L(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=L(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"func":void 0===(a=V(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=V(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"tensor":case"tensors":break;default:throw Error("Unsupported param type: ".concat(r.type," for op: ").concat(e.op))}return t[r.name]={value:a,type:n},t},{})),r}},{key:"mapFunction",value:function(e){var t=this,r=e.nodeDef,n=[],a={};null!=r&&(a=r.reduce(function(e,r){return e[r.name]=t.mapNode(r),"Const"===r.op&&n.push(e[r.name]),e},{}));var s=[],o=[];e.signature.inputArg.forEach(function(e){var t=(0,i._)((0,f.getNodeNameAndIndex)(e.name),1)[0],r={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:B(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,s.push(r),a[t]=r}),Object.keys(a).forEach(function(e){var t=a[e];t.inputNames.forEach(function(e,r){var n=(0,i._)((0,f.getNodeNameAndIndex)(e),3),s=n[0],o=n[2],c=a[s];if(null!=c.outputs){var u=c.outputs.indexOf(o);if(-1!==u){var l="".concat(s,":").concat(u);t.inputNames[r]=l}}t.inputs.push(c),c.children.push(t)})});var c=e.ret;e.signature.outputArg.forEach(function(e){var t=(0,i._)((0,f.getNodeNameAndIndex)(c[e.name]),2),r=t[0],n=t[1],s=a[r];null!=s&&(s.defaultOutput=n,o.push(s))});var u=this.mapArgsToSignature(e);return{nodes:a,inputs:s,outputs:o,weights:n,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(function(e,r){return e[r.name]=t.mapArgToTensorInfo(r),e},{}),outputs:e.signature.outputArg.reduce(function(r,n){return r[n.name]=t.mapArgToTensorInfo(n,e.ret),r},{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var r=e.name;return null!=t&&(r=t[r]),{name:r,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function A(e){var t=(0,u.env)().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function R(e,t){var r=Array.isArray(e)?String.fromCharCode.apply(null,e):A(e);return t?r:r.toLowerCase()}function P(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?R(a.s,n):r}function O(e,t,r){var n=e[t];return n?n.b:r}function D(e,t,r){var n=e[t]||{},a=null!=n.i?n.i:null!=n.f?n.f:r;return"number"==typeof a?a:parseInt(a,10)}function B(e){switch("string"==typeof e&&(e=l.DataType[e]),e){case l.DataType.DT_FLOAT:case l.DataType.DT_HALF:return"float32";case l.DataType.DT_INT32:case l.DataType.DT_INT64:case l.DataType.DT_INT8:case l.DataType.DT_UINT8:return"int32";case l.DataType.DT_BOOL:return"bool";case l.DataType.DT_DOUBLE:return"float32";case l.DataType.DT_STRING:return"string";case l.DataType.DT_COMPLEX64:case l.DataType.DT_COMPLEX128:return"complex64";default:return null}}function V(e,t,r){var n=e[t];return n&&n.func?n.func.name:r}function G(e,t,r){var n=e[t];return n&&n.type?B(n.type):r}function L(e,t,r){var n=e[t];return n&&n.list&&n.list.type?n.list.type.map(function(e){return B(e)}):r}function q(e){if(!e.unknownRank)return null!=e.dim?e.dim.map(function(e){return"number"==typeof e.size?e.size:parseInt(e.size,10)}):[]}function z(e,t,r){var n=e[t];return n&&n.shape?q(n.shape):r}function U(e,t,r){var n=e[t];return n?((n.list.f&&n.list.f.length?n.list.f:n.list.i)||[]).map(function(e){return"number"==typeof e?e:parseInt(e,10)}):r}function H(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map(function(e){return R(e,n)}):r}function W(e,t,r){var n=e[t];return n&&n.list&&n.list.shape?n.list.shape.map(function(e){return q(e)}):r}function K(e,t,r){var n=e[t];return n&&n.list&&n.list.b?n.list.b:r}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","../data/compiled_api":"8MfYc","./custom_op/register":"dO4ig","./executors/utils":"iVfKK","./op_list/arithmetic":"hJ5Df","./op_list/basic_math":"lAaqt","./op_list/control":"g166v","./op_list/convolution":"b7YpX","./op_list/creation":"4aEo6","./op_list/dynamic":"gP7ge","./op_list/evaluation":"4bmec","./op_list/graph":"aeDoj","./op_list/hash_table":"jgvjJ","./op_list/image":"7RHdc","./op_list/logical":"iNU3x","./op_list/matrices":"heE0X","./op_list/normalization":"biO0l","./op_list/reduction":"hONo5","./op_list/slice_join":"j2x7P","./op_list/sparse":"aSQ4Z","./op_list/spectral":"hVBGK","./op_list/string":"86oJx","./op_list/transformation":"a0Tyu","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8MfYc":[function(e,t,r,n){var a,s,o,i,c,u=e("@parcel/transformer-js/src/esmodule-helpers.js");u.defineInteropFlag(r),u.export(r,"DataType",function(){return i}),u.export(r,"SaverDef",function(){return c}),(a=i||(i={}))[a.DT_INVALID=0]="DT_INVALID",a[a.DT_FLOAT=1]="DT_FLOAT",a[a.DT_DOUBLE=2]="DT_DOUBLE",a[a.DT_INT32=3]="DT_INT32",a[a.DT_UINT8=4]="DT_UINT8",a[a.DT_INT16=5]="DT_INT16",a[a.DT_INT8=6]="DT_INT8",a[a.DT_STRING=7]="DT_STRING",a[a.DT_COMPLEX64=8]="DT_COMPLEX64",a[a.DT_INT64=9]="DT_INT64",a[a.DT_BOOL=10]="DT_BOOL",a[a.DT_QINT8=11]="DT_QINT8",a[a.DT_QUINT8=12]="DT_QUINT8",a[a.DT_QINT32=13]="DT_QINT32",a[a.DT_BFLOAT16=14]="DT_BFLOAT16",a[a.DT_QINT16=15]="DT_QINT16",a[a.DT_QUINT16=16]="DT_QUINT16",a[a.DT_UINT16=17]="DT_UINT16",a[a.DT_COMPLEX128=18]="DT_COMPLEX128",a[a.DT_HALF=19]="DT_HALF",a[a.DT_RESOURCE=20]="DT_RESOURCE",a[a.DT_VARIANT=21]="DT_VARIANT",a[a.DT_UINT32=22]="DT_UINT32",a[a.DT_UINT64=23]="DT_UINT64",a[a.DT_FLOAT_REF=101]="DT_FLOAT_REF",a[a.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",a[a.DT_INT32_REF=103]="DT_INT32_REF",a[a.DT_UINT8_REF=104]="DT_UINT8_REF",a[a.DT_INT16_REF=105]="DT_INT16_REF",a[a.DT_INT8_REF=106]="DT_INT8_REF",a[a.DT_STRING_REF=107]="DT_STRING_REF",a[a.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",a[a.DT_INT64_REF=109]="DT_INT64_REF",a[a.DT_BOOL_REF=110]="DT_BOOL_REF",a[a.DT_QINT8_REF=111]="DT_QINT8_REF",a[a.DT_QUINT8_REF=112]="DT_QUINT8_REF",a[a.DT_QINT32_REF=113]="DT_QINT32_REF",a[a.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",a[a.DT_QINT16_REF=115]="DT_QINT16_REF",a[a.DT_QUINT16_REF=116]="DT_QUINT16_REF",a[a.DT_UINT16_REF=117]="DT_UINT16_REF",a[a.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",a[a.DT_HALF_REF=119]="DT_HALF_REF",a[a.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",a[a.DT_VARIANT_REF=121]="DT_VARIANT_REF",a[a.DT_UINT32_REF=122]="DT_UINT32_REF",a[a.DT_UINT64_REF=123]="DT_UINT64_REF",(o=(s=c||(c={})).CheckpointFormatVersion||(s.CheckpointFormatVersion={}))[o.LEGACY=0]="LEGACY",o[o.V1=1]="V1",o[o.V2=2]="V2"},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dO4ig:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"registerOp",function(){return o}),a.export(r,"getRegisteredOp",function(){return i}),a.export(r,"deregisterOp",function(){return c});var s={};function o(e,t){s[e]={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t}}function i(e){return s[e]}function c(e){delete s[e]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iVfKK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getParamValue",function(){return i}),a.export(r,"getTensor",function(){return c}),a.export(r,"getTensorsForCurrentContext",function(){return u}),a.export(r,"getNodeNameAndIndex",function(){return l}),a.export(r,"parseNodeName",function(){return f}),a.export(r,"split",function(){return d}),a.export(r,"getPadding",function(){return h}),a.export(r,"cloneTensor",function(){return m});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core");function i(e,t,r,n,a){var s=t.inputParams[e];if(s&&void 0!==s.inputIndexStart){var i=s.inputIndexStart,u=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?i+1:s.inputIndexEnd,l=i<0?t.inputNames.length+i:i;if("tensor"===s.type)return c(t.inputNames[l],r,n,a);if("tensors"===s.type){var p=t.inputs.slice(i,u);return t.inputNames.slice(i,u).filter(function(e,t){var r;return(null==(r=p[t])?void 0:r.op)!=="NoOp"}).map(function(e){return c(e,r,n,a)})}var f=c(t.inputNames[l],r,n,a),d=f.dataSync();return"number"===s.type?d[0]:o.util.toNestedArray(f.shape,d)}var h=t.attrParams[e];return h&&h.value}function c(e,t,r,n){var a=(0,s._)(f(e,r),2),o=a[0],i=a[1];if(null!=n){var c=n.getHashTableHandleByName(o);if(null!=c)return c}var u=r.currentContextIds.find(function(e){return!!t[p(o,e)]});return void 0!==u?t[p(o,u)][i]:void 0}function u(e,t,r){return t[p(e,r.currentContextId)]}function l(e,t){var r=(0,s._)(f(e,t),3),n=r[0],a=r[1],o=r[2];return[p(n,t&&t.currentContextId),a,o]}function p(e,t){return t?"".concat(e,"-").concat(t):e}function f(e,t){if(""===e)return["",0,void 0];var r,n=null!=t&&null!=t.parseNodeNameCache;if(n){var a=t.parseNodeNameCache.get(e);if(null!=a)return a}var s=e.split(":");if(1===s.length)r=[e,0,void 0];else{var o=s[0],i=3===s.length?s[1]:void 0;r=[o,Number(s[s.length-1]),i]}return n&&t.parseNodeNameCache.set(e,r),r}function d(e,t){for(var r=[],n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}function h(e,t,r){var n=i("pad",e,t,r);if("explicit"===n){n=i("explicitPaddings",e,t,r);for(var a=[[0,0],[0,0],[0,0],[0,0]],s=0;s<4;s++)a[s][0]=n[2*s],a[s][1]=n[2*s+1];return a}return n}function m(e){return e.kept?e:(0,o.clone)(e)}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hJ5Df:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lAaqt:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g166v:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],b7YpX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4aEo6":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gP7ge:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4bmec":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aeDoj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jgvjJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7RHdc":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iNU3x:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],heE0X:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],biO0l:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hONo5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],j2x7P:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aSQ4Z:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hVBGK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"86oJx":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],a0Tyu:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return s});var s=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2Mruo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GraphExecutor",function(){return g});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_to_consumable_array.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("@tensorflow/tfjs-core"),f=e("../operations/executors/utils"),d=e("../operations/operation_executor"),h=e("./execution_context"),m=e("./model_analysis"),g=function(){"use strict";function e(t,r){var n=this;(0,o._)(this,e),this.graph=t,this.parent=r,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach(function(r){n._functionExecutorMap[r]=new e(t.functions[r],n)})}return(0,i._)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,r=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id})});this._weightIds=(t=[]).concat.apply(t,(0,u._)(r)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})}},{key:"outputs",get:function(){return this._outputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})}},{key:"inputNodes",get:function(){return this._inputs.map(function(e){return e.signatureKey||e.name})}},{key:"outputNodes",get:function(){return this._outputs.map(function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t})}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce(function(t,r){return t[r]=e._functions[r].signature,t},{})}},{key:"getCompilationKey",value:function(e,t){var r=e.map(function(e){return e.name}).sort(),n=t.map(function(e){return e.name}).sort();return r.join(this.SEPARATOR)+"--"+n.join(this.SEPARATOR)}},{key:"compile",value:function(e,t){var r=(0,m.getExecutionSubgraph)(e,t,this.weightMap,this._initNodes),n=r.missingInputs,a=r.dynamicNode,s=r.syncInputs;if(null!=a)throw Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(s,"]"));if(n.length>0){var o=t.map(function(e){return e.name}),i=Object.keys(e);throw Error("Cannot compute the outputs [".concat(o,"] from the provided inputs ")+"[".concat(i,"]. Missing the following inputs: [").concat(n,"]"))}var c=(0,m.getNodesInTopologicalOrder)(this.graph,r),u=(0,m.getNodeLiveUntilMap)(c);return{orderedNodes:c,nodeLiveUntilMap:u}}},{key:"cloneAndKeepTensor",value:function(e){if(null==e)return null;var t=e.clone();return(0,p.keep)(t),t}},{key:"cloneTensorList",value:function(e){var t=this;return e?e.map(function(e){return t.cloneAndKeepTensor(e)}):null}},{key:"cloneTensorMap",value:function(e){var t=this;return Object.fromEntries(Object.entries(e).map(function(e){var r=(0,c._)(e,2),n=r[0],a=r[1];return[n,t.cloneTensorList(a)]}))}},{key:"execute",value:function(e,t){var r=this;this.disposeIntermediateTensors();var n=Object.keys(e=this.mapInputs(e)).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var a=n.map(function(e){return r.graph.nodes[(0,f.parseNodeName)(e)[0]]}),s=t.map(function(e){return(0,f.parseNodeName)(e)[0]}),o=new Set(s),i=s.map(function(e){return r.graph.nodes[e]});0===i.length&&(i=this._outputs);var u=this.getCompilationKey(a,i),l=this.compiledMap.get(u);null==l&&(l=this.compile(e,i),this.compiledMap.set(u,l));try{this.keepIntermediateTensors=(0,p.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){this.keepIntermediateTensors=!1,console.warn(e.message)}var m={},g={};return(0,p.tidy)(function(){var n=new(0,h.ExecutionContext)(r.weightMap,m,g,r.functionExecutorMap,r.parseNodeNameCache),a=Object.assign({},r.weightMap);r.keepIntermediateTensors&&(r.clonedTensorsMap=r.cloneTensorMap(r.weightMap)),Object.keys(e).forEach(function(t){var s=(0,c._)((0,f.parseNodeName)(t,n),2),o=s[0],i=s[1],u=[];u[i]=e[t],a[o]=u,r.keepIntermediateTensors&&(r.clonedTensorsMap[o]=r.cloneTensorList(u))});var s=r.getFrozenTensorIds(a),i=l.orderedNodes,u=l.nodeLiveUntilMap,v=!0,_=!1,x=void 0;try{for(var y,b=i[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var k=y.value;if(!a[k.name]){var j=(0,d.executeOp)(k,a,n,r._resourceManager);if(p.util.isPromise(j))throw Error("The execution of the op '".concat(k.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");a[k.name]=j,r.keepIntermediateTensors&&(r.clonedTensorsMap[k.name]=r.cloneTensorList(j)),r.checkTensorForDisposalWithNodeLiveUntilInfo(k,a,n,s,o,u.get(k.name))}}}catch(e){_=!0,x=e}finally{try{v||null==b.return||b.return()}finally{if(_)throw x}}return null==r.parent&&n.dispose(s),t.map(function(e){return(0,f.getTensor)(e,a,n)})})}},{key:"getFrozenTensorIds",value:function(e){return new Set([].concat.apply([],Object.keys(e).map(function(t){return e[t]}).map(function(e){return e.map(function(e){return e.id})})))}},{key:"checkTensorForDisposal",value:function(e,t,r,n,a,s,o){if(!((0,m.isControlFlow)(t)||s.has(e))){var i=!0,c=!1,u=void 0;try{for(var l,p=r[e][Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var d=l.value;null!=d&&(o[d.id]=(o[d.id]||0)+t.children.length)}}catch(e){c=!0,u=e}finally{try{i||null==p.return||p.return()}finally{if(c)throw u}}var h=!0,g=!1,v=void 0;try{for(var _,x=t.inputs[Symbol.iterator]();!(h=(_=x.next()).done);h=!0){var y=_.value;if(!(0,m.isControlFlow)(y)){var b=(0,f.getTensorsForCurrentContext)(y.name,r,n);if(null!=b){var k=!0,j=!1,w=void 0;try{for(var I,T=b[Symbol.iterator]();!(k=(I=T.next()).done);k=!0){var S=I.value;if(!(!S||S.kept||a.has(S.id))){var N=o[S.id];1===N?(S.dispose(),delete o[S.id]):null!=N&&o[S.id]--}}}catch(e){j=!0,w=e}finally{try{k||null==T.return||T.return()}finally{if(j)throw w}}}}}}catch(e){g=!0,v=e}finally{try{h||null==x.return||x.return()}finally{if(g)throw v}}}}},{key:"checkTensorForDisposalWithNodeLiveUntilInfo",value:function(e,t,r,n,a,s){if(!(0,m.isControlFlow)(e)&&null!=s){var o=!0,i=!1,c=void 0;try{for(var u,l=s[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var p=u.value;if(!((0,m.isControlFlow)(p)||a.has(p.name))){var d=(0,f.getTensorsForCurrentContext)(p.name,t,r),h=!0,g=!1,v=void 0;try{for(var _,x=d[Symbol.iterator]();!(h=(_=x.next()).done);h=!0){var y=_.value;!y||y.kept||n.has(y.id)||y.dispose()}}catch(e){g=!0,v=e}finally{try{h||null==x.return||x.return()}finally{if(g)throw v}}}}}catch(e){i=!0,c=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw c}}}}},{key:"executeAsync",value:function(e,t){return(0,s._)(function(){return(0,l._)(this,function(r){return[2,this._executeAsync(e,t)]})}).call(this)}},{key:"disposeIntermediateTensors",value:function(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(function(e){var t=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var o=a.value;o&&!o.isDisposed&&o.dispose()}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}),this.clonedTensorsMap=null)}},{key:"getIntermediateTensors",value:function(){return this.clonedTensorsMap}},{key:"_executeAsync",value:function(e,t){return(0,s._)(function(e,t){var r,n,a,s,o,i,c,d,m,g=arguments;return(0,l._)(this,function(l){switch(l.label){case 0:r=g.length>2&&void 0!==g[2]&&g[2],n=g.length>3&&void 0!==g[3]?g[3]:{},a=g.length>4&&void 0!==g[4]?g[4]:{},this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=(0,p.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){this.keepIntermediateTensors=!1,console.warn(e.message)}return s=new(0,h.ExecutionContext)(this.weightMap,n,a,this.functionExecutorMap,this.parseNodeNameCache),this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),[4,this.executeWithControlFlow(e,s,t,r)];case 1:return o=l.sent(),c=(i=t.map(function(e){return(0,f.getTensor)(e,o,s)})).map(function(e){return e.id}),d=Object.keys(e).map(function(t){return e[t].id}),m=new Set((0,u._)(c).concat((0,u._)(d),(0,u._)(this.weightIds))),Object.values(o).forEach(function(e){e.forEach(function(e){!e||e.isDisposed||m.has(e.id)||e.dispose()})}),null==this.parent&&s.dispose(m),[2,i]}})}).apply(this,arguments)}},{key:"executeFunctionAsync",value:function(e,t,r){return(0,s._)(function(){var n,a;return(0,l._)(this,function(s){return n=this,a=e.reduce(function(e,t,r){return e[n.inputs[r].name]=t,e},{}),[2,this._executeAsync(a,this.outputNodes,!0,t,r)]})}).call(this)}},{key:"executeWithControlFlow",value:function(e,t,r,n){return(0,s._)(function(){var a,s,o,i,p,d,h,g,v,_,x,y,b,k,j,w,I,T;return(0,l._)(this,function(l){switch(l.label){case 0:a=this,o=(s=Object.keys(e)).map(function(e){return a.graph.nodes[(0,f.parseNodeName)(e)[0]]}),p=new Set(i=r.map(function(e){return(0,f.parseNodeName)(e)[0]})),0===(d=i.map(function(e){return a.graph.nodes[e]})).length&&(d=this._outputs),g=(h=(0,m.getExecutionSubgraph)(e,d,this.weightMap,this._initNodes)).usedNodes,v=h.missingInputs,_=h.dynamicNode,x=h.syncInputs,y=(0,u._)(o).concat((0,u._)(this.graph.weights),(0,u._)(this._initNodes||[])).map(function(e){return{node:e,contexts:t.currentContext}}),b=Object.assign({},this.weightMap),Object.keys(e).forEach(function(t){var r=(0,c._)((0,f.parseNodeName)(t),2),n=r[0],a=r[1],s=[];s[a]=e[t],b[n]=s}),k={},j=this.getFrozenTensorIds(b),w={},l.label=1;case 1:if(!(y.length>0))return[3,3];return[4,Promise.all(this.processStack(o,y,t,b,w,j,p,k,g))];case 2:return l.sent(),[3,1];case 3:if(null!=_||n||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),(I=d.filter(function(e){return!(0,m.isControlFlow)(e)&&!(0,f.getTensor)(e.name,b,t)}).map(function(e){return e.name})).length>0)throw T="",null!=_&&(T="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(x,"]")),Error("Cannot compute the outputs [".concat(I,"] from the provided ")+"inputs [".concat(s,"]. Consider providing the following inputs: ")+"[".concat(v,"]. ").concat(T));return[2,b]}})}).call(this)}},{key:"processStack",value:function(e,t,r,n,a,s,o,i,u){for(var l,h=this,m=[];t.length>0;)l=this,function(){var e=t.pop();r.currentContext=e.contexts;var g="";if("Enter"===e.node.op&&(0,f.getParamValue)("isConstant",e.node,n,r)&&(g=(0,c._)((0,f.getNodeNameAndIndex)(e.node.name,r),1)[0]),null==n[e.node.name]){var v=(0,d.executeOp)(e.node,n,r,l._resourceManager);g||(g=(0,c._)((0,f.getNodeNameAndIndex)(e.node.name,r),1)[0]);var _=r.currentContext;p.util.isPromise(v)?m.push(v.then(function(c){return n[g]=c,h.keepIntermediateTensors&&(h.clonedTensorsMap[g]=h.cloneTensorList(c)),r.currentContext=_,h.checkTensorForDisposal(g,e.node,n,r,s,o,i),h.processChildNodes(e.node,t,r,n,a,u),c})):(n[g]=v,l.keepIntermediateTensors&&(l.clonedTensorsMap[g]=l.cloneTensorList(v)),l.checkTensorForDisposal(g,e.node,n,r,s,o,i),l.processChildNodes(e.node,t,r,n,a,u))}else l.processChildNodes(e.node,t,r,n,a,u)}();return m}},{key:"processChildNodes",value:function(e,t,r,n,a,s){e.children.forEach(function(e){var o=(0,c._)((0,f.getNodeNameAndIndex)(e.name,r),1)[0];!a[o]&&s.has(e.name)&&("Merge"===e.op?e.inputNames.some(function(e){return!!(0,f.getTensor)(e,n,r)})&&(a[o]=!0,t.push({contexts:r.currentContext,node:e})):e.inputNames.every(function(e){return!!(0,f.getTensor)(e,n,r)})&&(a[o]=!0,t.push({contexts:r.currentContext,node:e})))})}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach(function(t){return e.weightMap[t].forEach(function(e){return e.dispose()})})}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach(function(r){var n=e[r],a=(0,c._)((0,f.parseNodeName)(r),1)[0],s=t.graph.nodes[a];if(s.attrParams.shape&&s.attrParams.shape.value){var o=s.attrParams.shape.value,i=o.length===n.shape.length&&n.shape.every(function(e,t){return -1===o[t]||o[t]===e});p.util.assert(i,function(){return"The shape of dict['".concat(s.name,"'] provided in ")+"model.execute(dict) must be [".concat(o,"], but was ")+"[".concat(n.shape,"]")})}s.attrParams.dtype&&s.attrParams.dtype.value&&p.util.assert(n.dtype===s.attrParams.dtype.value,function(){return"The dtype of dict['".concat(s.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(s.attrParams.dtype.value,", but was ").concat(n.dtype)})})}},{key:"mapInputs",value:function(e){var t,r,n={};for(var a in e){var s=null==(r=null==(t=this._signature)?void 0:t.inputs)?void 0:r[a];null!=s?n[s.name]=e[a]:n[a]=e[a]}return n}},{key:"checkInputs",value:function(e){var t=this,r=Object.keys(e).filter(function(e){var r=(0,c._)((0,f.parseNodeName)(e),1)[0];return null==t.graph.nodes[r]});if(r.length>0)throw Error("The dict provided in model.execute(dict) has "+"keys: [".concat(r,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map(function(e){var r,n,a=null==(n=null==(r=t._signature)?void 0:r.outputs)?void 0:n[e];return null!=a?a.name:e},{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach(function(e){var r=(0,c._)((0,f.parseNodeName)(e),1)[0];if(!t.graph.nodes[r])throw Error("The output '".concat(e,"' is not found in the graph"))})}}]),e}()},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","@tensorflow/tfjs-core":"aOH7b","../operations/executors/utils":"iVfKK","../operations/operation_executor":"b5Pis","./execution_context":"jHfQa","./model_analysis":"132yy","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],b5Pis:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return N});var s=e("@tensorflow/tfjs-core"),o=e("./custom_op/node_value_impl"),i=e("./custom_op/register"),c=e("./executors/arithmetic_executor"),u=e("./executors/basic_math_executor"),l=e("./executors/control_executor"),p=e("./executors/convolution_executor"),f=e("./executors/creation_executor"),d=e("./executors/dynamic_executor"),h=e("./executors/evaluation_executor"),m=e("./executors/graph_executor"),g=e("./executors/hash_table_executor"),v=e("./executors/image_executor"),_=e("./executors/logical_executor"),x=e("./executors/matrices_executor"),y=e("./executors/normalization_executor"),b=e("./executors/ragged_executor"),k=e("./executors/reduction_executor"),j=e("./executors/slice_join_executor"),w=e("./executors/sparse_executor"),I=e("./executors/spectral_executor"),T=e("./executors/string_executor"),S=e("./executors/transformation_executor");function N(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.tidy,N=function(e,t,r){switch(e.category){case"arithmetic":return a(function(){return c.executeOp(e,t,r)});case"basic_math":return a(function(){return u.executeOp(e,t,r)});case"control":return l.executeOp(e,t,r);case"convolution":return a(function(){return p.executeOp(e,t,r)});case"creation":return a(function(){return f.executeOp(e,t,r)});case"dynamic":return d.executeOp(e,t,r);case"evaluation":return a(function(){return h.executeOp(e,t,r)});case"image":return a(function(){return v.executeOp(e,t,r)});case"graph":return a(function(){return m.executeOp(e,t,r)});case"logical":return a(function(){return _.executeOp(e,t,r)});case"matrices":return a(function(){return x.executeOp(e,t,r)});case"normalization":return a(function(){return y.executeOp(e,t,r)});case"ragged":return a(function(){return b.executeOp(e,t,r)});case"reduction":return a(function(){return k.executeOp(e,t,r)});case"slice_join":return a(function(){return j.executeOp(e,t,r)});case"sparse":return a(function(){return w.executeOp(e,t,r)});case"spectral":return a(function(){return I.executeOp(e,t,r)});case"string":return a(function(){return T.executeOp(e,t,r)});case"transformation":return a(function(){return S.executeOp(e,t,r)});case"hash_table":return g.executeOp(e,t,r,n);case"custom":var s=(0,i.getRegisteredOp)(e.op);if(s&&s.customExecutor)return s.customExecutor(new(0,o.NodeValueImpl)(e,t,r));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,r);return s.util.isPromise(N)?N.then(function(e){return[].concat(e)}):[].concat(N)}},{"@tensorflow/tfjs-core":"aOH7b","./custom_op/node_value_impl":"c8KdJ","./custom_op/register":"dO4ig","./executors/arithmetic_executor":"eMP2f","./executors/basic_math_executor":"8FsEr","./executors/control_executor":"b3XlX","./executors/convolution_executor":"NBiCR","./executors/creation_executor":"jGFiZ","./executors/dynamic_executor":"8aazQ","./executors/evaluation_executor":"1RnWN","./executors/graph_executor":"9enKV","./executors/hash_table_executor":"cn87X","./executors/image_executor":"bOgIb","./executors/logical_executor":"aWrMD","./executors/matrices_executor":"eA6ck","./executors/normalization_executor":"cshwS","./executors/ragged_executor":"4cS63","./executors/reduction_executor":"22xKq","./executors/slice_join_executor":"hcTcK","./executors/sparse_executor":"8qjB2","./executors/spectral_executor":"d9o6q","./executors/string_executor":"ac8kk","./executors/transformation_executor":"fOQ5Q","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],c8KdJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"NodeValueImpl",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("../executors/utils"),c=e("../operation_mapper"),u=function(){"use strict";function e(t,r,n){var a=this;(0,s._)(this,e),this.node=t,this.tensorMap=r,this.context=n,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map(function(e){return a.getInput(e)}),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce(function(e,t){return e[t]=a.getAttr(t),e},{}))}return(0,o._)(e,[{key:"getInput",value:function(e){return(0,i.getTensor)(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var r=this.node.rawAttrs[e];if(null!=r.tensor)return(0,i.getTensor)(e,this.tensorMap,this.context);if(null!=r.i||null!=r.f)return(0,c.getNumberParam)(this.node.rawAttrs,e,t);if(null!=r.s)return(0,c.getStringParam)(this.node.rawAttrs,e,t);if(null!=r.b)return(0,c.getBoolParam)(this.node.rawAttrs,e,t);if(null!=r.shape)return(0,c.getTensorShapeParam)(this.node.rawAttrs,e,t);if(null!=r.type)return(0,c.getDtypeParam)(this.node.rawAttrs,e,t);if(null!=r.list){if(null!=r.list.i||null!=r.list.f)return(0,c.getNumericArrayParam)(this.node.rawAttrs,e,t);if(null!=r.list.s)return(0,c.getStringArrayParam)(this.node.rawAttrs,e,t);if(null!=r.list.shape)return(0,c.getTensorShapeArrayParam)(this.node.rawAttrs,e,t);if(null!=r.list.b)return(0,c.getBoolArrayParam)(this.node.rawAttrs,e,t);if(null!=r.list.type)return(0,c.getDtypeArrayParam)(this.node.rawAttrs,e,t)}return t}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","../executors/utils":"iVfKK","../operation_mapper":"jpu5h","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eMP2f:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[n.add((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"AddN":return[n.addN((0,o.getParamValue)("tensors",e,t,r))];case"FloorMod":case"Mod":return[n.mod((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"Mul":return[n.mul((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"RealDiv":case"Div":return[n.div((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"DivNoNan":return[n.divNoNan((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"FloorDiv":return[n.floorDiv((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"Sub":return[n.sub((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"Minimum":return[n.minimum((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"Maximum":return[n.maximum((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"Pow":return[n.pow((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"SquaredDifference":return[n.squaredDifference((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="arithmetic"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jOT0e:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("./ops");a.exportAll(s,r)},{"./ops":"5ZfNv","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8FsEr":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"Abs":case"ComplexAbs":return[n.abs((0,o.getParamValue)("x",e,t,r))];case"Acos":return[n.acos((0,o.getParamValue)("x",e,t,r))];case"Acosh":return[n.acosh((0,o.getParamValue)("x",e,t,r))];case"Asin":return[n.asin((0,o.getParamValue)("x",e,t,r))];case"Asinh":return[n.asinh((0,o.getParamValue)("x",e,t,r))];case"Atan":return[n.atan((0,o.getParamValue)("x",e,t,r))];case"Atan2":return[n.atan2((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("y",e,t,r))];case"Atanh":return[n.atanh((0,o.getParamValue)("x",e,t,r))];case"Ceil":return[n.ceil((0,o.getParamValue)("x",e,t,r))];case"Complex":return[n.complex((0,o.getParamValue)("real",e,t,r),(0,o.getParamValue)("imag",e,t,r))];case"Cos":return[n.cos((0,o.getParamValue)("x",e,t,r))];case"Cosh":return[n.cosh((0,o.getParamValue)("x",e,t,r))];case"Elu":return[n.elu((0,o.getParamValue)("x",e,t,r))];case"Erf":return[n.erf((0,o.getParamValue)("x",e,t,r))];case"Exp":return[n.exp((0,o.getParamValue)("x",e,t,r))];case"Expm1":return[n.expm1((0,o.getParamValue)("x",e,t,r))];case"Floor":return[n.floor((0,o.getParamValue)("x",e,t,r))];case"Log":return[n.log((0,o.getParamValue)("x",e,t,r))];case"Log1p":return[n.log1p((0,o.getParamValue)("x",e,t,r))];case"Imag":return[n.imag((0,o.getParamValue)("x",e,t,r))];case"Neg":return[n.neg((0,o.getParamValue)("x",e,t,r))];case"Reciprocal":return[n.reciprocal((0,o.getParamValue)("x",e,t,r))];case"Real":return[n.real((0,o.getParamValue)("x",e,t,r))];case"Relu":return[n.relu((0,o.getParamValue)("x",e,t,r))];case"Round":return[n.round((0,o.getParamValue)("x",e,t,r))];case"Selu":return[n.selu((0,o.getParamValue)("x",e,t,r))];case"Sigmoid":return[n.sigmoid((0,o.getParamValue)("x",e,t,r))];case"Sin":return[n.sin((0,o.getParamValue)("x",e,t,r))];case"Sign":return[n.sign((0,o.getParamValue)("x",e,t,r))];case"Sinh":return[n.sinh((0,o.getParamValue)("x",e,t,r))];case"Softplus":return[n.softplus((0,o.getParamValue)("x",e,t,r))];case"Sqrt":return[n.sqrt((0,o.getParamValue)("x",e,t,r))];case"Square":return[n.square((0,o.getParamValue)("x",e,t,r))];case"Tanh":return[n.tanh((0,o.getParamValue)("x",e,t,r))];case"Tan":return[n.tan((0,o.getParamValue)("x",e,t,r))];case"ClipByValue":return[n.clipByValue((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("clipValueMin",e,t,r),(0,o.getParamValue)("clipValueMax",e,t,r))];case"Relu6":return[n.relu6((0,o.getParamValue)("x",e,t,r))];case"Rsqrt":return[n.rsqrt((0,o.getTensor)(e.inputNames[0],t,r))];case"LeakyRelu":return[n.leakyRelu((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("alpha",e,t,r))];case"Prelu":return[n.prelu((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("alpha",e,t,r))];case"IsNan":return[n.isNaN((0,o.getTensor)(e.inputNames[0],t,r))];case"IsInf":return[n.isInf((0,o.getTensor)(e.inputNames[0],t,r))];case"IsFinite":return[n.isFinite((0,o.getTensor)(e.inputNames[0],t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="basic_math"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],b3XlX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return f}),a.export(r,"CATEGORY",function(){return d});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("@swc/helpers/cjs/_ts_values.cjs"),c=e("@tensorflow/tfjs-core"),u=e("../../executor/tensor_array"),l=e("../../executor/tensor_list"),p=e("./utils"),f=function(e,t,r){return(0,s._)(function(){var n,a,s,f,d,h,m,g,v,_,x,y,b,k,j,w,I,T,S,N,M,C,E,F,A,R,P,O,D,B,V,G,L,q,z,U,H,W,K,X,Z,Q,J,Y,$,ee,et,er,en,ea,es,eo,ei,ec,eu,el,ep,ef,ed,eh,em,eg,ev,e_,ex,ey,eb,ek,ej,ew,eI,eT,eS,eN,eM,eC,eE,eF,eA,eR,eP,eO,eD,eB,eV,eG,eL,eq,ez,eU,eH,eW,eK,eX,eZ,eQ,eJ,eY,e$,e0,e1,e2,e3;return(0,o._)(this,function(e4){switch(e4.label){case 0:switch(e.op){case"If":case"StatelessIf":return[3,1];case"While":case"StatelessWhile":return[3,3];case"LoopCond":return[3,9];case"Switch":return[3,10];case"Merge":return[3,12];case"Enter":return[3,13];case"Exit":return[3,14];case"NextIteration":return[3,15];case"TensorArrayV3":return[3,16];case"TensorArrayWriteV3":return[3,17];case"TensorArrayReadV3":return[3,18];case"TensorArrayGatherV3":return[3,19];case"TensorArrayScatterV3":return[3,20];case"TensorArrayConcatV3":return[3,21];case"TensorArraySplitV3":return[3,22];case"TensorArraySizeV3":return[3,23];case"TensorArrayCloseV3":return[3,24];case"TensorListSetItem":return[3,25];case"TensorListGetItem":return[3,26];case"TensorListScatterV2":case"TensorListScatter":return[3,27];case"TensorListReserve":case"EmptyTensorList":return[3,28];case"TensorListGather":return[3,29];case"TensorListStack":return[3,30];case"TensorListFromTensor":return[3,31];case"TensorListConcat":case"TensorListConcatV2":return[3,32];case"TensorListPushBack":return[3,33];case"TensorListPopBack":return[3,34];case"TensorListSplit":return[3,35];case"TensorListLength":return[3,36];case"TensorListResize":return[3,37]}return[3,38];case 1:return n=(0,p.getParamValue)("thenBranch",e,t,r),a=(0,p.getParamValue)("elseBranch",e,t,r),s=(0,p.getParamValue)("cond",e,t,r),f=(0,p.getParamValue)("args",e,t,r),[4,s.data()];case 2:if(e4.sent()[0])return[2,r.functionMap[n].executeFunctionAsync(f,r.tensorArrayMap,r.tensorListMap)];return[2,r.functionMap[a].executeFunctionAsync(f,r.tensorArrayMap,r.tensorListMap)];case 3:return d=function(){var e,t,n;return(0,o._)(this,function(a){switch(a.label){case 0:return e=y,[4,r.functionMap[h].executeFunctionAsync(y,r.tensorArrayMap,r.tensorListMap)];case 1:return t=(y=a.sent()).map(function(e){return e.id}),e.forEach(function(e){e.kept||-1!==_.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}),[4,r.functionMap[m].executeFunctionAsync(y,r.tensorArrayMap,r.tensorListMap)];case 2:return[4,(n=a.sent())[0].data()];case 3:return x=a.sent(),n.forEach(function(e){e.kept||-1!==_.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}),[2]}})},h=(0,p.getParamValue)("body",e,t,r),m=(0,p.getParamValue)("cond",e,t,r),g=(0,p.getParamValue)("args",e,t,r),[4,r.functionMap[m].executeFunctionAsync(g,r.tensorArrayMap,r.tensorListMap)];case 4:return v=e4.sent(),_=g.map(function(e){return e.id}),[4,v[0].data()];case 5:x=e4.sent(),v.forEach(function(e){e.kept||-1!==_.indexOf(e.id)||e.dispose()}),y=g,e4.label=6;case 6:if(!x[0])return[3,8];return[5,(0,i._)(d())];case 7:return e4.sent(),[3,6];case 8:return[2,y];case 9:return b=(0,p.getParamValue)("pred",e,t,r),[2,[(0,p.cloneTensor)(b)]];case 10:return k=(0,p.getParamValue)("pred",e,t,r),(j=(0,p.getParamValue)("data",e,t,r)).kept||(j=(0,p.cloneTensor)(j)),[4,k.data()];case 11:return[2,e4.sent()[0]?[void 0,j]:[j,void 0]];case 12:if(w=e.inputNames.find(function(e){return void 0!==(0,p.getTensor)(e,t,r)}))return I=(0,p.getTensor)(w,t,r),[2,[(0,p.cloneTensor)(I)]];return[2,void 0];case 13:return T=(0,p.getParamValue)("frameName",e,t,r),S=(0,p.getParamValue)("tensor",e,t,r),r.enterFrame(T),[2,[(0,p.cloneTensor)(S)]];case 14:return N=(0,p.getParamValue)("tensor",e,t,r),r.exitFrame(),[2,[(0,p.cloneTensor)(N)]];case 15:return M=(0,p.getParamValue)("tensor",e,t,r),r.nextIteration(),[2,[(0,p.cloneTensor)(M)]];case 16:return C=(0,p.getParamValue)("size",e,t,r),E=(0,p.getParamValue)("dtype",e,t,r),F=(0,p.getParamValue)("elementShape",e,t,r),A=(0,p.getParamValue)("dynamicSize",e,t,r),R=(0,p.getParamValue)("clearAfterRead",e,t,r),P=(0,p.getParamValue)("identicalElementShapes",e,t,r),O=(0,p.getParamValue)("name",e,t,r),D=new(0,u.TensorArray)(O,E,C,F,P,A,R),r.addTensorArray(D),[2,[D.idTensor,(0,c.scalar)(1)]];case 17:return B=(0,p.getParamValue)("tensorArrayId",e,t,r),V=(0,p.getParamValue)("index",e,t,r),G=(0,p.getParamValue)("tensor",e,t,r),(L=r.getTensorArray(B.id)).write(V,G),[2,[L.idTensor]];case 18:return q=(0,p.getParamValue)("tensorArrayId",e,t,r),z=(0,p.getParamValue)("index",e,t,r),[2,[r.getTensorArray(q.id).read(z)]];case 19:return U=(0,p.getParamValue)("tensorArrayId",e,t,r),H=(0,p.getParamValue)("indices",e,t,r),W=(0,p.getParamValue)("dtype",e,t,r),[2,[r.getTensorArray(U.id).gather(H,W)]];case 20:return K=(0,p.getParamValue)("tensorArrayId",e,t,r),X=(0,p.getParamValue)("indices",e,t,r),Z=(0,p.getParamValue)("tensor",e,t,r),(Q=r.getTensorArray(K.id)).scatter(X,Z),[2,[Q.idTensor]];case 21:return J=(0,p.getParamValue)("tensorArrayId",e,t,r),Y=r.getTensorArray(J.id),$=(0,p.getParamValue)("dtype",e,t,r),[2,[Y.concat($)]];case 22:return ee=(0,p.getParamValue)("tensorArrayId",e,t,r),et=(0,p.getParamValue)("tensor",e,t,r),er=(0,p.getParamValue)("lengths",e,t,r),(en=r.getTensorArray(ee.id)).split(er,et),[2,[en.idTensor]];case 23:return ea=(0,p.getParamValue)("tensorArrayId",e,t,r),es=r.getTensorArray(ea.id),[2,[(0,c.scalar)(es.size(),"int32")]];case 24:return eo=(0,p.getParamValue)("tensorArrayId",e,t,r),(ei=r.getTensorArray(eo.id)).clearAndClose(),[2,[ei.idTensor]];case 25:return ec=(0,p.getParamValue)("tensorListId",e,t,r),eu=(0,p.getParamValue)("index",e,t,r),el=(0,p.getParamValue)("tensor",e,t,r),(ep=r.getTensorList(ec.id)).setItem(eu,el),[2,[ep.idTensor]];case 26:return ef=(0,p.getParamValue)("tensorListId",e,t,r),ed=(0,p.getParamValue)("index",e,t,r),eh=(0,p.getParamValue)("elementShape",e,t,r),em=(0,p.getParamValue)("elementDType",e,t,r),[2,[r.getTensorList(ef.id).getItem(ed,eh,em)]];case 27:return eg=(0,p.getParamValue)("indices",e,t,r),ev=(0,p.getParamValue)("tensor",e,t,r),e_=(0,p.getParamValue)("elementShape",e,t,r),ex=(0,p.getParamValue)("numElements",e,t,r),ey=(0,l.scatter)(ev,eg,e_,ex),r.addTensorList(ey),[2,[ey.idTensor]];case 28:return eb=(0,p.getParamValue)("elementShape",e,t,r),ek=(0,p.getParamValue)("elementDType",e,t,r),ej="TensorListReserve"===e.op?"numElements":"maxNumElements",ew=(0,p.getParamValue)(ej,e,t,r),eI="TensorListReserve"===e.op?-1:ew,eT=(0,l.reserve)(eb,ek,ew,eI),r.addTensorList(eT),[2,[eT.idTensor]];case 29:return eS=(0,p.getParamValue)("tensorListId",e,t,r),eN=(0,p.getParamValue)("indices",e,t,r),eM=(0,p.getParamValue)("elementShape",e,t,r),eC=(0,p.getParamValue)("elementDType",e,t,r),[2,[r.getTensorList(eS.id).gather(eN,eC,eM)]];case 30:return eE=(0,p.getParamValue)("tensorListId",e,t,r),eF=(0,p.getParamValue)("elementShape",e,t,r),eA=(0,p.getParamValue)("elementDType",e,t,r),eR=(0,p.getParamValue)("numElements",e,t,r),[2,[r.getTensorList(eE.id).stack(eF,eA,eR)]];case 31:return eP=(0,p.getParamValue)("tensor",e,t,r),eO=(0,p.getParamValue)("elementShape",e,t,r),eD=(0,p.getParamValue)("elementDType",e,t,r),eB=(0,l.fromTensor)(eP,eO,eD),r.addTensorList(eB),[2,[eB.idTensor]];case 32:return eV=(0,p.getParamValue)("tensorListId",e,t,r),eG=r.getTensorList(eV.id),eL=(0,p.getParamValue)("dtype",e,t,r),eq=(0,p.getParamValue)("elementShape",e,t,r),[2,[eG.concat(eL,eq)]];case 33:return ez=(0,p.getParamValue)("tensorListId",e,t,r),eU=(0,p.getParamValue)("tensor",e,t,r),(eH=r.getTensorList(ez.id)).pushBack(eU),[2,[eH.idTensor]];case 34:return eW=(0,p.getParamValue)("tensorListId",e,t,r),eK=(0,p.getParamValue)("elementShape",e,t,r),eX=(0,p.getParamValue)("elementDType",e,t,r),[2,[r.getTensorList(eW.id).popBack(eK,eX)]];case 35:return eZ=(0,p.getParamValue)("tensor",e,t,r),eQ=(0,p.getParamValue)("elementShape",e,t,r),eJ=(0,p.getParamValue)("lengths",e,t,r),eY=(0,l.split)(eZ,eJ,eQ),r.addTensorList(eY),[2,[eY.idTensor]];case 36:return e$=(0,p.getParamValue)("tensorListId",e,t,r),e0=r.getTensorList(e$.id),[2,[(0,c.scalar)(e0.size(),"int32")]];case 37:return e1=(0,p.getParamValue)("tensorListId",e,t,r),e2=(0,p.getParamValue)("size",e,t,r),e3=r.getTensorList(e1.id).resize(e2),r.addTensorList(e3),[2,[e3.idTensor]];case 38:throw TypeError("Node type ".concat(e.op," is not implemented"));case 39:return[2]}})})()},d="control"},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","@swc/helpers/cjs/_ts_values.cjs":"94P5Q","@tensorflow/tfjs-core":"aOH7b","../../executor/tensor_array":"7vgQt","../../executor/tensor_list":"3LI7L","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"94P5Q":[function(e,t,r,n){"use strict";r._=e("2ed00358a4809745").__values},{"2ed00358a4809745":"6yrAu"}],"7vgQt":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TensorArray",function(){return l});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_to_consumable_array.cjs"),c=e("@tensorflow/tfjs-core"),u=e("./tensor_utils"),l=function(){"use strict";function e(t,r,n,a,o,i,u){(0,s._)(this,e),this.name=t,this.dtype=r,this.maxSize=n,this.elementShape=a,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=u,this.tensors=[],this.closed_=!1,this.idTensor=(0,c.scalar)(0),(0,c.keep)(this.idTensor)}return(0,o._)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach(function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map(function(e){return t.read(e)})}},{key:"write",value:function(e,t){if(this.closed_)throw Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var r=this.tensors[e]||{};if(t.dtype!==this.dtype)throw Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0===this.size()&&(null==this.elementShape||0===this.elementShape.length)&&(this.elementShape=t.shape),(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),r.read)throw Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(r.written)throw Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));r.tensor=t,(0,c.keep)(t),r.written=!0,this.tensors[e]=r}},{key:"writeMany",value:function(e,t){var r=this;if(e.length!==t.length)throw Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach(function(e,n){return r.write(e,t[n])})}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var r=0;r<this.size();r++)e.push(r)}if(0===e.length)return(0,c.tensor)([],[0].concat(this.elementShape));var n=this.readMany(e);return(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),(0,c.stack)(n,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return(0,c.tensor)([],[0].concat(this.elementShape));for(var t=[],r=0;r<this.size();r++)t.push(r);var n=this.readMany(t);return(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,n[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(n[0].shape,")")),(0,c.concat)(n,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var r,n=(r=Math).max.apply(r,(0,i._)(e));if(!this.dynamicSize&&n>=this.maxSize)throw Error("Max index must be< array size (".concat(n," vs. ").concat(this.maxSize,")"));this.writeMany(e,(0,c.unstack)(t,0))}},{key:"split",value:function(e,t){var r=this;if(t.dtype!==this.dtype)throw Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var n=0,a=e.map(function(e){return n+=e});if(n!==t.shape[0])throw Error("Expected sum of lengths to be equal to\n tensor.shape[0], but sum of lengths is\n ".concat(n,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var s=0===n?0:t.size/n,o=[];(0,c.tidy)(function(){t=(0,c.reshape)(t,[1,n,s]);for(var i=0;i<e.length;++i){var u=[0,0===i?0:a[i-1],0],l=[1,e[i],s];o[i]=(0,c.reshape)((0,c.slice)(t,u,l),r.elementShape)}return o});for(var i=[],u=0;u<e.length;u++)i[u]=u;this.writeMany(i,o)}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","./tensor_utils":"bycwu","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bycwu:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"assertShapesMatchAllowUndefinedSize",function(){return o}),a.export(r,"fullDefinedShape",function(){return i}),a.export(r,"inferElementShape",function(){return c}),a.export(r,"mergeElementShape",function(){return u});var s=e("@tensorflow/tfjs-core");function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!=typeof e&&"number"!=typeof t){s.util.assert(e.length===t.length,function(){return r+" Shapes ".concat(e," and ").concat(t," must match")});for(var n=0;n<e.length;n++){var a=e[n],o=t[n];s.util.assert(a<0||o<0||a===o,function(){return r+" Shapes ".concat(e," and ").concat(t," must match")})}}}function i(e){return!("number"==typeof e||e.some(function(e){return e<0}))}function c(e,t,r){var n=u(e,r),a=!i(n);if(a&&0===t.length)throw Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(n));if(a&&t.forEach(function(e){n=u(e.shape,n)}),!i(n))throw Error("Non-fully-defined elementShape: ".concat(n));return n}function u(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var r=[],n=0;n<e.length;++n){var a=e[n],s=t[n];if(a>=0&&s>=0&&a!==s)throw Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));r[n]=a>=0?a:s}return r}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3LI7L":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TensorList",function(){return l}),a.export(r,"fromTensor",function(){return p}),a.export(r,"reserve",function(){return f}),a.export(r,"scatter",function(){return d}),a.export(r,"split",function(){return h});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_to_consumable_array.cjs"),c=e("@tensorflow/tfjs-core"),u=e("./tensor_utils"),l=function(){"use strict";function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,s._)(this,e),this.tensors=t,this.elementShape=r,this.elementDtype=n,null!=t&&t.forEach(function(e){if(n!==e.dtype)throw Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(e.dtype));(0,u.assertShapesMatchAllowUndefinedSize)(r,e.shape,"TensorList shape mismatch: "),(0,c.keep)(e)}),this.idTensor=(0,c.scalar)(0),this.maxNumElements=a,(0,c.keep)(this.idTensor)}return(0,o._)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,i._)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach(function(t){null!=e&&e.has(t.id)||t.dispose()}),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==n&&this.tensors.length!==n)throw Error("Operation expected a list with ".concat(n," elements but got a list with ").concat(this.tensors.length," elements."));(0,u.assertShapesMatchAllowUndefinedSize)(e,this.elementShape,"TensorList shape mismatch: ");var a=(0,u.inferElementShape)(this.elementShape,this.tensors,e);return(0,c.tidy)(function(){var e=r.tensors.map(function(e){return(0,c.reshape)(e,a)});return(0,c.stack)(e,0)})}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw Error("Trying to pop from an empty list.");var r=(0,u.inferElementShape)(this.elementShape,this.tensors,e),n=this.tensors.pop();return n.kept=!1,(0,u.assertShapesMatchAllowUndefinedSize)(n.shape,e,"TensorList shape mismatch: "),(0,c.reshape)(n,r)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if((0,u.assertShapesMatchAllowUndefinedSize)(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw Error("Trying to push element into a full list.");(0,c.keep)(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var r=new e([],this.elementShape,this.elementDtype,this.maxNumElements);r.tensors.length=t;for(var n=0;n<Math.min(this.tensors.length,t);++n)r.tensors[n]=this.tensors[n];return r}},{key:"getItem",value:function(e,t,r){if(r!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw Error("element at index ".concat(e," is null."));(0,u.assertShapesMatchAllowUndefinedSize)(this.tensors[e].shape,t,"TensorList shape mismatch: ");var n=(0,u.inferElementShape)(this.elementShape,this.tensors,t);return(0,c.reshape)(this.tensors[e],n)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,c.keep)(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}},{key:"gather",value:function(e,t,r){var n=this;if(t!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());var a=(0,u.inferElementShape)(this.elementShape,this.tensors,r);return 0===e.length?(0,c.tensor)([],[0].concat(a)):(0,c.tidy)(function(){var t=e.map(function(e){return(0,c.reshape)(n.tensors[e],a)});return(0,c.stack)(t,0)})}},{key:"concat",value:function(e,t){var r=this;if(e&&e!==this.elementDtype)throw Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,t,"TensorList shape mismatch: ");var n=(0,u.inferElementShape)(this.elementShape,this.tensors,t);return 0===this.size()?(0,c.tensor)([],[0].concat(n)):(0,c.tidy)(function(){var e=r.tensors.map(function(e){return(0,c.reshape)(e,n)});return(0,c.concat)(e,0)})}}]),e}();function p(e,t,r){var n=e.dtype;if(e.shape.length<1)throw Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==r)throw Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(r));var a=e.shape.slice(1);return(0,u.assertShapesMatchAllowUndefinedSize)(a,t,"TensorList shape mismatch: "),new l((0,c.unstack)(e),t,n)}function f(e,t,r,n){return new l([],e,t,n)}function d(e,t,r,n){if(t.length!==e.shape[0])throw Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var a,s=(a=Math).max.apply(a,(0,i._)(t));if(null!=n&&-1!==n&&s>=n)throw Error("Max index must be< array size (".concat(s," vs. ").concat(n,")"));var o=new l([],r,e.dtype,n),u=(0,c.unstack)(e,0);return t.forEach(function(e,t){o.setItem(e,u[t])}),o}function h(e,t,r){var n=0,a=t.map(function(e){return n+=e});if(n!==e.shape[0])throw Error("Expected sum of lengths to be equal to\n tensor.shape[0], but sum of lengths is\n ".concat(n,", and tensor's shape is: ").concat(e.shape));for(var s=e.shape.slice(1),o=(0,u.mergeElementShape)(s,r),i=0===n?0:e.size/n,p=(0,c.tidy)(function(){var r=[];e=(0,c.reshape)(e,[1,n,i]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:a[s-1],0],l=[1,t[s],i];r[s]=(0,c.reshape)((0,c.slice)(e,u,l),o)}return e.dispose(),r}),f=new l([],r,e.dtype,t.length),d=0;d<p.length;d++)f.setItem(d,p[d]);return f}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","./tensor_utils":"bycwu","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],NBiCR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return u}),a.export(r,"CATEGORY",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),i=e("./utils");function c(e,t,r){var n=(0,s._)((0,i.getParamValue)("fusedOps",e,t,r),2),a=n[0],o=n[1],c="biasadd"===a,u="prelu"===o,l=(0,i.getParamValue)("numArgs",e,t,r);if(c){if(u&&2!==l)throw Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&c&&1!==l)throw Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if("fusedbatchnorm"===a)throw Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var p=(0,i.getParamValue)("strides",e,t,r),f=(0,i.getPadding)(e,t,r),d=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase(),h=(0,i.getParamValue)("dilations",e,t,r),m=(0,s._)((0,i.getParamValue)("args",e,t,r),2),g=m[0],v=m[1];return c||(v=g,g=void 0),{stride:p,pad:f,dataFormat:d,dilations:h,biasArg:g,preluArg:v,activationFunc:o,leakyreluAlpha:(0,i.getParamValue)("leakyreluAlpha",e,t,r)}}var u=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"Conv1D":var a=(0,i.getParamValue)("stride",e,t,r),s=(0,i.getParamValue)("pad",e,t,r),u=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase(),l=(0,i.getParamValue)("dilation",e,t,r);return[n.conv1d((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),a,s,u,l)];case"Conv2D":var p=(0,i.getParamValue)("strides",e,t,r),f=(0,i.getPadding)(e,t,r),d=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase(),h=(0,i.getParamValue)("dilations",e,t,r);return[n.conv2d((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),[p[1],p[2]],f,d,[h[1],h[2]])];case"_FusedConv2D":var m=c(e,t,r),g=m.stride,v=m.pad,_=m.dataFormat,x=m.dilations,y=m.biasArg,b=m.preluArg,k=m.activationFunc,j=m.leakyreluAlpha;return[n.fused.conv2d({x:(0,i.getParamValue)("x",e,t,r),filter:(0,i.getParamValue)("filter",e,t,r),strides:[g[1],g[2]],pad:v,dataFormat:_,dilations:[x[1],x[2]],bias:y,activation:k,preluActivationWeights:b,leakyreluAlpha:j})];case"FusedDepthwiseConv2dNative":var w=c(e,t,r),I=w.stride,T=w.pad,S=w.dataFormat,N=w.dilations,M=w.biasArg,C=w.preluArg,E=w.activationFunc,F=w.leakyreluAlpha;return[n.fused.depthwiseConv2d({x:(0,i.getParamValue)("x",e,t,r),filter:(0,i.getParamValue)("filter",e,t,r),strides:[I[1],I[2]],pad:T,dataFormat:S,dilations:[N[1],N[2]],bias:M,activation:E,preluActivationWeights:C,leakyreluAlpha:F})];case"Conv2DBackpropInput":case"Conv2dTranspose":var A=(0,i.getParamValue)("outputShape",e,t,r),R=(0,i.getParamValue)("strides",e,t,r),P=(0,i.getPadding)(e,t,r);return[n.conv2dTranspose((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),A,[R[1],R[2]],P)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var O=(0,i.getParamValue)("strides",e,t,r),D=(0,i.getPadding)(e,t,r),B=(0,i.getParamValue)("dilations",e,t,r),V=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase();return[n.depthwiseConv2d((0,i.getParamValue)("input",e,t,r),(0,i.getParamValue)("filter",e,t,r),[O[1],O[2]],D,V,[B[1],B[2]])];case"Conv3D":var G=(0,i.getParamValue)("strides",e,t,r),L=(0,i.getParamValue)("pad",e,t,r),q=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase(),z=(0,i.getParamValue)("dilations",e,t,r);return[n.conv3d((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),[G[1],G[2],G[3]],L,q,[z[1],z[2],z[3]])];case"AvgPool":var U=(0,i.getParamValue)("strides",e,t,r),H=(0,i.getParamValue)("pad",e,t,r),W=(0,i.getParamValue)("kernelSize",e,t,r);return[n.avgPool((0,i.getParamValue)("x",e,t,r),[W[1],W[2]],[U[1],U[2]],H)];case"MaxPool":var K=(0,i.getParamValue)("strides",e,t,r),X=(0,i.getParamValue)("pad",e,t,r),Z=(0,i.getParamValue)("kernelSize",e,t,r);return[n.maxPool((0,i.getParamValue)("x",e,t,r),[Z[1],Z[2]],[K[1],K[2]],X)];case"MaxPoolWithArgmax":var Q=(0,i.getParamValue)("strides",e,t,r),J=(0,i.getParamValue)("pad",e,t,r),Y=(0,i.getParamValue)("kernelSize",e,t,r),$=(0,i.getParamValue)("includeBatchInIndex",e,t,r),ee=n.maxPoolWithArgmax((0,i.getParamValue)("x",e,t,r),[Y[1],Y[2]],[Q[1],Q[2]],J,$);return[ee.result,ee.indexes];case"AvgPool3D":var et=(0,i.getParamValue)("strides",e,t,r),er=(0,i.getParamValue)("pad",e,t,r),en=(0,i.getParamValue)("kernelSize",e,t,r);return[n.avgPool3d((0,i.getParamValue)("x",e,t,r),[en[1],en[2],en[3]],[et[1],et[2],et[3]],er)];case"MaxPool3D":var ea=(0,i.getParamValue)("strides",e,t,r),es=(0,i.getParamValue)("pad",e,t,r),eo=(0,i.getParamValue)("kernelSize",e,t,r);return[n.maxPool3d((0,i.getParamValue)("x",e,t,r),[eo[1],eo[2],eo[3]],[ea[1],ea[2],ea[3]],es)];case"Dilation2D":var ei=(0,i.getParamValue)("strides",e,t,r),ec=(0,i.getParamValue)("pad",e,t,r),eu=(0,i.getParamValue)("dilations",e,t,r),el=ei[1],ep=ei[2],ef=eu[1],ed=eu[2];return[n.dilation2d((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),[el,ep],ec,[ef,ed],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},l="convolution"},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jGFiZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"Fill":var a=(0,o.getParamValue)("shape",e,t,r),i=(0,o.getParamValue)("dtype",e,t,r),c=(0,o.getParamValue)("value",e,t,r);return[n.fill(a,c,i)];case"LinSpace":var u=(0,o.getParamValue)("start",e,t,r),l=(0,o.getParamValue)("stop",e,t,r),p=(0,o.getParamValue)("num",e,t,r);return[n.linspace(u,l,p)];case"Multinomial":var f=(0,o.getParamValue)("logits",e,t,r),d=(0,o.getParamValue)("numSamples",e,t,r),h=(0,o.getParamValue)("seed",e,t,r);return[n.multinomial(f,d,h)];case"OneHot":var m=(0,o.getParamValue)("indices",e,t,r),g=(0,o.getParamValue)("depth",e,t,r),v=(0,o.getParamValue)("onValue",e,t,r),_=(0,o.getParamValue)("offValue",e,t,r),x=(0,o.getParamValue)("dtype",e,t,r);return[n.oneHot(m,g,v,_,x)];case"Ones":return[n.ones((0,o.getParamValue)("shape",e,t,r),(0,o.getParamValue)("dtype",e,t,r))];case"OnesLike":return[n.onesLike((0,o.getParamValue)("x",e,t,r))];case"RandomStandardNormal":return[n.randomStandardNormal((0,o.getParamValue)("shape",e,t,r),(0,o.getParamValue)("dtype",e,t,r),(0,o.getParamValue)("seed",e,t,r))];case"RandomUniform":return[n.randomUniform((0,o.getParamValue)("shape",e,t,r),(0,o.getParamValue)("minval",e,t,r),(0,o.getParamValue)("maxval",e,t,r),(0,o.getParamValue)("dtype",e,t,r))];case"RandomUniformInt":return[n.randomUniformInt((0,o.getParamValue)("shape",e,t,r),(0,o.getParamValue)("minval",e,t,r),(0,o.getParamValue)("maxval",e,t,r),(0,o.getParamValue)("seed",e,t,r))];case"Range":var y=(0,o.getParamValue)("start",e,t,r),b=(0,o.getParamValue)("stop",e,t,r),k=(0,o.getParamValue)("step",e,t,r);return[n.range(y,b,k,(0,o.getParamValue)("dtype",e,t,r))];case"TruncatedNormal":var j=(0,o.getParamValue)("shape",e,t,r),w=(0,o.getParamValue)("mean",e,t,r),I=(0,o.getParamValue)("stdDev",e,t,r),T=(0,o.getParamValue)("seed",e,t,r);return[n.truncatedNormal(j,w,I,(0,o.getParamValue)("dtype",e,t,r),T)];case"Zeros":return[n.zeros((0,o.getParamValue)("shape",e,t,r),(0,o.getParamValue)("dtype",e,t,r))];case"ZerosLike":return[n.zerosLike((0,o.getParamValue)("x",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="creation"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8aazQ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return l}),a.export(r,"CATEGORY",function(){return p});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),c=e("./utils");function u(e,t,r){return{boxes:(0,c.getParamValue)("boxes",e,t,r),scores:(0,c.getParamValue)("scores",e,t,r),maxOutputSize:(0,c.getParamValue)("maxOutputSize",e,t,r),iouThreshold:(0,c.getParamValue)("iouThreshold",e,t,r),scoreThreshold:(0,c.getParamValue)("scoreThreshold",e,t,r),softNmsSigma:(0,c.getParamValue)("softNmsSigma",e,t,r)}}var l=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i;return(0,s._)(function(){var n,s,i,l,p,f,d,h,m,g,v,_,x,y,b,k,j,w,I,T,S,N,M,C;return(0,o._)(this,function(o){switch(o.label){case 0:switch(e.op){case"NonMaxSuppressionV5":return[3,1];case"NonMaxSuppressionV4":return[3,3];case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":return[3,5];case"Where":return[3,7];case"ListDiff":return[3,9]}return[3,10];case 1:return s=(n=u(e,t,r)).boxes,i=n.scores,l=n.maxOutputSize,p=n.iouThreshold,f=n.scoreThreshold,d=n.softNmsSigma,[4,a.image.nonMaxSuppressionWithScoreAsync(s,i,l,p,f,d)];case 2:return[2,[(h=o.sent()).selectedIndices,h.selectedScores]];case 3:return g=(m=u(e,t,r)).boxes,v=m.scores,_=m.maxOutputSize,x=m.iouThreshold,y=m.scoreThreshold,b=(0,c.getParamValue)("padToMaxOutputSize",e,t,r),[4,a.image.nonMaxSuppressionPaddedAsync(g,v,_,x,y,b)];case 4:return[2,[(k=o.sent()).selectedIndices,k.validOutputs]];case 5:return w=(j=u(e,t,r)).boxes,I=j.scores,T=j.maxOutputSize,S=j.iouThreshold,N=j.scoreThreshold,[4,a.image.nonMaxSuppressionAsync(w,I,T,S,N)];case 6:return[2,[o.sent()]];case 7:return M=a.cast((0,c.getParamValue)("condition",e,t,r),"bool"),[4,a.whereAsync(M)];case 8:return C=[o.sent()],M.dispose(),[2,C];case 9:return[2,a.setdiff1dAsync((0,c.getParamValue)("x",e,t,r),(0,c.getParamValue)("y",e,t,r))];case 10:throw TypeError("Node type ".concat(e.op," is not implemented"));case 11:return[2]}})})()},p="dynamic"},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1RnWN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"LowerBound":var a=(0,o.getParamValue)("sortedSequence",e,t,r),i=(0,o.getParamValue)("values",e,t,r);return[n.lowerBound(a,i)];case"TopKV2":var c=(0,o.getParamValue)("x",e,t,r),u=(0,o.getParamValue)("k",e,t,r),l=(0,o.getParamValue)("sorted",e,t,r),p=n.topk(c,u,l);return[p.values,p.indices];case"UpperBound":var f=(0,o.getParamValue)("sortedSequence",e,t,r),d=(0,o.getParamValue)("values",e,t,r);return[n.upperBound(f,d)];case"Unique":var h=(0,o.getParamValue)("x",e,t,r),m=n.unique(h);return[m.values,m.indices];case"UniqueV2":var g=(0,o.getParamValue)("x",e,t,r),v=(0,o.getParamValue)("axis",e,t,r),_=n.unique(g,v);return[_.values,_.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="evaluation"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9enKV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var a=(0,o.getParamValue)("default",e,t,r);return[(0,o.getTensor)(e.name,t,r)||a];case"Placeholder":return[(0,o.getTensor)(e.name,t,r)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":var i=(0,o.getParamValue)("x",e,t,r);return[(0,o.cloneTensor)(i)];case"IdentityN":return(0,o.getParamValue)("x",e,t,r).map(function(e){return(0,o.cloneTensor)(e)});case"Snapshot":var c=(0,o.getParamValue)("x",e,t,r);return[(0,o.cloneTensor)(c)];case"Shape":return[n.tensor1d((0,o.getParamValue)("x",e,t,r).shape,"int32")];case"ShapeN":return(0,o.getParamValue)("x",e,t,r).map(function(e){return n.tensor1d(e.shape)});case"Size":return[n.scalar((0,o.getParamValue)("x",e,t,r).size,"int32")];case"Rank":return[n.scalar((0,o.getParamValue)("x",e,t,r).rank,"int32")];case"NoOp":return[n.scalar(1)];case"Print":var u=(0,o.getParamValue)("x",e,t,r),l=(0,o.getParamValue)("data",e,t,r),p=(0,o.getParamValue)("message",e,t,r),f=(0,o.getParamValue)("summarize",e,t,r);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(p);for(var d=0;d<l.length;d++)console.log(Array.prototype.slice.call(l[d].dataSync()).slice(0,f));return[u];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="graph"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cn87X:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return u}),a.export(r,"CATEGORY",function(){return l});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../../executor/hash_table"),c=e("./utils"),u=function(e,t,r,n){return(0,s._)(function(){var a,s,u,l,p,f,d,h,m,g,v;return(0,o._)(this,function(o){switch(o.label){case 0:switch(e.op){case"HashTable":case"HashTableV2":return[3,1];case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":return[3,2];case"LookupTableFind":case"LookupTableFindV2":return[3,4];case"LookupTableSize":case"LookupTableSizeV2":return[3,6]}return[3,7];case 1:if(null!=(a=n.getHashTableHandleByName(e.name)))return[2,[a]];return s=(0,c.getParamValue)("keyDType",e,t,r),u=(0,c.getParamValue)("valueDType",e,t,r),l=new(0,i.HashTable)(s,u),n.addHashTable(e.name,l),[2,[l.handle]];case 2:return p=(0,c.getParamValue)("tableHandle",e,t,r,n),f=(0,c.getParamValue)("keys",e,t,r),d=(0,c.getParamValue)("values",e,t,r),[4,n.getHashTableById(p.id).import(f,d)];case 3:case 5:return[2,[o.sent()]];case 4:return h=(0,c.getParamValue)("tableHandle",e,t,r,n),m=(0,c.getParamValue)("keys",e,t,r),g=(0,c.getParamValue)("defaultValue",e,t,r),[4,n.getHashTableById(h.id).find(m,g)];case 6:return v=(0,c.getParamValue)("tableHandle",e,t,r,n),[2,[n.getHashTableById(v.id).tensorSize()]];case 7:throw TypeError("Node type ".concat(e.op," is not implemented"));case 8:return[2]}})})()},l="hash_table"},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","../../executor/hash_table":"6KNsM","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6KNsM":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"HashTable",function(){return p});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs"),u=e("@tensorflow/tfjs-core"),l=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),p=function(){"use strict";function e(t,r){(0,o._)(this,e),this.keyDType=t,this.valueDType=r,this.handle=(0,u.scalar)(0),this.tensorMap=new Map,(0,u.keep)(this.handle)}return(0,i._)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach(function(e){return e.dispose()}),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return l.scalar(this.size(),"int32")}},{key:"import",value:function(e,t){return(0,s._)(function(){var r,n;return(0,c._)(this,function(a){switch(a.label){case 0:return r=this,this.checkKeyAndValueTensor(e,t),[4,e.data()];case 1:return n=a.sent(),this.tensorMap.forEach(function(e){return e.dispose()}),this.tensorMap.clear(),[2,(0,u.tidy)(function(){var e=(0,u.unstack)(t),a=n.length,s=e.length;u.util.assert(a===s,function(){return"The number of elements doesn't match, keys has "+"".concat(a," elements, the values has ").concat(s," ")+"elements."});for(var o=0;o<a;o++){var i=n[o],c=e[o];(0,u.keep)(c),r.tensorMap.set(i,c)}return r.handle})]}})}).call(this)}},{key:"find",value:function(e,t){return(0,s._)(function(){var r,n;return(0,c._)(this,function(a){switch(a.label){case 0:return r=this,this.checkKeyAndValueTensor(e,t),[4,e.data()];case 1:return n=a.sent(),[2,(0,u.tidy)(function(){for(var e=[],a=0;a<n.length;a++){var s=n[a],o=r.findWithDefault(s,t);e.push(o)}return(0,u.stack)(e)})]}})}).call(this)}},{key:"findWithDefault",value:function(e,t){var r=this.tensorMap.get(e);return null!=r?r:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}()},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","@tensorflow/tfjs-core":"aOH7b","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bOgIb:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"ResizeBilinear":var a=(0,o.getParamValue)("images",e,t,r),i=(0,o.getParamValue)("size",e,t,r),c=(0,o.getParamValue)("alignCorners",e,t,r),u=(0,o.getParamValue)("halfPixelCenters",e,t,r);return[n.image.resizeBilinear(a,[i[0],i[1]],c,u)];case"ResizeNearestNeighbor":var l=(0,o.getParamValue)("images",e,t,r),p=(0,o.getParamValue)("size",e,t,r),f=(0,o.getParamValue)("alignCorners",e,t,r),d=(0,o.getParamValue)("halfPixelCenters",e,t,r);return[n.image.resizeNearestNeighbor(l,[p[0],p[1]],f,d)];case"CropAndResize":var h=(0,o.getParamValue)("image",e,t,r),m=(0,o.getParamValue)("boxes",e,t,r),g=(0,o.getParamValue)("boxInd",e,t,r),v=(0,o.getParamValue)("cropSize",e,t,r),_=(0,o.getParamValue)("method",e,t,r),x=(0,o.getParamValue)("extrapolationValue",e,t,r);return[n.image.cropAndResize(h,m,g,v,_,x)];case"ImageProjectiveTransformV3":var y=(0,o.getParamValue)("images",e,t,r),b=(0,o.getParamValue)("transforms",e,t,r),k=(0,o.getParamValue)("outputShape",e,t,r),j=(0,o.getParamValue)("fillValue",e,t,r),w=(0,o.getParamValue)("interpolation",e,t,r),I=(0,o.getParamValue)("fillMode",e,t,r);return[n.image.transform(y,b,w.toLowerCase(),I.toLowerCase(),j,k)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="image"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aWrMD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"Equal":return[n.equal((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"NotEqual":return[n.notEqual((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"Greater":return[n.greater((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"GreaterEqual":return[n.greaterEqual((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"Less":return[n.less((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"LessEqual":return[n.lessEqual((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"LogicalAnd":return[n.logicalAnd((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"LogicalNot":return[n.logicalNot((0,o.getParamValue)("a",e,t,r))];case"LogicalOr":return[n.logicalOr((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"Select":case"SelectV2":return[n.where((0,o.getParamValue)("condition",e,t,r),(0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];case"BitwiseAnd":return[n.bitwiseAnd((0,o.getParamValue)("a",e,t,r),(0,o.getParamValue)("b",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="logical"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eA6ck:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return u}),a.export(r,"CATEGORY",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),i=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),c=e("./utils"),u=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[n.matMul((0,c.getParamValue)("a",e,t,r),(0,c.getParamValue)("b",e,t,r),(0,c.getParamValue)("transposeA",e,t,r),(0,c.getParamValue)("transposeB",e,t,r))];case"Einsum":return[n.einsum.apply(n,[(0,c.getParamValue)("equation",e,t,r)].concat((0,o._)((0,c.getParamValue)("tensors",e,t,r))))];case"Transpose":return[n.transpose((0,c.getParamValue)("x",e,t,r),(0,c.getParamValue)("perm",e,t,r))];case"_FusedMatMul":var a=(0,s._)((0,c.getParamValue)("fusedOps",e,t,r),2),u=a[0],l=a[1],p="prelu"===l,f=(0,c.getParamValue)("numArgs",e,t,r),d=(0,c.getParamValue)("leakyreluAlpha",e,t,r);if("biasadd"===u){if(p&&2!==f)throw Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!p&&1!==f)throw Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var h=(0,s._)((0,c.getParamValue)("args",e,t,r),2),m=h[0],g=h[1];return[n.fused.matMul({a:(0,c.getParamValue)("a",e,t,r),b:(0,c.getParamValue)("b",e,t,r),transposeA:(0,c.getParamValue)("transposeA",e,t,r),transposeB:(0,c.getParamValue)("transposeB",e,t,r),bias:m,activation:l,preluActivationWeights:g,leakyreluAlpha:d})];case"MatrixBandPart":return[n.linalg.bandPart((0,c.getParamValue)("a",e,t,r),(0,c.getParamValue)("numLower",e,t,r),(0,c.getParamValue)("numUpper",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},l="matrices"},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cshwS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"EuclideanNorm":return[n.euclideanNorm((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("axis",e,t,r),(0,o.getParamValue)("keepDims",e,t,r))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[n.batchNorm((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("mean",e,t,r),(0,o.getParamValue)("variance",e,t,r),(0,o.getParamValue)("offset",e,t,r),(0,o.getParamValue)("scale",e,t,r),(0,o.getParamValue)("epsilon",e,t,r))];case"LRN":return[n.localResponseNormalization((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("radius",e,t,r),(0,o.getParamValue)("bias",e,t,r),(0,o.getParamValue)("alpha",e,t,r),(0,o.getParamValue)("beta",e,t,r))];case"Softmax":return[n.softmax((0,o.getParamValue)("x",e,t,r))];case"LogSoftmax":return[n.logSoftmax((0,o.getParamValue)("x",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="normalization"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4cS63":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"RaggedGather":var a=n.raggedGather((0,o.getParamValue)("paramsNestedSplits",e,t,r),(0,o.getParamValue)("paramsDenseValues",e,t,r),(0,o.getParamValue)("indices",e,t,r),(0,o.getParamValue)("outputRaggedRank",e,t,r)),i=a.outputNestedSplits,c=a.outputDenseValues;return i.concat(c);case"RaggedRange":var u=n.raggedRange((0,o.getParamValue)("starts",e,t,r),(0,o.getParamValue)("limits",e,t,r),(0,o.getParamValue)("splits",e,t,r));return[u.rtNestedSplits,u.rtDenseValues];case"RaggedTensorToTensor":return[n.raggedTensorToTensor((0,o.getParamValue)("shape",e,t,r),(0,o.getParamValue)("values",e,t,r),(0,o.getParamValue)("defaultValue",e,t,r),(0,o.getParamValue)("rowPartitionTensors",e,t,r),(0,o.getParamValue)("rowPartitionTypes",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="ragged"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"22xKq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"Max":var a=(0,o.getParamValue)("axis",e,t,r),i=(0,o.getParamValue)("keepDims",e,t,r);return[n.max((0,o.getParamValue)("x",e,t,r),a,i)];case"Mean":var c=(0,o.getParamValue)("axis",e,t,r),u=(0,o.getParamValue)("keepDims",e,t,r);return[n.mean((0,o.getParamValue)("x",e,t,r),c,u)];case"Min":var l=(0,o.getParamValue)("axis",e,t,r),p=(0,o.getParamValue)("keepDims",e,t,r);return[n.min((0,o.getParamValue)("x",e,t,r),l,p)];case"Sum":var f=(0,o.getParamValue)("axis",e,t,r),d=(0,o.getParamValue)("keepDims",e,t,r);return[n.sum((0,o.getParamValue)("x",e,t,r),f,d)];case"All":var h=(0,o.getParamValue)("axis",e,t,r),m=(0,o.getParamValue)("keepDims",e,t,r);return[n.all((0,o.getParamValue)("x",e,t,r),h,m)];case"Any":var g=(0,o.getParamValue)("axis",e,t,r),v=(0,o.getParamValue)("keepDims",e,t,r);return[n.any((0,o.getParamValue)("x",e,t,r),g,v)];case"ArgMax":var _=(0,o.getParamValue)("axis",e,t,r);return[n.argMax((0,o.getParamValue)("x",e,t,r),_)];case"ArgMin":var x=(0,o.getParamValue)("axis",e,t,r);return[n.argMin((0,o.getParamValue)("x",e,t,r),x)];case"Prod":var y=(0,o.getParamValue)("axis",e,t,r),b=(0,o.getParamValue)("keepDims",e,t,r);return[n.prod((0,o.getParamValue)("x",e,t,r),y,b)];case"Cumprod":var k=(0,o.getParamValue)("axis",e,t,r),j=(0,o.getParamValue)("exclusive",e,t,r),w=(0,o.getParamValue)("reverse",e,t,r);return[n.cumprod((0,o.getParamValue)("x",e,t,r),k,j,w)];case"Cumsum":var I=(0,o.getParamValue)("axis",e,t,r),T=(0,o.getParamValue)("exclusive",e,t,r),S=(0,o.getParamValue)("reverse",e,t,r);return[n.cumsum((0,o.getParamValue)("x",e,t,r),I,T,S)];case"Bincount":var N=(0,o.getParamValue)("x",e,t,r),M=(0,o.getParamValue)("weights",e,t,r),C=(0,o.getParamValue)("size",e,t,r);return[n.bincount(N,M,C)];case"DenseBincount":var E=(0,o.getParamValue)("x",e,t,r),F=(0,o.getParamValue)("weights",e,t,r),A=(0,o.getParamValue)("size",e,t,r),R=(0,o.getParamValue)("binaryOutput",e,t,r);return[n.denseBincount(E,F,A,R)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="reduction"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hcTcK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return c}),a.export(r,"CATEGORY",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),i=e("./utils"),c=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"ConcatV2":case"Concat":var a=(0,i.getParamValue)("n",e,t,r),c=(0,i.getParamValue)("axis",e,t,r),u=(0,i.getParamValue)("tensors",e,t,r);return u=u.slice(0,a),[n.concat(u,c)];case"Gather":var l=(0,i.getParamValue)("x",e,t,r),p=(0,i.getParamValue)("indices",e,t,r);return[n.gather(l,n.cast(p,"int32"),0)];case"GatherV2":var f=(0,i.getParamValue)("axis",e,t,r),d=(0,i.getParamValue)("batchDims",e,t,r),h=(0,i.getParamValue)("x",e,t,r),m=(0,i.getParamValue)("indices",e,t,r);return[n.gather(h,n.cast(m,"int32"),f,d)];case"Reverse":for(var g=(0,i.getParamValue)("dims",e,t,r),v=[],_=0;_<g.length;_++)g[_]&&v.push(_);var x=(0,i.getParamValue)("x",e,t,r);return[n.reverse(x,v)];case"ReverseV2":var y=(0,i.getParamValue)("axis",e,t,r),b=(0,i.getParamValue)("x",e,t,r);return[n.reverse(b,y)];case"Slice":var k=(0,i.getParamValue)("begin",e,t,r),j=(0,i.getParamValue)("size",e,t,r);return[n.slice((0,i.getParamValue)("x",e,t,r),k,j)];case"StridedSlice":var w=(0,i.getParamValue)("begin",e,t,r),I=(0,i.getParamValue)("end",e,t,r),T=(0,i.getParamValue)("strides",e,t,r),S=(0,i.getParamValue)("beginMask",e,t,r),N=(0,i.getParamValue)("endMask",e,t,r),M=(0,i.getParamValue)("ellipsisMask",e,t,r),C=(0,i.getParamValue)("newAxisMask",e,t,r),E=(0,i.getParamValue)("shrinkAxisMask",e,t,r),F=(0,i.getParamValue)("x",e,t,r);return[n.stridedSlice(F,w,I,T,S,N,M,C,E)];case"Pack":return(0,s.tidy)(function(){var a=(0,i.getParamValue)("axis",e,t,r),o=(0,i.getParamValue)("tensors",e,t,r),c=o[0].shape,u=n.squeeze(o[0]).shape,l=o.map(function(e){var t=s.util.arraysEqual(e.shape,c);if(!t&&!s.util.arraysEqual(n.squeeze(e).shape,u))throw Error("the input tensors shape does not match");return t?e:n.reshape(e,c)});return[n.stack(l,a)]});case"Unpack":var A=(0,i.getParamValue)("axis",e,t,r),R=(0,i.getParamValue)("tensor",e,t,r);return n.unstack(R,A);case"Tile":var P=(0,i.getParamValue)("reps",e,t,r);return[n.tile((0,i.getParamValue)("x",e,t,r),P)];case"Split":case"SplitV":var O=(0,i.getParamValue)("axis",e,t,r),D=(0,i.getParamValue)("numOrSizeSplits",e,t,r),B=(0,i.getParamValue)("x",e,t,r);return n.split(B,D,O);case"ScatterNd":var V=(0,i.getParamValue)("indices",e,t,r),G=(0,i.getParamValue)("values",e,t,r),L=(0,i.getParamValue)("shape",e,t,r);return[n.scatterND(V,G,L)];case"GatherNd":var q=(0,i.getParamValue)("x",e,t,r),z=(0,i.getParamValue)("indices",e,t,r);return[n.gatherND(q,z)];case"SparseToDense":var U=(0,i.getParamValue)("sparseIndices",e,t,r),H=(0,i.getParamValue)("outputShape",e,t,r),W=(0,i.getParamValue)("sparseValues",e,t,r),K=(0,i.getParamValue)("defaultValue",e,t,r);return[n.sparseToDense(U,W,H,W.dtype===K.dtype?K:n.cast(K,W.dtype))];case"TensorScatterUpdate":var X=(0,i.getParamValue)("indices",e,t,r),Z=(0,i.getParamValue)("values",e,t,r),Q=(0,i.getParamValue)("tensor",e,t,r);return[n.tensorScatterUpdate(Q,X,Z)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},u="slice_join"},{"@tensorflow/tfjs-core":"aOH7b","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8qjB2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"SparseFillEmptyRows":var a=n.sparse.sparseFillEmptyRows((0,o.getParamValue)("indices",e,t,r),(0,o.getParamValue)("values",e,t,r),(0,o.getParamValue)("denseShape",e,t,r),(0,o.getParamValue)("defaultValue",e,t,r));return[a.outputIndices,a.outputValues,a.emptyRowIndicator,a.reverseIndexMap];case"SparseReshape":var i=n.sparse.sparseReshape((0,o.getParamValue)("inputIndices",e,t,r),(0,o.getParamValue)("inputShape",e,t,r),(0,o.getParamValue)("newShape",e,t,r));return[i.outputIndices,i.outputShape];case"SparseSegmentMean":return[n.sparse.sparseSegmentMean((0,o.getParamValue)("data",e,t,r),(0,o.getParamValue)("indices",e,t,r),(0,o.getParamValue)("segmentIds",e,t,r))];case"SparseSegmentSum":return[n.sparse.sparseSegmentSum((0,o.getParamValue)("data",e,t,r),(0,o.getParamValue)("indices",e,t,r),(0,o.getParamValue)("segmentIds",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="sparse"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],d9o6q:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"FFT":return[n.fft((0,o.getParamValue)("x",e,t,r))];case"IFFT":return[n.ifft((0,o.getParamValue)("x",e,t,r))];case"RFFT":return[n.rfft((0,o.getParamValue)("x",e,t,r))];case"IRFFT":return[n.irfft((0,o.getParamValue)("x",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="spectral"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ac8kk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"StaticRegexReplace":return[n.string.staticRegexReplace((0,o.getParamValue)("input",e,t,r),(0,o.getParamValue)("pattern",e,t,r),(0,o.getParamValue)("rewrite",e,t,r),(0,o.getParamValue)("replaceGlobal",e,t,r))];case"StringNGrams":var a=n.string.stringNGrams((0,o.getParamValue)("data",e,t,r),(0,o.getParamValue)("dataSplits",e,t,r),(0,o.getParamValue)("separator",e,t,r),(0,o.getParamValue)("nGramWidths",e,t,r),(0,o.getParamValue)("leftPad",e,t,r),(0,o.getParamValue)("rightPad",e,t,r),(0,o.getParamValue)("padWidth",e,t,r),(0,o.getParamValue)("preserveShortSequences",e,t,r));return[a.nGrams,a.nGramsSplits];case"StringSplit":var i=n.string.stringSplit((0,o.getParamValue)("input",e,t,r),(0,o.getParamValue)("delimiter",e,t,r),(0,o.getParamValue)("skipEmpty",e,t,r));return[i.indices,i.values,i.shape];case"StringToHashBucketFast":return[n.string.stringToHashBucketFast((0,o.getParamValue)("input",e,t,r),(0,o.getParamValue)("numBuckets",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="string"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fOQ5Q:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),o=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"Cast":return[n.cast((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("dtype",e,t,r))];case"ExpandDims":var a=(0,o.getParamValue)("axis",e,t,r);return[n.expandDims((0,o.getParamValue)("x",e,t,r),a)];case"Squeeze":var i=(0,o.getParamValue)("axis",e,t,r);return[n.squeeze((0,o.getParamValue)("x",e,t,r),i)];case"Reshape":return[n.reshape((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("shape",e,t,r))];case"EnsureShape":return[n.ensureShape((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("shape",e,t,r))];case"MirrorPad":return[n.mirrorPad((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("padding",e,t,r),(0,o.getParamValue)("mode",e,t,r))];case"PadV2":case"Pad":return[n.pad((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("padding",e,t,r),(0,o.getParamValue)("constantValue",e,t,r))];case"SpaceToBatchND":var c=(0,o.getParamValue)("blockShape",e,t,r),u=(0,o.getParamValue)("paddings",e,t,r);return[n.spaceToBatchND((0,o.getParamValue)("x",e,t,r),c,u)];case"BatchToSpaceND":var l=(0,o.getParamValue)("blockShape",e,t,r),p=(0,o.getParamValue)("crops",e,t,r);return[n.batchToSpaceND((0,o.getParamValue)("x",e,t,r),l,p)];case"DepthToSpace":var f=(0,o.getParamValue)("blockSize",e,t,r),d=(0,o.getParamValue)("dataFormat",e,t,r).toUpperCase();return[n.depthToSpace((0,o.getParamValue)("x",e,t,r),f,d)];case"BroadcastTo":return[n.broadcastTo((0,o.getParamValue)("x",e,t,r),(0,o.getParamValue)("shape",e,t,r))];case"BroadcastArgs":return[n.broadcastArgs((0,o.getParamValue)("s0",e,t,r),(0,o.getParamValue)("s1",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="transformation"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"jOT0e","./utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jHfQa:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ExecutionContext",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;(0,s._)(this,e),this.weightMap=t,this.tensorArrayMap=r,this.tensorListMap=n,this.functionMap=a,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,o._)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var r=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map(function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)}).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw Error("Cannot exit frame, the context is empty")}},{key:"nextIteration",value:function(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw Error("Cannot increase frame iteration, the context is empty")}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var r in this.tensorListMap)this.tensorListMap[r].clearAndClose(e)}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"132yy":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getExecutionSubgraph",function(){return f}),a.export(r,"getNodesInTopologicalOrder",function(){return d}),a.export(r,"getNodeLiveUntilMap",function(){return m}),a.export(r,"isControlFlow",function(){return x}),a.export(r,"isDynamicShape",function(){return y}),a.export(r,"isHashTable",function(){return b});var s=e("@swc/helpers/cjs/_call_super.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_inherits.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_to_consumable_array.cjs"),l=e("@swc/helpers/cjs/_wrap_native_super.cjs"),p=e("../operations/executors/utils");function f(e,t,r,n){for(var a=new Set,s=[],o=null,i=null,c=new Set,l=new Set(Object.keys(e).map(function(e){return(0,p.parseNodeName)(e)[0]})),f=new Set((n=n||[]).map(function(e){return(0,p.parseNodeName)(e.name)[0]})),d=(0,u._)(t);d.length>0;){var h=d.pop();if((x(h)||y(h)||b(h))&&null==o&&(i=(o=h).children.map(function(e){return e.name}).filter(function(e){return a.has(e)})),a.add(h.name),!(null!=r[h.name]||l.has(h.name)||f.has(h.name))){if(0===h.inputs.length){s.push(h.name);continue}h.inputs.forEach(function(e){c.has(e.name)||(c.add(e.name),d.push(e))})}}return{inputs:e,outputs:t,usedNodes:a,missingInputs:s,dynamicNode:o,syncInputs:i}}function d(e,t){var r=t.usedNodes,n=Object.keys(t.inputs).map(function(e){return(0,p.parseNodeName)(e)[0]}).map(function(t){return e.nodes[t]}),a=e.initNodes||[],s=function(e){return r.has("string"==typeof e?e:e.name)};function o(e){return(0,u._)(new Map(e.map(function(e){return[e.name,e]})).values())}var i=o((0,u._)(n).concat((0,u._)(e.weights),(0,u._)(a))).filter(s),l=o((0,u._)(i).concat((0,u._)(Object.values(e.nodes)))).filter(s),f=new Map(l.map(function(e){return[e.name,e]})),d={},m=!0,g=!1,v=void 0;try{for(var _,x=l[Symbol.iterator]();!(m=(_=x.next()).done);m=!0){var y=_.value;d[y.name]=d[y.name]||0;var b=!0,k=!1,j=void 0;try{for(var w,I=y.children[Symbol.iterator]();!(b=(w=I.next()).done);b=!0){var T=w.value;s(T)||(d[T.name]=1/0),d[T.name]=(d[T.name]||0)+1}}catch(e){k=!0,j=e}finally{try{b||null==I.return||I.return()}finally{if(k)throw j}}}}catch(e){g=!0,v=e}finally{try{m||null==x.return||x.return()}finally{if(g)throw v}}for(var S=Object.entries(d).filter(function(e){return 0===(0,c._)(e,2)[1]}).map(function(e){return(0,c._)(e,1)[0]}),N=(0,u._)(S);S.length>0;){var M=S.pop(),C=f.get(M),E=!0,F=!1,A=void 0;try{for(var R,P=C.children.filter(s)[Symbol.iterator]();!(E=(R=P.next()).done);E=!0){var O=R.value;0==--d[O.name]&&(N.push(O.name),S.push(O.name))}}catch(e){F=!0,A=e}finally{try{E||null==P.return||P.return()}finally{if(F)throw A}}}var D=function(e,t){for(var r=new Map(e.map(function(e){return[e.name,e]})),n=t.map(function(e){return e.name}),a=new Set(n);n.length>0;){var s=n.pop(),o=r.get(s),i=!0,c=!1,u=void 0;try{for(var l,p=o.children[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var f=l.value;!r.has(f.name)||a.has(f.name)||(a.add(f.name),n.push(f.name))}}catch(e){c=!0,u=e}finally{try{i||null==p.return||p.return()}finally{if(c)throw u}}}return e.filter(function(e){return a.has(e.name)})}(N.map(function(e){return f.get(e)}),i);return function(e,t){var r=new Map(e.map(function(e,t){return[e.name,t]})),n=new Set(t.map(function(e){return e.name})),a=new Set(e.map(function(e){return e.name})),s=function(e){return a.has("string"==typeof e?e:e.name)},o=!0,i=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var p=u.value,f=!0,d=!1,m=void 0;try{for(var g,v=p.children.filter(s)[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var _=g.value;if(!r.has(_.name))throw new h("Child ".concat(_.name," of node ").concat(p.name," is unreachable."));if(r.get(p.name)>r.get(_.name))throw new h("Node ".concat(p.name," is scheduled to run after its child ").concat(_.name,"."))}}catch(e){d=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(d)throw m}}var x=!0,y=!1,b=void 0;if(!n.has("string"==typeof p?p:p.name))try{for(var k,j=p.inputs[Symbol.iterator]();!(x=(k=j.next()).done);x=!0){var w=k.value;if(!r.has(w.name))throw new h("Input ".concat(w.name," of node ").concat(p.name," is unreachable."));if(r.get(w.name)>r.get(p.name))throw new h("Node ".concat(p.name," is scheduled to run before its input ").concat(w.name,"."))}}catch(e){y=!0,b=e}finally{try{x||null==j.return||j.return()}finally{if(y)throw b}}}}catch(e){i=!0,c=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw c}}}(D,i),D}var h=function(e){"use strict";function t(e){return(0,o._)(this,t),(0,s._)(this,t,["NodesExecutionOrderError: ".concat(e)])}return(0,i._)(t,e),t}((0,l._)(Error));function m(e){for(var t=new Map(e.map(function(e,t){return[e.name,t]})),r=Number.MAX_SAFE_INTEGER,n=e.map(function(e,t){return x(e)?r:t}),a=function(e){var r=n[t.get(e.name)];return null==r?-1:r},s=e.map(function(e,t){return e.children.map(a).reduce(function(e,t){return Math.max(e,t)},n[t])}),o=new Map,i=0;i<e.length;++i){var c=s[i];if(c!==r){var u=e[i],l=e[c];o.has(l.name)||o.set(l.name,[]),o.get(l.name).push(u)}}return o}var g=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),v=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),_=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function x(e){return g.has(e.op)}function y(e){return v.has(e.op)}function b(e){return _.has(e.op)}},{"@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_wrap_native_super.cjs":"j8pRR","../operations/executors/utils":"iVfKK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],j8pRR:[function(e,t,r,n){"use strict";var a=e("c8857d56f4968279"),s=e("2ed7bdf1701f2d07"),o=e("5c5ad8846076b9cd"),i=e("2db6fa09e8a5be4c");function c(e){var t="function"==typeof Map?new Map:void 0;return r._=c=function(e){if(null===e||!o._(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a._(e,arguments,s._(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i._(r,e)},c(e)}r._=c},{c8857d56f4968279:"bC52X","2ed7bdf1701f2d07":"NOGHw","5c5ad8846076b9cd":"1mpbk","2db6fa09e8a5be4c":"7ubVA"}],bC52X:[function(e,t,r,n){"use strict";var a=e("62fc231ae2e75266"),s=e("3f98bf9d4f706151");function o(e,t,n){return a._()?r._=o=Reflect.construct:r._=o=function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&s._(a,r.prototype),a},o.apply(null,arguments)}r._=o},{"62fc231ae2e75266":"83nDe","3f98bf9d4f706151":"7ubVA"}],"1mpbk":[function(e,t,r,n){"use strict";r._=function(e){return -1!==Function.toString.call(e).indexOf("[native code]")}},{}],gfBLD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResourceManager",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s._)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=r}return(0,o._)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5CLf8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version",function(){return s});var s="4.22.0"},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8XgMo":[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");(function(){"use strict";function e(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var t,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},n=function(e){e=["object"==("undefined"==typeof globalThis?"undefined":(0,a._)(globalThis))&&globalThis,e,"object"==("undefined"==typeof window?"undefined":(0,a._)(window))&&window,"object"==("undefined"==typeof self?"undefined":(0,a._)(self))&&self,"object"==("undefined"==typeof global?"undefined":(0,a._)(global))&&global];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function s(e,t){if(t)e:{var a=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in a))break e;a=a[o]}(t=t(s=a[e=e[e.length-1]]))!=s&&null!=t&&r(a,e,{configurable:!0,writable:!0,value:t})}}function o(t){var r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:e(t)}}function i(e){if(!(e instanceof Array)){e=o(e);for(var t,r=[];!(t=e.next()).done;)r.push(t.value);e=r}return e}s("Symbol",function(e){function t(e,t){this.h=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",a=0;return function e(r){if(this instanceof e)throw TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+a++,r)}}),s("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),s=0;s<a.length;s++){var o=n[a[s]];"function"==typeof o&&"function"!=typeof o.prototype[t]&&r(o.prototype,t,{configurable:!0,writable:!0,value:function(){var t;return(t={next:t=e(this)})[Symbol.iterator]=function(){return this},t}})}return t});var c="function"==typeof Object.assign?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};s("Object.assign",function(e){return e||c});var u,l,p="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{e:{var f={};try{f.__proto__={a:!0},$=f.a;break e}catch(e){}$=!1}l=$?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw TypeError(e+" is not extensible");return e}:null}var d=l;function h(e,t){if(e.prototype=p(t.prototype),e.prototype.constructor=e,d)d(e,t);else for(var r in t)if("prototype"!=r)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}else e[r]=t[r];e.za=t.prototype}function m(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function g(e){if(e.m)throw TypeError("Generator is already running");e.m=!0}function v(e,t){e.l={ma:t,na:!0},e.h=e.s||e.v}function _(e,t,r){return e.h=r,{value:t}}function x(e){this.h=new m,this.i=e}function y(e,t,r,n){try{var a=t.call(e.h.j,r);if(!(a instanceof Object))throw TypeError("Iterator result "+a+" is not an object");if(!a.done)return e.h.m=!1,a;var s=a.value}catch(t){return e.h.j=null,v(e.h,t),b(e)}return e.h.j=null,n.call(e.h,s),b(e)}function b(e){for(;e.h.h;)try{var t=e.i(e.h);if(t)return e.h.m=!1,{value:t.value,done:!1}}catch(t){e.h.i=void 0,v(e.h,t)}if(e.h.m=!1,e.h.l){if(t=e.h.l,e.h.l=null,t.na)throw t.ma;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return g(e.h),e.h.j?t=y(e,e.h.j.next,t,e.h.u):(e.h.u(t),t=b(e)),t},this.throw=function(t){return g(e.h),e.h.j?t=y(e,e.h.j.throw,t,e.h.u):(v(e.h,t),t=b(e)),t},this.return=function(t){var r;return g(e.h),(r=e.h.j)?y(e,"return"in r?r.return:function(e){return{value:e,done:!0}},t,e.h.return):(e.h.return(t),b(e))},this[Symbol.iterator]=function(){return this}}function j(e){var t=new k(new x(e));function r(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise(function(e,a){!function t(s){s.done?e(s.value):Promise.resolve(s.value).then(r,n).then(t,a)}(t.next())})}function w(e){return e||Array.prototype.fill}m.prototype.u=function(e){this.i=e},m.prototype.return=function(e){this.l={return:e},this.h=this.v},s("Promise",function(e){function t(e){this.i=0,this.j=void 0,this.h=[],this.u=!1;var t=this.l();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.h=null}function s(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;r.prototype.i=function(e){if(null==this.h){this.h=[];var t=this;this.j(function(){t.m()})}this.h.push(e)};var i=n.setTimeout;r.prototype.j=function(e){i(e,0)},r.prototype.m=function(){for(;this.h&&this.h.length;){var e=this.h;this.h=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(e){this.l(e)}}}this.h=null},r.prototype.l=function(e){this.j(function(){throw e})},t.prototype.l=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.I),reject:e(this.m)}},t.prototype.I=function(e){if(e===this)this.m(TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.L(e);else{switch(void 0===e?"undefined":(0,a._)(e)){case"object":var r=null!=e;break;case"function":r=!0;break;default:r=!1}r?this.F(e):this.s(e)}},t.prototype.F=function(e){var t=void 0;try{t=e.then}catch(e){this.m(e);return}"function"==typeof t?this.M(t,e):this.s(e)},t.prototype.m=function(e){this.v(2,e)},t.prototype.s=function(e){this.v(1,e)},t.prototype.v=function(e,t){if(0!=this.i)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.i);this.i=e,this.j=t,2===this.i&&this.K(),this.H()},t.prototype.K=function(){var e=this;i(function(){if(e.D()){var t=n.console;void 0!==t&&t.error(e.j)}},1)},t.prototype.D=function(){if(this.u)return!1;var e=n.CustomEvent,t=n.Event,r=n.dispatchEvent;return void 0===r||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=n.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.j,r(e))},t.prototype.H=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)c.i(this.h[e]);this.h=null}};var c=new r;return t.prototype.L=function(e){var t=this.l();e.T(t.resolve,t.reject)},t.prototype.M=function(e,t){var r=this.l();try{e.call(t,r.resolve,r.reject)}catch(e){r.reject(e)}},t.prototype.then=function(e,r){function n(e,t){return"function"==typeof e?function(t){try{a(e(t))}catch(e){s(e)}}:t}var a,s,o=new t(function(e,t){a=e,s=t});return this.T(n(e,a),n(r,s)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.T=function(e,t){function r(){switch(n.i){case 1:e(n.j);break;case 2:t(n.j);break;default:throw Error("Unexpected state: "+n.i)}}var n=this;null==this.h?c.i(r):this.h.push(r),this.u=!0},t.resolve=s,t.reject=function(e){return new t(function(t,r){r(e)})},t.race=function(e){return new t(function(t,r){for(var n=o(e),a=n.next();!a.done;a=n.next())s(a.value).T(t,r)})},t.all=function(e){var r=o(e),n=r.next();return n.done?s([]):new t(function(e,t){var a=[],o=0;do a.push(void 0),o++,s(n.value).T(function(t){return function(r){a[t]=r,0==--o&&e(a)}}(a.length-1),t),n=r.next();while(!n.done)})},t}),s("Array.prototype.keys",function(e){return e||function(){var e,t,r,n,a;return e=this,t=function(e){return e},e instanceof String&&(e+=""),r=0,n=!1,(a={next:function(){if(!n&&r<e.length){var a=r++;return{value:t(a,e[a]),done:!1}}return n=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return a},a}}),s("Array.prototype.fill",function(e){return e||function(e,t,r){var n=this.length||0;for(0>t&&(t=Math.max(0,n+t)),(null==r||r>n)&&(r=n),0>(r=Number(r))&&(r=Math.max(0,n+r)),t=Number(t||0);t<r;t++)this[t]=e;return this}}),s("Int8Array.prototype.fill",w),s("Uint8Array.prototype.fill",w),s("Uint8ClampedArray.prototype.fill",w),s("Int16Array.prototype.fill",w),s("Uint16Array.prototype.fill",w),s("Int32Array.prototype.fill",w),s("Uint32Array.prototype.fill",w),s("Float32Array.prototype.fill",w),s("Float64Array.prototype.fill",w),s("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),s("Array.prototype.includes",function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length;for(0>(t=t||0)&&(t=Math.max(t+n,0));t<n;t++){var a=r[t];if(a===e||Object.is(a,e))return!0}return!1}}),s("String.prototype.includes",function(e){return e||function(e,t){if(null==this)throw TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw TypeError("First argument to String.prototype.includes must not be a regular expression");return -1!==this.indexOf(e,t||0)}});var I=this||self;function T(e,t){e=e.split(".");var r,n=I;for((e[0]in n)||void 0===n.execScript||n.execScript("var "+e[0]);e.length&&(r=e.shift());)e.length||void 0===t?n=n[r]&&n[r]!==Object.prototype[r]?n[r]:n[r]={}:n[r]=t}function S(e){var t;return(t=I.navigator)&&(t=t.userAgent)||(t=""),-1!=t.indexOf(e)}var N=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var r=e.length,n=Array(r),a="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in a&&(n[s]=t.call(void 0,a[s],s,e));return n},M={},C=null;function E(){if(!C){C={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));M[r]=n;for(var a=0;a<n.length;a++){var s=n[a];void 0===C[s]&&(C[s]=a)}}}}var F="undefined"!=typeof Uint8Array,A=!(S("Trident")||S("MSIE"))&&"function"==typeof I.btoa;function R(e){if(!A){var t;void 0===t&&(t=0),E(),t=M[t];for(var r=Array(Math.floor(e.length/3)),n=t[64]||"",a=0,s=0;a<e.length-2;a+=3){var o=e[a],i=e[a+1],c=e[a+2],u=t[o>>2];o=t[(3&o)<<4|i>>4],i=t[(15&i)<<2|c>>6],c=t[63&c],r[s++]=u+o+i+c}switch(u=0,c=n,e.length-a){case 2:c=t[(15&(u=e[a+1]))<<2]||n;case 1:e=e[a],r[s]=t[e>>2]+t[(3&e)<<4|u>>4]+c+n}return r.join("")}for(t="";10240<e.length;)t+=String.fromCharCode.apply(null,e.subarray(0,10240)),e=e.subarray(10240);return btoa(t+=String.fromCharCode.apply(null,e))}var P=RegExp("[-_.]","g");function O(e){switch(e){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function D(e){if(!A){var t,r,n,a,s;return(n=3*(r=(t=e).length)/4)%3?n=Math.floor(n):-1!="=.".indexOf(t[r-1])&&(n=-1!="=.".indexOf(t[r-2])?n-2:n-1),a=new Uint8Array(n),s=0,function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),a=C[r];if(null!=a)return a;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return t}E();for(var n=0;;){var a=r(-1),s=r(0),o=r(64),i=r(64);if(64===i&&-1===a)break;t(a<<2|s>>4),64!=o&&(t(s<<4&240|o>>2),64!=i&&t(o<<6&192|i))}}(t,function(e){a[s++]=e}),s!==n?a.subarray(0,s):a}P.test(e)&&(e=e.replace(P,O)),e=atob(e);for(var o=new Uint8Array(e.length),i=0;i<e.length;i++)o[i]=e.charCodeAt(i);return o}function B(){return ee||(ee=new Uint8Array(0))}var V={},G="function"==typeof Uint8Array.prototype.slice,L=0,q=0;function z(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/0x100000000),t&&(t=(r=o(H(r,e))).next().value,e=r.next().value,r=t),L=r>>>0,q=e>>>0}var U="function"==typeof BigInt;function H(e,t){return t=~t,e?e=~e+1:t+=1,[e,t]}function W(e,t){this.i=e>>>0,this.h=t>>>0}function K(e){if(!e)return et||(et=new W(0,0));if(!/^-?\d+$/.test(e))return null;if(16>e.length)z(Number(e));else if(U)L=Number((e=BigInt(e))&BigInt(0xffffffff))>>>0,q=Number(e>>BigInt(32)&BigInt(0xffffffff));else{var t=+("-"===e[0]);q=L=0;for(var r=e.length,n=t,a=(r-t)%6+t;a<=r;n=a,a+=6)n=Number(e.slice(n,a)),q*=1e6,0x100000000<=(L=1e6*L+n)&&(q+=L/0x100000000|0,L%=0x100000000);t&&(e=(t=o(H(L,q))).next().value,t=t.next().value,L=e,q=t)}return new W(L,q)}function X(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function Z(){return Error("Failed to read varint, encoding is invalid.")}function Q(e,t){return Error("Tried to read past the end of the data "+t+" >"+e)}function J(){throw Error("Invalid UTF8")}function Y(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var $,ee,et,er,en,ea=void 0,es="undefined"!=typeof TextDecoder,eo="undefined"!=typeof TextEncoder;function ei(e){if(e!==V)throw Error("illegal external caller")}function ec(e,t){if(ei(t),this.V=e,null!=e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}function eu(){return eR||(eR=new ec(null,V))}function el(e){ei(V);var t=e.V;return null==(t=null==t||F&&null!=t&&t instanceof Uint8Array?t:"string"==typeof t?D(t):null)?t:e.V=t}function ep(e,t){this.i=null,this.m=!1,this.h=this.j=this.l=0,ef(this,e,t)}function ef(e,t,r){e.S=void 0!==(r=void 0===r?{}:r).S&&r.S,t&&(e.i=(t=function(e){if("string"==typeof e)return{buffer:D(e),C:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),C:!1};if(e.constructor===Uint8Array)return{buffer:e,C:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),C:!1};if(e.constructor===ec)return{buffer:el(e)||B(),C:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}(t)).buffer,e.m=t.C,e.l=0,e.j=e.i.length,e.h=e.l)}function ed(e,t){if(e.h=t,t>e.j)throw Q(e.j,t)}function eh(e){var t=e.i,r=e.h,n=t[r++],a=127&n;if(128&n&&(a|=(127&(n=t[r++]))<<7,128&n&&(a|=(127&(n=t[r++]))<<14,128&n&&(a|=(127&(n=t[r++]))<<21,128&n&&(a|=(n=t[r++])<<28,128&n&&128&t[r++]&&128&t[r++]&&128&t[r++]&&128&t[r++]&&128&t[r++])))))throw Z();return ed(e,r),a}function em(e,t){if(0>t)throw Error("Tried to read a negative byte length: "+t);var r=e.h,n=r+t;if(n>e.j)throw Q(t,e.j-r);return e.h=n,r}ep.prototype.reset=function(){this.h=this.l};var eg=[];function ev(){this.h=[]}function e_(e,t,r){for(;0<r||127<t;)e.h.push(127&t|128),t=(t>>>7|r<<25)>>>0,r>>>=7;e.h.push(t)}function ex(e,t){for(;127<t;)e.h.push(127&t|128),t>>>=7;e.h.push(t)}function ey(e,t){if(eg.length){var r=eg.pop();ef(r,e,t),e=r}else e=new ep(e,t);this.h=e,this.j=this.h.h,this.i=this.l=-1,this.setOptions(t)}function eb(e){var t=e.h;if(t.h==t.j)return!1;e.j=e.h.h;var r=eh(e.h)>>>0;if(t=r>>>3,!(0<=(r&=7)&&5>=r))throw X(r,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.l=t,e.i=r,!0}ev.prototype.length=function(){return this.h.length},ev.prototype.end=function(){var e=this.h;return this.h=[],e},ey.prototype.setOptions=function(e){e=void 0===e?{}:e,this.ca=void 0!==e.ca&&e.ca},ey.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};var ek=[];function ej(){this.j=[],this.i=0,this.h=new ev}function ew(e,t){0!==t.length&&(e.j.push(t),e.i+=t.length)}var eI="function"==typeof Symbol&&"symbol"===(0,a._)(Symbol())?Symbol():void 0;function eT(e,t){return eI?e[eI]|=t:void 0!==e.A?e.A|=t:(Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}}),t)}function eS(e,t){eI?e[eI]&&(e[eI]&=~t):void 0!==e.A&&(e.A&=~t)}function eN(e){var t;return null==(t=eI?e[eI]:e.A)?0:t}function eM(e,t){eI?e[eI]=t:void 0!==e.A?e.A=t:Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}})}function eC(e,t){eM(t,(0|e)&-51)}function eE(e,t){eM(t,(18|e)&-41)}var eF={};function eA(e){return null!==e&&"object"===(void 0===e?"undefined":(0,a._)(e))&&!Array.isArray(e)&&e.constructor===Object}var eR,eP,eO=[];function eD(e){if(2&eN(e.o))throw Error("Cannot mutate an immutable Message")}function eB(e){var t=e.length;(t=t?e[t-1]:void 0)&&eA(t)?t.g=1:(t={},e.push((t.g=1,t)))}function eV(e){var t=e.i+e.G;return e.B||(e.B=e.o[t]={})}function eG(e,t){return -1===t?null:t>=e.i?e.B?e.B[t]:void 0:e.o[t+e.G]}function eL(e,t,r,n){eD(e),eq(e,t,r,n)}function eq(e,t,r,n){e.j&&(e.j=void 0),t>=e.i||n?eV(e)[t]=r:(e.o[t+e.G]=r,(e=e.B)&&t in e&&delete e[t])}function ez(e,t,r,n){var a=eG(e,t);Array.isArray(a)||(a=eP);var s=eN(a);if(1&s||eT(a,1),n)2&s||eT(a,2),1&r||Object.freeze(a);else{n=!(2&r);var o,i=2&s;1&r||!i?n&&16&s&&!i&&eS(a,16):(eT(o=Array.prototype.slice.call(a),1),eq(e,t,a=o))}return a}function eU(e,t){var r=eG(e,t),n=null==r?r:"number"==typeof r||"NaN"===r||"Infinity"===r||"-Infinity"===r?Number(r):void 0;return null!=n&&n!==r&&eq(e,t,n),n}function eH(e,t,r,n,a){e.h||(e.h={});var s=e.h[r],o=ez(e,r,3,a);if(!s){var i=o;s=[];var c=!!(16&eN(e.o));o=!!(2&eN(i));var u=i;!a&&o&&(i=Array.prototype.slice.call(i));for(var l=o,p=0;p<i.length;p++){var f=i[p],d=t,h=!1;if(void 0!==(f=Array.isArray(f)?new d(f):h?new d:void 0)){var m=h=eN(d=f.o);o&&(m|=2),c&&(m|=16),m!=h&&eM(d,m),d=m,l=l||!!(2&d),s.push(f)}}return e.h[r]=s,t=33|(c=eN(i)),c!=(t=l?-9&t:8|t)&&(Object.isFrozen(l=i)&&(l=Array.prototype.slice.call(l)),eM(l,t),i=l),u!==i&&eq(e,r,i),(a||n&&o)&&eT(s,2),n&&Object.freeze(s),s}return a||(a=Object.isFrozen(s),n&&!a?Object.freeze(s):!n&&a&&(s=Array.prototype.slice.call(s),e.h[r]=s)),s}function eW(e,t,r){var n=!!(2&eN(e.o));if(t=eH(e,t,r,n,n),e=ez(e,r,3,n),!(n||8&eN(e))){for(n=0;n<t.length;n++){if(2&eN((r=t[n]).o)){var a=e2(r,!1);a.j=r}else a=r;r!==a&&(t[n]=a,e[n]=a.o)}eT(e,8)}return t}function eK(e,t,r){if(null!=r&&"number"!=typeof r)throw Error("Value of float/double field must be a number|null|undefined, found "+(void 0===r?"undefined":(0,a._)(r))+": "+r);eL(e,t,r)}function eX(e,t,r,n,a){eD(e);var s=eH(e,r,t,!1,!1);return r=null!=n?n:new r,e=ez(e,t,2,!1),void 0!=a?(s.splice(a,0,r),e.splice(a,0,r.o)):(s.push(r),e.push(r.o)),r.C()&&eS(e,8),r}function eZ(e,t){return null==e?t:e}function eQ(e,t,r){return r=void 0===r?0:r,eZ(eU(e,t),r)}function eJ(e,t,r,n){var a=eN(e);n=n?!!(16&a):void 0,e=Array.prototype.slice.call(e);for(var s=0;s<e.length;s++)e[s]=function e(t,r,n,a){if(null!=t){if(Array.isArray(t))t=eJ(t,r,n,void 0!==a);else if(eA(t)){var s,o={};for(s in t)o[s]=e(t[s],r,n,a);t=o}else t=r(t,a);return t}}(e[s],t,r,n);return r(a,e),e}function eY(e){return e.ja===eF?e.toJSON():function(e){switch(void 0===e?"undefined":(0,a._)(e)){case"number":return isFinite(e)?e:String(e);case"object":if(e)if(Array.isArray(e)){if(0!=(128&eN(e)))return eB(e=Array.prototype.slice.call(e)),e}else{if(F&&null!=e&&e instanceof Uint8Array)return R(e);if(e instanceof ec){var t=e.V;return null==t?"":"string"==typeof t?t:e.V=R(t)}}}return e}(e)}function e$(e,t){128&e&&eB(t)}function e0(e,t,r,n,a,s,o){if(e=e.h&&e.h[r]){var i;if(2&(n=eN(e))?n=e:(eE(n,s=N(e,e1)),Object.freeze(s),n=s),eD(t),o=null==n?eP:(eT(i=[],1),i),null!=n){for(e=0,s=!!n.length;e<n.length;e++){var c=n[e];s=s&&!(2&eN(c.o)),o[e]=c.o}s=8*!!s|1,((e=eN(o))&s)!==s&&(Object.isFrozen(o)&&(o=Array.prototype.slice.call(o)),eM(o,e|s)),t.h||(t.h={}),t.h[r]=n}else t.h&&(t.h[r]=void 0);eq(t,r,o,a)}else eL(t,r,function e(t,r,n){if(n=void 0===n?eE:n,null!=t){if(F&&t instanceof Uint8Array)return t.length?new ec(new Uint8Array(t),V):eu();if(Array.isArray(t)){var a=eN(t);return 2&a||(r&&!(32&a)&&(16&a||0===a)?eM(t,2|a):4&(r=eN(t=eJ(t,e,4&a?eE:n,!0)))&&2&r&&Object.freeze(t)),t}return t.ja===eF?e1(t):t}}(n,s,o),a)}function e1(e){return 2&eN(e.o)||eT((e=e2(e,!0)).o,2),e}function e2(e,r){var n=e.o,a=[];eT(a,16);var s=e.constructor.h;if(s&&a.push(s),s=e.B){a.length=n.length,a.fill(void 0,a.length,n.length);var o={};a[a.length-1]=o}0!=(128&eN(n))&&eB(a),r=r||e.C()?eE:eC,o=e.constructor,t=a,a=new o(a),t=void 0,e.R&&(a.R=e.R.slice()),o=!!(16&eN(n));for(var i=s?n.length-1:n.length,c=0;c<i;c++)e0(e,a,c-e.G,n[c],!1,o,r);if(s)for(var u in s)e0(e,a,+u,s[u],!0,o,r);return a}function e3(e,r,n){null==e&&(e=t),t=void 0;var a,s=this.constructor.i||0,o=0<s,i=this.constructor.h,c=!1;if(null==e){var u=48,l=!0;o&&(s=0,u|=128),eM(e=i?[i]:[],u)}else{if(!Array.isArray(e)||i&&i!==e[0])throw Error();var p=u=eT(e,0);if((l=0!=(16&p))&&((c=0!=(32&p))||(p|=32)),o){if(128&p)s=0;else if(0<e.length){var f=e[e.length-1];if(eA(f)&&"g"in f){s=0,p|=128,delete f.g;var d,h=!0;for(d in f){h=!1;break}h&&e.pop()}}}else if(128&p)throw Error();u!==p&&eM(e,p)}this.G=(i?0:-1)-s,this.h=void 0,this.o=e;e:{if(s=(i=this.o.length)-1,i&&eA(i=this.o[s])){this.B=i,this.i=s-this.G;break e}void 0!==r&&-1<r?(this.i=Math.max(r,s+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!o&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n)for(r=l&&!c&&!0,o=this.i,l=0;l<n.length;l++)(c=n[l])<o?(c+=this.G,(s=e[c])?e4(s,r):e[c]=eP):(a||(a=eV(this)),(s=a[c])?e4(s,r):a[c]=eP)}function e4(e,t){if(Array.isArray(e)){var r=eN(e),n=1;!t||2&r||(n|=16),(r&n)!==n&&eM(e,r|n)}}function e6(e,t,r){if(r){var n,a={};for(n in r){var s=r[n],o=s.ra;o||(a.J=s.xa||s.oa.W,s.ia?(a.aa=tr(s.ia),o=function(e){return function(t,r,n){return e.J(t,r,n,e.aa)}}(a)):s.ka?(a.Z=tn(s.da.P,s.ka),o=function(e){return function(t,r,n){return e.J(t,r,n,e.Z)}}(a)):o=a.J,s.ra=o),o(t,e,s.da),a={J:a.J,aa:a.aa,Z:a.Z}}}var i=e;if(i=i.R){ew(t,t.h.end());for(var c=0;c<i.length;c++)ew(t,el(i[c])||B())}}eM(eO,23),eP=Object.freeze(eO),e3.prototype.toJSON=function(){return eJ(this.o,eY,e$)},e3.prototype.C=function(){return!!(2&eN(this.o))},e3.prototype.ja=eF,e3.prototype.toString=function(){return this.o.toString()};var e7=Symbol();function e5(e,t,r){return e[e7]||(e[e7]=function(e,n){return t(e,n,r)})}function e9(e){var t=e[e7];if(!t){var r=tm(e);t=function(e,t){return tg(e,t,r)},e[e7]=t}return t}function e8(e,t){var r=e[t];return"function"==typeof r&&0===r.length&&(r=r(),e[t]=r),Array.isArray(r)&&(tl in r||ta in r||0<r.length&&"function"==typeof r[0])?r:void 0}function te(e,t,r,n,a,s){t.P=e[0];var o=1;if(e.length>o&&"number"!=typeof e[o]){var i=e[o++];r(t,i)}for(;o<e.length;){r=e[o++];for(var c=o+1;c<e.length&&"number"!=typeof e[c];)c++;switch(i=e[o++],c-=o){case 0:n(t,r,i);break;case 1:(c=e8(e,o))?(o++,a(t,r,i,c)):n(t,r,i,e[o++]);break;case 2:a(t,r,i,c=e8(e,c=o++),e[o++]);break;case 3:s(t,r,i,e[o++],e[o++],e[o++]);break;case 4:s(t,r,i,e[o++],e[o++],e[o++],e[o++]);break;default:throw Error("unexpected number of binary field arguments: "+c)}}return t}var tt=Symbol();function tr(e){var t=e[tt];if(!t){var r=tu(e);t=function(e,t){return tv(e,t,r)},e[tt]=t}return t}function tn(e,t){var r=e[tt];return r||(r=function(e,r){return e6(e,r,t)},e[tt]=r),r}var ta=Symbol();function ts(e,t){e.push(t)}function to(e,t,r){e.push(t,r.W)}function ti(e,t,r,n){var a=tr(n),s=tu(n).P,o=r.W;e.push(t,function(e,t,r){return o(e,t,r,s,a)})}function tc(e,t,r,n,a,s){var o=tn(n,s),i=r.W;e.push(t,function(e,t,r){return i(e,t,r,n,o)})}function tu(e){var t=e[ta];return t||(t=te(e,e[ta]=[],ts,to,ti,tc),tl in e&&ta in e&&(e.length=0)),t}var tl=Symbol();function tp(e,t){e[0]=t}function tf(e,t,r,n){var a=r.U;e[t]=n?function(e,t,r){return a(e,t,r,n)}:a}function td(e,t,r,n,a){var s=r.U,o=e9(n),i=tm(n).P;e[t]=function(e,t,r){return s(e,t,r,i,o,a)}}function th(e,t,r,n,a,s,o){var i=r.U,c=e5(n,a,s);e[t]=function(e,t,r){return i(e,t,r,n,c,o)}}function tm(e){var t=e[tl];return t||(t=te(e,e[tl]={},tp,tf,td,th),tl in e&&ta in e&&(e.length=0)),t}function tg(e,t,r){for(;eb(t)&&4!=t.i;){var n=t.l,a=r[n];if(!a){var s=r[0];s&&(s=s[n])&&(a=r[n]=function(e){var t,r=(t=e.ia)?e9(t):(t=e.wa)?e5(e.da.P,t,e.ka):void 0,n=e.da,a=e.oa.U;return r?function(e,t){return a(e,t,n,r)}:function(e,t){return a(e,t,n)}}(s))}if(!a||!a(t,e,n)){a=t,n=e,s=a.j,function e(t){switch(t.i){case 0:if(0!=t.i)e(t);else e:{t=t.h;for(var r=t.h,n=r+10,a=t.i;r<n;)if(0==(128&a[r++])){ed(t,r);break e}throw Z()}break;case 1:ed(t=t.h,t.h+8);break;case 2:2!=t.i?e(t):(r=eh(t.h)>>>0,ed(t=t.h,t.h+r));break;case 5:ed(t=t.h,t.h+4);break;case 3:for(r=t.l;;){if(!eb(t))throw Error("Unmatched start-group tag: stream EOF");if(4==t.i){if(t.l!=r)throw Error("Unmatched end-group tag");break}e(t)}break;default:throw X(t.i,t.j)}}(a);var o=a;if(!o.ca){if(a=o.h.h-s,o.h.h=s,o=o.h,0==a)a=eu();else{if(s=em(o,a),o.S&&o.m)a=o.i.subarray(s,s+a);else{o=o.i;var i=s;a=i===(a=s+a)?B():G?o.slice(i,a):new Uint8Array(o.subarray(i,a))}a=0==a.length?eu():new ec(a,V)}(s=n.R)?s.push(a):n.R=[a]}}}return e}function tv(e,t,r){for(var n=r.length,a=1==n%2,s=+!!a;s<n;s+=2)(0,r[s+1])(t,e,r[s]);e6(e,t,a?r[0]:void 0)}function t_(e,t){return{U:e,W:t}}var tx=t_(function(e,t,r){if(5!==e.i)return!1;var n=(e=e.h).i,a=e.h,s=n[a],o=n[a+1],i=n[a+2];return n=n[a+3],ed(e,e.h+4),e=2*((o=(0|s|o<<8|i<<16|n<<24)>>>0)>>31)+1,s=o>>>23&255,o&=8388607,eL(t,r,255==s?o?NaN:1/0*e:0==s?1401298464324817e-60*e*o:e*Math.pow(2,s-150)*(o+8388608)),!0},function(e,t,r){if(null!=(t=eU(t,r))){ex(e.h,8*r+5),e=e.h;var n=+t;0===n?0<1/n?L=q=0:(q=0,L=0x80000000):isNaN(n)?(q=0,L=0x7fffffff):34028234663852886e22<(n=(r=0>n?-0x80000000:0)?-n:n)?(q=0,L=(0x7f800000|r)>>>0):11754943508222875e-54>n?(q=0,L=(r|(n=Math.round(n/1401298464324817e-60)))>>>0):(t=Math.floor(Math.log(n)/Math.LN2),n*=Math.pow(2,-t),0x1000000<=(n=Math.round(8388608*n))&&++t,q=0,L=(r|t+127<<23|8388607&n)>>>0),r=L,e.h.push(r>>>0&255),e.h.push(r>>>8&255),e.h.push(r>>>16&255),e.h.push(r>>>24&255)}}),ty=t_(function(e,t,r){if(0!==e.i)return!1;var n=e.h,a=0,s=e=0,o=n.i,i=n.h;do{var c=o[i++];a|=(127&c)<<s,s+=7}while(32>s&&128&c)for(32<s&&(e|=(127&c)>>4),s=3;32>s&&128&c;s+=7)e|=(127&(c=o[i++]))<<s;if(ed(n,i),128>c)n=a>>>0,(e=0x80000000&(c=e>>>0))&&(c=~c>>>0,0==(n=~n+1>>>0)&&(c=c+1>>>0)),n=0x100000000*c+(n>>>0);else throw Z();return eL(t,r,e?-n:n),!0},function(e,t,r){null!=(t=eG(t,r))&&("string"==typeof t&&K(t),null!=t&&(ex(e.h,8*r),"number"==typeof t?(e=e.h,z(t),e_(e,L,q)):(r=K(t),e_(e.h,r.i,r.h))))}),tb=t_(function(e,t,r){return 0===e.i&&(eL(t,r,eh(e.h)),!0)},function(e,t,r){if(null!=(t=eG(t,r))&&null!=t)if(ex(e.h,8*r),e=e.h,0<=(r=t))ex(e,r);else{for(t=0;9>t;t++)e.h.push(127&r|128),r>>=7;e.h.push(1)}}),tk=t_(function(e,t,r){if(2!==e.i)return!1;var n=eh(e.h)>>>0,a=em(e=e.h,n);if(e=e.i,es){var s,o=e;(s=er)||(s=er=new TextDecoder("utf-8",{fatal:!0})),e=a+n,o=0===a&&e===o.length?o:o.subarray(a,e);try{var i=s.decode(o)}catch(e){if(void 0===ea){try{s.decode(new Uint8Array([128]))}catch(e){}try{s.decode(new Uint8Array([97])),ea=!0}catch(e){ea=!1}}throw ea||(er=void 0),e}}else{n=(i=a)+n,a=[];for(var c,u,l=null;i<n;)128>(c=e[i++])?a.push(c):224>c?i>=n?J():(u=e[i++],194>c||128!=(192&u)?(i--,J()):a.push((31&c)<<6|63&u)):240>c?i>=n-1?J():128!=(192&(u=e[i++]))||224===c&&160>u||237===c&&160<=u||128!=(192&(o=e[i++]))?(i--,J()):a.push((15&c)<<12|(63&u)<<6|63&o):244>=c?i>=n-2?J():128!=(192&(u=e[i++]))||0!=(c<<28)+(u-144)>>30||128!=(192&(o=e[i++]))||128!=(192&(s=e[i++]))?(i--,J()):(c=((7&c)<<18|(63&u)<<12|(63&o)<<6|63&s)-65536,a.push((c>>10&1023)+55296,(1023&c)+56320)):J(),8192<=a.length&&(l=Y(l,a),a.length=0);i=Y(l,a)}return eL(t,r,i),!0},function(e,t,r){if(null!=(t=eG(t,r))){if(eo){0;t=(en||(en=new TextEncoder)).encode(t)}else{for(var n=0,a=new Uint8Array(3*t.length),s=0;s<t.length;s++){var o=t.charCodeAt(s);if(128>o)a[n++]=o;else{if(2048>o)a[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&s<t.length){var i=t.charCodeAt(++s);if(56320<=i&&57343>=i){o=1024*(o-55296)+i-56320+65536,a[n++]=o>>18|240,a[n++]=o>>12&63|128,a[n++]=o>>6&63|128,a[n++]=63&o|128;continue}s--}0;o=65533}a[n++]=o>>12|224,a[n++]=o>>6&63|128}a[n++]=63&o|128}}t=n===a.length?a:a.subarray(0,n)}ex(e.h,8*r+2),ex(e.h,t.length),ew(e,e.h.end()),ew(e,t)}}),tj=t_(function(e,t,r,n,a){if(2!==e.i)return!1;t=eX(t,r,n),r=e.h.j,n=eh(e.h)>>>0;var s=e.h.h+n,o=s-r;if(0>=o&&(e.h.j=s,a(t,e,void 0,void 0,void 0),o=s-e.h.h),o)throw Error("Message parsing ended unexpectedly. Expected to read "+(n+" bytes, instead read ")+(n-o)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.h.h=s,e.h.j=r,!0},function(e,t,r,n,a){if(null!=(t=eW(t,n,r)))for(n=0;n<t.length;n++){var s=e;ex(s.h,8*r+2);var o=s.h.end();ew(s,o),o.push(s.i),s=o,a(t[n],e),o=e;var i=s.pop();for(i=o.i+o.h.length()-i;127<i;)s.push(127&i|128),i>>>=7,o.i++;s.push(i),o.i++}});function tw(e){return function(t,r){e:{if(ek.length){var n=ek.pop();n.setOptions(r),ef(n.h,t,r),t=n}else t=new ey(t,r);try{var a=tm(e),s=tg(new a.P,t,a);break e}finally{(a=t.h).i=null,a.m=!1,a.l=0,a.j=0,a.h=0,a.S=!1,t.l=-1,t.i=-1,100>ek.length&&ek.push(t)}}return s}}function tI(e){return function(){var t=new ej;tv(this,t,tu(e)),ew(t,t.h.end());for(var r=new Uint8Array(t.i),n=t.j,a=n.length,s=0,o=0;o<a;o++){var i=n[o];r.set(i,s),s+=i.length}return t.j=[r],r}}function tT(e){e3.call(this,e)}h(tT,e3);var tS=[tT,1,tb,2,tx,3,tk,4,tk];function tN(e){e3.call(this,e,-1,tM)}tT.prototype.l=tI(tS),h(tN,e3),tN.prototype.addClassification=function(e,t){return eX(this,1,tT,e,t),this};var tM=[1],tC=tw([tN,1,tj,tS]);function tE(e){e3.call(this,e)}h(tE,e3);var tF=[tE,1,tx,2,tx,3,tx,4,tx,5,tx];function tA(e){e3.call(this,e,-1,tR)}tE.prototype.l=tI(tF),h(tA,e3);var tR=[1],tP=tw([tA,1,tj,tF]);function tO(e){e3.call(this,e)}h(tO,e3);var tD=[tO,1,tx,2,tx,3,tx,4,tx,5,tx,6,ty],tB=tw(tD);function tV(e,t,r){if(r=e.createShader(0===r?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(r));return r}function tG(e){return{x:eQ(e,1),y:eQ(e,2),z:eQ(e,3),visibility:null!=eU(e,4)?eQ(e,4):void 0}}function tL(e,t){this.i=e,this.h=t,this.m=0}function tq(e,t,r){return(function(e,t){var r=e.h;if(void 0===e.s){var n=tV(r,"\n attribute vec2 aVertex;\n attribute vec2 aTex;\n varying vec2 vTex;\n void main(void) {\n gl_Position = vec4(aVertex, 0.0, 1.0);\n vTex = aTex;\n }",0),a=tV(r,"\n precision mediump float;\n varying vec2 vTex;\n uniform sampler2D sampler0;\n void main(){\n gl_FragColor = texture2D(sampler0, vTex);\n }",1),s=r.createProgram();if(r.attachShader(s,n),r.attachShader(s,a),r.linkProgram(s),!r.getProgramParameter(s,r.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+r.getProgramInfoLog(s));n=e.s=s,r.useProgram(n),a=r.getUniformLocation(n,"sampler0"),e.l={O:r.getAttribLocation(n,"aVertex"),N:r.getAttribLocation(n,"aTex"),ya:a},e.v=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,e.v),r.enableVertexAttribArray(e.l.O),r.vertexAttribPointer(e.l.O,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),e.u=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,e.u),r.enableVertexAttribArray(e.l.N),r.vertexAttribPointer(e.l.N,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.uniform1i(a,0)}n=e.l,r.useProgram(e.s),r.canvas.width=t.width,r.canvas.height=t.height,r.viewport(0,0,t.width,t.height),r.activeTexture(r.TEXTURE0),e.i.bindTexture2d(t.glName),r.enableVertexAttribArray(n.O),r.bindBuffer(r.ARRAY_BUFFER,e.v),r.vertexAttribPointer(n.O,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,e.u),r.vertexAttribPointer(n.N,2,r.FLOAT,!1,0,0),r.bindFramebuffer(r.DRAW_FRAMEBUFFER?r.DRAW_FRAMEBUFFER:r.FRAMEBUFFER,null),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.colorMask(!0,!0,!0,!0),r.drawArrays(r.TRIANGLE_FAN,0,4),r.disableVertexAttribArray(n.O),r.disableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,null),e.i.bindTexture2d(0)}(e,t),"function"==typeof e.h.canvas.transferToImageBitmap)?Promise.resolve(e.h.canvas.transferToImageBitmap()):r?Promise.resolve(e.h.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.h.canvas):(void 0===e.j&&(e.j=document.createElement("canvas")),new Promise(function(t){e.j.height=e.h.canvas.height,e.j.width=e.h.canvas.width,e.j.getContext("2d",{}).drawImage(e.h.canvas,0,0,e.h.canvas.width,e.h.canvas.height),t(e.j)}))}function tz(e){this.h=e}tO.prototype.l=tI(tD);var tU=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function tH(e,t){return t+e}function tW(e){if(this.h=e,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=e&&e.locateFile||tH,"object"===("undefined"==typeof window?"undefined":(0,a._)(window)))var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!=typeof location)t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=t,e.options){t=o(Object.keys(e.options));for(var r=t.next();!r.done;r=t.next()){r=r.value;var n=e.options[r].default;void 0!==n&&(this.l[r]="function"==typeof n?n():n)}}}function tK(e,t){var r;return j(function(n){return t in e.L?n.return(e.L[t]):(r=fetch(e.locateFile(t,"")).then(function(e){return e.arrayBuffer()}),e.L[t]=r,n.return(r))})}function tX(e){return(void 0===e&&(e=0),1===e)?"selfie_segmentation_landscape.tflite":"selfie_segmentation.tflite"}function tZ(e){var t=this;e=e||{},this.h=new tW({locateFile:e.locateFile,files:function(e){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:tX(e.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"===("undefined"==typeof window?"undefined":(0,a._)(window))&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(e){var r,n,a;return j(function(s){return 1==s.h?(n="third_party/mediapipe/modules/selfie_segmentation/"+(r=tX(e)),_(s,tK(t.h,r),2)):(a=s.i,t.h.overrideFile(n,a),s.return(!0))})}}}})}(u=tW.prototype).close=function(){return this.j&&this.j.delete(),Promise.resolve()},u.reset=function(){var e=this;return j(function(t){e.j&&(e.j.reset(),e.s={},e.v={}),t.h=0})},u.setOptions=function(e,t){var r=this;if(t=t||this.h.options){for(var n=[],a=[],s={},i=o(Object.keys(e)),c=i.next();!c.done;s={X:s.X,Y:s.Y},c=i.next())if(!((c=c.value)in this.l&&this.l[c]===e[c])){this.l[c]=e[c];var u=t[c];void 0!==u&&(u.onChange&&(s.X=u.onChange,s.Y=e[c],n.push(function(e){return function(){return j(function(t){if(1==t.h)return _(t,e.X(e.Y),2);!0===t.i&&(r.u=!0),t.h=0})}}(s))),u.graphOptionXref&&(c=Object.assign({},{calculatorName:"",calculatorIndex:0},u.graphOptionXref,{valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""}),a.push(c)))}(0!==n.length||0!==a.length)&&(this.u=!0,this.H=(void 0===this.H?[]:this.H).concat(a),this.F=(void 0===this.F?[]:this.F).concat(n))}},u.initialize=function(){var e=this;return j(function(t){var r,n,s,c,u,l,p,f,d,h,m,g,v,x,y,b,k,w,I,T,S,N,M,C;return 1==t.h?_(t,j(function(t){switch(t.h){case 1:if(!e.ga)return t.return();return r=void 0===e.h.files?[]:"function"==typeof e.h.files?e.h.files(e.l):e.h.files,_(t,j(function(e){switch(e.h){case 1:return e.s=2,_(e,WebAssembly.instantiate(tU),4);case 4:e.h=3,e.s=0;break;case 2:return e.s=0,e.l=null,e.return(!1);case 3:return e.return(!0)}}),2);case 2:if(n=t.i,"object"===("undefined"==typeof window?"undefined":(0,a._)(window))){var o,g;return o={locateFile:e.locateFile},window.createMediapipeSolutionsWasm=o,g={locateFile:e.locateFile},window.createMediapipeSolutionsPackedAssets=g,l=r.filter(function(e){return void 0!==e.data}),p=r.filter(function(e){return void 0===e.data}),f=Promise.all(l.map(function(t){var r=tK(e,t.url);if(void 0!==t.path){var n=t.path;r=r.then(function(t){return e.overrideFile(n,t),Promise.resolve(t)})}return r})),d=Promise.all(p.map(function(t){var r,a;return void 0===t.simd||t.simd&&n||!t.simd&&!n?(r=e.locateFile(t.url,e.ha),(a=document.createElement("script")).setAttribute("src",r),a.setAttribute("crossorigin","anonymous"),new Promise(function(e){a.addEventListener("load",function(){e()},!1),a.addEventListener("error",function(){e()},!1),document.body.appendChild(a)})):Promise.resolve()})).then(function(){var t,r,n;return j(function(a){if(1==a.h)return t=window.createMediapipeSolutionsWasm,r=window.createMediapipeSolutionsPackedAssets,n=e,_(a,t(r),2);n.i=a.i,a.h=0})}),h=j(function(t){return e.h.graph&&e.h.graph.url?t=_(t,tK(e,e.h.graph.url),0):(t.h=0,t=void 0),t}),_(t,Promise.all([d,f,h]),7)}if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return s=r.filter(function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n}).map(function(t){return e.locateFile(t.url,e.ha)}),importScripts.apply(null,i(s)),c=e,_(t,createMediapipeSolutionsWasm(Module),6);case 6:c.i=t.i,e.m=new OffscreenCanvas(1,1),e.i.canvas=e.m,u=e.i.GL.createContext(e.m,{antialias:!1,alpha:!1,va:"undefined"!=typeof WebGL2RenderingContext?2:1}),e.i.GL.makeContextCurrent(u),t.h=4;break;case 7:if(e.m=document.createElement("canvas"),!(m=e.m.getContext("webgl2",{}))&&!(m=e.m.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),t.return();e.K=m,e.i.canvas=e.m,e.i.createContext(e.m,!0,!0,{});case 4:e.j=new e.i.SolutionWasm,e.ga=!1,t.h=0}}),2):3!=t.h?_(t,j(function(t){if(1==t.h){if(e.h.graph&&e.h.graph.url&&e.fa===e.h.graph.url)return t.return();if(e.u=!0,!e.h.graph||!e.h.graph.url){t.h=2;return}return e.fa=e.h.graph.url,_(t,tK(e,e.h.graph.url),3)}for(2!=t.h&&(g=t.i,e.j.loadGraph(g)),x=(v=o(Object.keys(e.D))).next();!x.done;x=v.next())y=x.value,e.j.overrideFile(y,e.D[y]);if(e.D={},e.h.listeners)for(k=(b=o(e.h.listeners)).next();!k.done;k=b.next())!function(e,t){for(var r=t.name||"$",n=[].concat(i(t.wants)),s=new e.i.StringList,c=o(t.wants),u=c.next();!u.done;u=c.next())s.push_back(u.value);c=e.i.PacketListener.implement({onResults:function(s){for(var i,c,u,l,p,f,d,h,m,g,v,x,y,b,k={},w=0;w<t.wants.length;++w)k[n[w]]=s.get(w);var I=e.listeners[r];I&&(e.I=(i=t.outs,j(function(t){switch(t.h){case 1:if(!i)return t.return(k);for(c={},u=0,p=(l=o(Object.keys(i))).next();!p.done;p=l.next())"string"!=typeof(f=i[p.value])&&"texture"===f.type&&void 0!==k[f.stream]&&++u;1<u&&(e.M=!1),p=(d=o(Object.keys(i))).next();case 2:if(p.done){t.h=4;break}if("string"==typeof(m=i[h=p.value]))return y=c,b=h,_(t,function(e,t,r){var n;return j(function(a){return"number"==typeof r||r instanceof Uint8Array||r instanceof e.i.Uint8BlobList?a.return(r):r instanceof e.i.Texture2dDataOut?((n=e.v[t])||(n=new tL(e.i,e.K),e.v[t]=n),a.return(tq(n,r,e.M))):a.return(void 0)})}(e,h,k[m]),14);if(g=k[m.stream],"detection_list"===m.type){if(g){for(var r=g.getRectList(),n=g.getLandmarksList(),a=g.getClassificationsList(),s=[],w=0;w<r.size();++w){var I=tB(r.get(w)),T=eQ(I,1),S=eQ(I,2),N=eQ(I,3),M=eQ(I,4),C=eQ(I,5,0),E=void 0;E=void 0===E?0:E,I={la:{sa:T,ta:S,height:N,width:M,rotation:C,pa:eZ(eG(I,6),E)},ea:eW(tP(n.get(w)),tE,1).map(tG),ba:eW(tC(a.get(w)),tT,1).map(function(e){var t=eG(e,1);return{index:null==t?0:t,qa:eQ(e,2),label:null!=eG(e,3)?eZ(eG(e,3),""):void 0,displayName:null!=eG(e,4)?eZ(eG(e,4),""):void 0}})},s.push(I)}r=s}else r=[];c[h]=r,t.h=7;break}if("proto_list"===m.type){if(g){for(n=0,r=Array(g.size());n<g.size();n++)r[n]=g.get(n);g.delete()}else r=[];c[h]=r,t.h=7;break}if(void 0===g){t.h=3;break}if("float_list"===m.type||"proto"===m.type){c[h]=g,t.h=7;break}if("texture"!==m.type)throw Error("Unknown output config type: '"+m.type+"'");return(v=e.v[h])||(v=new tL(e.i,e.K),e.v[h]=v),_(t,tq(v,g,e.M),13);case 13:x=t.i,c[h]=x;case 7:m.transform&&c[h]&&(c[h]=m.transform(c[h])),t.h=3;break;case 14:y[b]=t.i;case 3:p=d.next(),t.h=2;break;case 4:return t.return(c)}})).then(function(r){r=I(r);for(var s=0;s<t.wants.length;++s){var o=k[n[s]];"object"===(void 0===o?"undefined":(0,a._)(o))&&o.hasOwnProperty&&o.hasOwnProperty("delete")&&o.delete()}r&&(e.I=r)}))}}),e.j.attachMultiListener(s,c),s.delete()}(e,k.value);w=e.l,e.l={},e.setOptions(w),t.h=0}),3):_(t,j(function(t){switch(t.h){case 1:if(!e.u)return t.return();if(!e.F){t.h=2;break}T=(I=o(e.F)).next();case 3:if(T.done){t.h=5;break}return _(t,(0,T.value)(),4);case 4:T=I.next(),t.h=3;break;case 5:e.F=void 0;case 2:if(e.H){for(S=new e.i.GraphOptionChangeRequestList,M=(N=o(e.H)).next();!M.done;M=N.next())C=M.value,S.push_back(C);e.j.changeOptions(S),S.delete(),e.H=void 0}e.u=!1,t.h=0}}),0)})},u.overrideFile=function(e,t){this.j?this.j.overrideFile(e,t):this.D[e]=t},u.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},u.send=function(e,t){var r,n,a,s,i,c,u,l,p,f=this;return j(function(d){switch(d.h){case 1:if(!f.h.inputs)return d.return();return r=1e3*(null==t?performance.now():t),_(d,f.I,2);case 2:return _(d,f.initialize(),3);case 3:for(n=new f.i.PacketDataList,s=(a=o(Object.keys(e))).next();!s.done;s=a.next())if(i=s.value,c=f.h.inputs[i]){e:{var h=e[i];switch(c.type){case"video":var m=f.s[c.stream];if(m||(m=new tL(f.i,f.K),f.s[c.stream]=m),0===m.m&&(m.m=m.i.createTexture()),"undefined"!=typeof HTMLVideoElement&&h instanceof HTMLVideoElement)var g=h.videoWidth,v=h.videoHeight;else"undefined"!=typeof HTMLImageElement&&h instanceof HTMLImageElement?(g=h.naturalWidth,v=h.naturalHeight):(g=h.width,v=h.height);v={glName:m.m,width:g,height:v},(g=m.h).canvas.width=v.width,g.canvas.height=v.height,g.activeTexture(g.TEXTURE0),m.i.bindTexture2d(m.m),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,h),m.i.bindTexture2d(0),m=v;break e;case"detections":for((m=f.s[c.stream])||(m=new tz(f.i),f.s[c.stream]=m),m.data||(m.data=new m.h.DetectionListData),m.data.reset(h.length),v=0;v<h.length;++v){g=h[v];var x=m.data,y=x.setBoundingBox,b=v,k=g.la,j=new tO;if(eK(j,1,k.sa),eK(j,2,k.ta),eK(j,3,k.height),eK(j,4,k.width),eK(j,5,k.rotation),eL(j,6,k.pa),k=j.l(),y.call(x,b,k),g.ea)for(x=0;x<g.ea.length;++x){j=g.ea[x],b=(y=m.data).addNormalizedLandmark,k=v,j=Object.assign({},j,{visibility:j.visibility?j.visibility:0});var w=new tE;eK(w,1,j.x),eK(w,2,j.y),eK(w,3,j.z),j.visibility&&eK(w,4,j.visibility),j=w.l(),b.call(y,k,j)}if(g.ba)for(x=0;x<g.ba.length;++x)b=(y=m.data).addClassification,k=v,j=g.ba[x],eK(w=new tT,2,j.qa),j.index&&eL(w,1,j.index),j.label&&eL(w,3,j.label),j.displayName&&eL(w,4,j.displayName),j=w.l(),b.call(y,k,j)}m=m.data;break e;default:m={}}}switch(u=m,l=c.stream,c.type){case"video":n.pushTexture2d(Object.assign({},u,{stream:l,timestamp:r}));break;case"detections":(p=u).stream=l,p.timestamp=r,n.pushDetectionList(p);break;default:throw Error("Unknown input config type: '"+c.type+"'")}}return f.j.send(n),_(d,f.I,4);case 4:n.delete(),d.h=0}})},u.onResults=function(e,t){this.listeners[t||"$"]=e},T("Solution",tW),T("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(u=tZ.prototype).close=function(){return this.h.close(),Promise.resolve()},u.onResults=function(e){this.h.onResults(e)},u.initialize=function(){var e=this;return j(function(t){return _(t,e.h.initialize(),0)})},u.reset=function(){this.h.reset()},u.send=function(e){var t=this;return j(function(r){return _(r,t.h.send(e),0)})},u.setOptions=function(e){this.h.setOptions(e)},T("SelfieSegmentation",tZ),T("VERSION","0.1.1675465747")}).call(void 0)},{"@swc/helpers/cjs/_type_of.cjs":"iXhRw"}],"8uAp9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("./base");a.exportAll(s,r),e("./register_all_kernels")},{"./base":"ddSZk","./register_all_kernels":"bnPJn","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ddSZk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version_webgl",function(){return i.version}),a.export(r,"webgl",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("./backend_webgl"),i=e("./version"),c=e("./webgl");a.exportAll(c,r),s.device_util.isBrowser()&&(0,s.registerBackend)("webgl",function(){return new(0,o.MathBackendWebGL)},2);var u={forceHalfFloat:c.forceHalfFloat}},{"@tensorflow/tfjs-core":"aOH7b","./backend_webgl":"524gV","./version":"kuPbQ","./webgl":"2Novc","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"524gV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EPSILON_FLOAT32",function(){return A}),a.export(r,"EPSILON_FLOAT16",function(){return R}),a.export(r,"getBinaryCache",function(){return O}),a.export(r,"MathBackendWebGL",function(){return B});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_sliced_to_array.cjs"),p=e("@swc/helpers/cjs/_to_consumable_array.cjs"),f=e("@swc/helpers/cjs/_ts_generator.cjs");e("./flags_webgl");var d=e("@tensorflow/tfjs-core"),h=e("./canvas_util"),m=e("./decode_matrix_gpu"),g=e("./decode_matrix_packed_gpu"),v=e("./encode_float_gpu"),_=e("./encode_float_packed_gpu"),x=e("./encode_matrix_gpu"),y=e("./encode_matrix_packed_gpu"),b=e("./gpgpu_context"),k=e("./gpgpu_math"),j=e("./kernel_utils/shared"),w=e("./pack_gpu"),I=e("./reshape_packed_gpu"),T=e("./tex_util"),S=e("./texture_manager"),N=e("./unaryop_gpu"),M=e("./unaryop_packed_gpu"),C=e("./unpack_gpu"),E=e("./webgl_util"),F=d.kernel_impls.whereImpl,A=1e-7,R=1e-4,P={};function O(e){return e in P||(P[e]={}),P[e]}var D=(0,d.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),B=function(e){"use strict";function t(e){if((0,i._)(this,t),(r=(0,o._)(this,t)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!(0,d.env)().getBool("HAS_WEBGL"))throw Error("WebGL is not supported on this device");if(null!=e){if(e instanceof b.GPGPUContext)n=e;else{var r,n,a=(0,h.getWebGLContext)((0,d.env)().getNumber("WEBGL_VERSION"),e);n=new(0,b.GPGPUContext)(a)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var s=(0,h.getWebGLContext)((0,d.env)().getNumber("WEBGL_VERSION"));n=new(0,b.GPGPUContext)(s),r.binaryCache=O((0,d.env)().getNumber("WEBGL_VERSION")),r.gpgpuCreatedLocally=!0}return r.gpgpu=n,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new(0,S.TextureManager)(r.gpgpu),r.numMBBeforeWarning=null==(0,d.env)().global.screen?1024:(0,d.env)().global.screen.height*(0,d.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new(0,d.DataStorage)(r,(0,d.engine)()),r}return(0,u._)(t,e),(0,c._)(t,[{key:"nextDataId",value:function(){return t.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"writeTexture",value:function(e,t,r,n,a,s){var o=this.makeTensorInfo(t,r),i=this.texData.get(o.dataId);i.isPacked=!1,i.texture={texture:e,texShape:[n,a]},i.texShape=[n,a];var c=E.getShapeAs3D(t),u=new(0,x.EncodeMatrixProgram)(c,!1,s),l=this.runWebGLProgram(u,[o],r,[[n,a]]);return l.shape=t,i.texture=null,this.disposeIntermediateTensorInfo(o),l.dataId}},{key:"write",value:function(e,t,r){if(((0,d.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,d.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===r&&null!=e)throw Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var n={id:this.nextDataId()};return this.texData.set(n,{shape:t,dtype:r,values:e,usage:T.TextureUsage.UPLOAD,refCount:1}),n}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){var t=this.texData.get(e);t.refCount++}},{key:"decRef",value:function(e){if(this.texData.has(e)){var t=this.texData.get(e);t.refCount--}}},{key:"move",value:function(e,t,r,n,a){if((0,d.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===n)throw Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:n,values:t,usage:T.TextureUsage.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t,r,n=this.texData.get(e),a=n.values,s=n.dtype,o=n.complexTensorInfos,i=n.slice,c=n.shape,u=n.isPacked;if(null!=i){var l=u?new(0,M.UnaryOpPackedProgram)(c,N.CLONE):new(0,N.UnaryOpProgram)(c,N.CLONE),p=this.runWebGLProgram(l,[{dataId:e,shape:c,dtype:s}],s),f=this.readSync(p.dataId);return this.disposeIntermediateTensorInfo(p),f}if(null!=a)return this.convertAndCacheOnCPU(e);if("string"===s)return a;var h=null!=this.activeTimers;if(h&&(t=d.util.now()),"complex64"===s){var m=this.readSync(o.real.dataId),g=this.readSync(o.imag.dataId);r=d.backend_util.mergeRealAndImagArrays(m,g)}else r=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=d.util.now()-t),this.convertAndCacheOnCPU(e,r)}},{key:"read",value:function(e){return(0,s._)(function(){var t,r,n,a,s,o,i,c,u,l,h,m,g,v,_,x,y,b,k,j,w,I,S;return(0,f._)(this,function(f){switch(f.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise(function(e){return t.push(e)})];if(n=(r=this.texData.get(e)).values,a=r.shape,s=r.slice,o=r.dtype,i=r.complexTensorInfos,c=r.isPacked,null!=s)return u=c?new(0,M.UnaryOpPackedProgram)(a,N.CLONE):new(0,N.UnaryOpProgram)(a,N.CLONE),l=this.runWebGLProgram(u,[{dataId:e,shape:a,dtype:o}],o),h=this.read(l.dataId),this.disposeIntermediateTensorInfo(l),[2,h];if(null!=n)return[2,this.convertAndCacheOnCPU(e)];if((0,d.env)().getBool("DEBUG")&&!(0,d.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===(0,d.env)().getNumber("WEBGL_VERSION"))throw Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");if(m=null,"complex64"!==o&&(0,d.env)().get("WEBGL_BUFFER_SUPPORTED")&&(g=this.decode(e),_=this.texData.get(g.dataId),m=(v=this.gpgpu).createBufferFromTexture.apply(v,[_.texture.texture].concat((0,p._)(T.getDenseTexShape(a))))),this.pendingRead.set(e,[]),"complex64"===o)return[3,2];return[4,this.gpgpu.createAndWaitForFence()];case 1:f.sent(),f.label=2;case 2:if("complex64"!==o)return[3,4];return[4,Promise.all([this.read(i.real.dataId),this.read(i.imag.dataId)])];case 3:return b=(y=f.sent())[0],k=y[1],x=d.backend_util.mergeRealAndImagArrays(b,k),[3,5];case 4:null==m?x=this.getValuesFromTexture(e):(j=d.util.sizeFromShape(a),x=this.gpgpu.downloadFloat32MatrixFromBuffer(m,j)),f.label=5;case 5:return null!=g&&this.disposeIntermediateTensorInfo(g),null!=m&&(w=this.gpgpu.gl,E.callAndCheck(w,function(){return w.deleteBuffer(m)})),I=this.convertAndCacheOnCPU(e,x),S=this.pendingRead.get(e),this.pendingRead.delete(e),S.forEach(function(e){return e(I)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&(0,d.engine)().removeDataId(e,this),this.pendingDeletes--),[2,I]}})}).call(this)}},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.texData.get(e),n=r.values,a=r.shape,s=r.slice,o=r.dtype,i=r.isPacked,c=r.texture;if("complex64"===o)throw Error("Does not support reading texture for complex64 dtype.");if(null!=s){var u=i?new(0,M.UnaryOpPackedProgram)(a,N.CLONE):new(0,N.UnaryOpProgram)(a,N.CLONE),l=this.runWebGLProgram(u,[{dataId:e,shape:a,dtype:o}],o),p=this.readToGPU(l,t);return this.disposeIntermediateTensorInfo(l),p}if(null==c)if(null!=n)throw Error("Data is not on GPU but on CPU.");else throw Error("There is no data on GPU or CPU.");var f=this.decode(e,t.customTexShape);return Object.assign({tensorRef:(0,d.engine)().makeTensorFromTensorInfo(f)},this.texData.get(f.dataId).texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var r=t.map(function(e){return d.util.decodeString(e)});return(0,d.buffer)(e.shape,e.dtype,r)}catch(e){throw Error("Failed to decode encoded string bytes into utf-8")}return(0,d.buffer)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var r=e[t];if(!E.canBeRepresented(r)){if((0,d.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(r," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(r," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),r=t.shape,n=t.dtype,a=t.isPacked,s=d.util.sizeFromShape(r);if((0,d.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var o,i=this.decode(e),c=this.texData.get(i.dataId),u=(o=this.gpgpu).downloadMatrixFromPackedTexture.apply(o,[c.texture.texture].concat((0,p._)(T.getDenseTexShape(r)))).subarray(0,s);return this.disposeIntermediateTensorInfo(i),u}var l=(0,d.env)().getBool("WEBGL_PACK")&&!0===a,f=l?E.getShapeAs3D(r):r,h=l?new(0,_.EncodeFloatPackedProgram)(f):new(0,v.EncodeFloatProgram)(f),m=this.runWebGLProgram(h,[{shape:f,dtype:n,dataId:e}],"float32"),g=this.texData.get(m.dataId),x=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(g.texture.texture,g.texShape[0],g.texShape[1]).subarray(0,s);return this.disposeIntermediateTensorInfo(m),x}},{key:"timerAvailable",value:function(){return(0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this.activeTimers,r=[],n=!1;null==this.programTimersStack?(this.programTimersStack=r,n=!0):this.activeTimers.push(r),this.activeTimers=r,e();var a=d.util.flatten(this.activeTimers.map(function(e){return e.query})).filter(function(e){return null!=e}),o=d.util.flatten(this.activeTimers.map(function(e){return e.name})).filter(function(e){return null!=e});this.activeTimers=t,n&&(this.programTimersStack=null);var i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,s._)(function(){var e;return(0,f._)(this,function(t){switch(t.label){case 0:if(!((0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0))return[3,2];return[4,Promise.all(a)];case 1:return e=t.sent(),i.kernelMs=d.util.sum(e),i.getExtraProfileInfo=function(){return e.map(function(e,t){return{name:o[t],ms:e}}).map(function(e){return"".concat(e.name,": ").concat(e.ms)}).join(", ")},[3,3];case 2:i.kernelMs={error:"WebGL query timers are not supported in this environment."},t.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,i]}})}).call(this)}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return(0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:d.util.now(),endMs:null}}},{key:"endTimer",value:function(e){return(0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.endQuery():e.endMs=d.util.now(),e}},{key:"getQueryTime",value:function(e){return(0,s._)(function(){var t;return(0,f._)(this,function(r){return(0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]})}).call(this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var r=this.texData.get(e).complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),r=t.texture,n=t.dtype,a=t.texShape,s=t.usage,o=t.isPacked,i=t.slice,c=i&&i.origDataId||e,u=this.dataRefCount.get(c);u>1?this.dataRefCount.set(c,u-1):(this.dataRefCount.delete(c),null!=r&&(this.numBytesInGPU-=this.computeBytes(a,n),this.textureManager.releaseTexture(r,a,s,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D;return(0,d.env)().getBool("WEBGL_CPU_FORWARD")&&e.every(function(e){return null==t.texData.get(e.dataId).texture&&d.util.sizeFromShape(e.shape)<r})}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){d.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return F(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,r){var n=new(0,M.UnaryOpPackedProgram)(e.shape,t),a=this.compileAndRun(n,[e],r);return(0,d.engine)().makeTensorFromTensorInfo(a)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=(0,j.simpleAbsImplCPU)(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,d.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,N.ABS,e.dtype);var r=new(0,N.UnaryOpProgram)(e.shape,N.ABS),n=this.compileAndRun(r,[e]);return(0,d.engine)().makeTensorFromTensorInfo(n)}},{key:"makeTensorInfo",value:function(e,t,r){var n;if("string"===t&&null!=r&&r.length>0&&d.util.isString(r[0])){var a=r.map(function(e){return d.util.encodeString(e)});n=this.write(a,e,t)}else n=this.write(r,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,r){return(0,d.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,r),this)}},{key:"unpackTensor",value:function(e){var t=new(0,C.UnpackProgram)(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new(0,w.PackProgram)(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var r=[E.getBatchDim(e.shape)].concat((0,p._)(E.getRowsCols(e.shape))),n={dtype:e.dtype,shape:r,dataId:e.dataId},a=[E.getBatchDim(t)].concat((0,p._)(E.getRowsCols(t))),s=new(0,I.ReshapePackedProgram)(a,r),o=this.runWebGLProgram(s,[n],e.dtype,[r],!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}},{key:"decode",value:function(e,t){var r,n=this.texData.get(e),a=n.isPacked,s=n.shape,o=n.dtype;if(null!=t){var i=d.util.sizeFromShape(s),c=t[0]*t[1]*4;d.util.assert(i<=c,function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."})}var u=E.getShapeAs3D(s);r=a?new(0,g.DecodeMatrixPackedProgram)(u):new(0,m.DecodeMatrixProgram)(u);var l=[null!=t?t:T.getDenseTexShape(u)],p=this.runWebGLProgram(r,[{shape:u,dtype:o,dataId:e}],o,l,!0,t);return{dtype:o,shape:s,dataId:p.dataId}}},{key:"runWebGLProgram",value:function(e,t,r,n){var a,s=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,c=this.makeTensorInfo(e.outputShape,r),u=this.texData.get(c.dataId);if(e.packedOutput&&(u.isPacked=!0),e.outPackingScheme===T.PackingScheme.DENSE&&(u.texShape=(null!=i?i:T.getDenseTexShape(e.outputShape)).map(function(e){return 2*e})),null!=e.outTexUsage&&(u.usage=e.outTexUsage),0===d.util.sizeFromShape(c.shape))return u.values=d.util.getTypedArrayFromDType(c.dtype,0),c;var l=[],p=t.map(function(t){if("complex64"===t.dtype)throw Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var r=s.texData.get(t.dataId);if(null==r.texture){if(!e.packedInputs&&d.util.sizeFromShape(t.shape)<=(0,d.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:r.values};e.packedInputs&&(r.isPacked=!0,r.shape=t.shape)}if(s.uploadToGPU(t.dataId),!!r.isPacked!=!!e.packedInputs)t=r.isPacked?s.unpackTensor(t):s.packTensor(t),l.push(t),r=s.texData.get(t.dataId);else if(r.isPacked&&!E.isReshapeFree(r.shape,t.shape)){var n=t,a=t.shape;t.shape=r.shape,t=s.packedReshape(t,a),l.push(t),r=s.texData.get(t.dataId),n.shape=a}return{shape:t.shape,texData:r,isUniform:!1}});this.uploadToGPU(c.dataId);var f={shape:c.shape,texData:u,isUniform:!1},h=k.makeShaderKey(e,p,f),m=this.getAndSaveBinary(h,function(){return k.compileProgram(s.gpgpu,e,p,f)}),g=null!=this.activeTimers;g&&(a=this.startTimer()),(0,d.env)().get("ENGINE_COMPILE_ONLY")||k.runProgram(this.gpgpu,m,p,f,n),l.forEach(function(e){return s.disposeIntermediateTensorInfo(e)}),g&&(a=this.endTimer(a),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(a)}));var v=(0,d.env)().getNumber("WEBGL_FLUSH_THRESHOLD");if(v>0){var _=d.util.now();_-this.lastGlFlushTime>v&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=_)}if(!(0,d.env)().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&!1===o){var x=this.unpackTensor(c);return this.disposeIntermediateTensorInfo(c),x}return c}},{key:"compileAndRun",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return r=r||t[0].dtype,this.runWebGLProgram(e,t,r,n,a)}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;this.disposed||((0,d.env)().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,d.tidy)(function(){if(!(0,d.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=(0,d.env)().getBool("DEBUG");(0,d.env)().set("DEBUG",!1);var r=e.abs((0,d.scalar)(1e-8)).dataSync()[0];if((0,d.env)().set("DEBUG",t),r>0)return 32}return 16})),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?A:R}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),r=t.shape,n=t.dtype,a=t.values,s=t.texture,o=t.usage,i=t.isPacked;if(null==s){var c=null!=this.activeTimers;c&&(p=d.util.now());var u=t.texShape;if(null==u&&(t.texShape=u=E.getTextureShapeFromLogicalShape(r,i)),null!=a){var p,f,h,m=E.getShapeAs3D(r),g=u[1],v=u[0],_=a instanceof Uint8Array||a instanceof Uint8ClampedArray;(i||!_)&&(g=(h=(0,l._)(T.getPackedMatrixTextureShapeWidthHeight(u[0],u[1]),2))[0],v=h[1]),f=i?new(0,y.EncodeMatrixPackedProgram)(m,_):new(0,x.EncodeMatrixProgram)(m,_);var b=_?[v,g]:u,k=this.makeTensorInfo(b,n),j=this.texData.get(k.dataId);_?j.usage=T.TextureUsage.PIXELS:j.usage=T.TextureUsage.UPLOAD,j.texShape=b,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(k.dataId),g,v,a);var w=[[v,g]],I=this.runWebGLProgram(f,[k],n,w,!0),S=this.texData.get(I.dataId);t.texShape=S.texShape,t.isPacked=S.isPacked,t.usage=S.usage,(0,d.env)().get("ENGINE_COMPILE_ONLY")?this.disposeData(I.dataId):(t.texture=S.texture,t.values=null,this.texData.delete(I.dataId)),this.disposeIntermediateTensorInfo(k),c&&(this.uploadWaitMs+=d.util.now()-p)}else t.texture=this.acquireTexture(u,o,n,i)}}},{key:"convertAndCacheOnCPU",value:function(e,t){var r=this.texData.get(e),n=r.dtype;return null!=t&&(r.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var r="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),n=0;n<r.length;++n)r[n]=Math.round(e[n]);return r}throw Error("Unknown dtype ".concat(t))}(t,n)),r.values}},{key:"acquireTexture",value:function(e,t,r,n){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>1048576*this.numMBBeforeWarning){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,n)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*d.util.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=Object.entries(this.binaryCache)[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var s=(0,l._)(n.value,2)[1];this.checkCompletion_(s)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}},{key:"checkCompileCompletionAsync",value:function(){return(0,s._)(function(){var e,t,r,n,a,s,o,i,c,u,p,d,h,m;return(0,f._)(this,function(f){if(e=this,t=[],this.gpgpu.parallelCompilationExtension){r=!0,n=!1,a=void 0;try{for(s=Object.entries(this.binaryCache)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)i=(0,l._)(o.value,2)[1],t.push(this.checkCompletionAsync_(i))}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return[2,Promise.all(t)]}c=!0,u=!1,p=void 0;try{for(d=function(){var r=(0,l._)(m.value,2)[1],n=new Promise(function(t){try{e.checkCompletion_(r),t(!0)}catch(e){throw e}});t.push(n)},h=Object.entries(this.binaryCache)[Symbol.iterator]();!(c=(m=h.next()).done);c=!0)d()}catch(e){u=!0,p=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw p}}return[2,Promise.all(t)]})}).call(this)}},{key:"checkCompletionAsync_",value:function(e){return(0,s._)(function(){return(0,f._)(this,function(t){switch(t.label){case 0:if(!this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR))return[3,1];return[2,this.checkCompletion_(e)];case 1:return[4,(0,d.nextFrame)()];case 2:return t.sent(),[2,this.checkCompletionAsync_(e)];case 3:return[2]}})}).call(this)}},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw E.logShaderSourceAndInfoLog(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),Error("Failed to compile fragment shader.");throw Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=Object.values(this.binaryCache)[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var s=n.value;this.gpgpu.buildVao(s.webGLProgram);var o=(0,k.getUniformLocations)(this.gpgpu,s.program,s.webGLProgram),i=o.variablesLocations,c=o.customUniformLocations,u=o.infLoc,l=o.nanLoc,p=o.outShapeLocation,f=o.outShapeStridesLocation,d=o.outTexShapeLocation;s.variablesLocations=i,s.customUniformLocations=c,s.infLoc=u,s.nanLoc=l,s.outShapeLocation=p,s.outShapeStridesLocation=f,s.outTexShapeLocation=d}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}},{key:"createTensorFromGPUData",value:function(e,t,r){e.channels=e.channels||"RGBA";var n=e.texture,a=e.height,s=e.width,o=e.channels,i=(0,d.engine)().backend;if(!i.gpgpu.gl.isTexture(n))throw Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");var c=i.writeTexture(n,t,r,a,s,o);return(0,d.engine)().makeTensorFromDataId(c,t,r,i)}}]),t}(d.KernelBackend);B.nextDataId=0},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","./flags_webgl":"lWE9B","@tensorflow/tfjs-core":"aOH7b","./canvas_util":"pEvnT","./decode_matrix_gpu":"e3yva","./decode_matrix_packed_gpu":"02Z2D","./encode_float_gpu":"5Pqa0","./encode_float_packed_gpu":"azpVI","./encode_matrix_gpu":"jke0O","./encode_matrix_packed_gpu":"8Idqg","./gpgpu_context":"ed6Jg","./gpgpu_math":"7KkpX","./kernel_utils/shared":"gN7B4","./pack_gpu":"eOVAZ","./reshape_packed_gpu":"bEUJk","./tex_util":"fRKpU","./texture_manager":"j7Rk3","./unaryop_gpu":"66B4A","./unaryop_packed_gpu":"jwqfd","./unpack_gpu":"lwpH8","./webgl_util":"4eDDt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lWE9B:[function(e,t,r,n){var a=e("@tensorflow/tfjs-core"),s=e("./webgl_util"),o=(0,a.env)();o.registerFlag("HAS_WEBGL",function(){return o.getNumber("WEBGL_VERSION")>0}),o.registerFlag("WEBGL_VERSION",function(){return(0,s.isWebGLVersionEnabled)(2)?2:+!!(0,s.isWebGLVersionEnabled)(1)}),o.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",function(){return!1}),o.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===o.get("WEBGL_VERSION")}),o.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),o.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),o.registerFlag("WEBGL_PACK",function(){return o.getBool("HAS_WEBGL")}),o.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_PACK_CLIP",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_PACK_REDUCE",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_LAZILY_UNPACK",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_CONV_IM2COL",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",function(){return o.getBool("WEBGL_PACK")}),o.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return(0,s.getWebGLMaxTextureSize)(o.getNumber("WEBGL_VERSION"))}),o.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return(0,s.getMaxTexturesInShader)(o.getNumber("WEBGL_VERSION"))}),o.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=o.getNumber("WEBGL_VERSION");return 0===e?0:(0,s.getWebGLDisjointQueryTimerVersion)(e)}),o.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return o.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!a.device_util.isMobile()}),o.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return(0,s.isCapableOfRenderingToFloatTexture)(o.getNumber("WEBGL_VERSION"))}),o.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!o.getBool("WEBGL_FORCE_F16_TEXTURES")&&o.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),o.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return(0,s.isDownloadFloatTextureEnabled)(o.getNumber("WEBGL_VERSION"))}),o.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return(0,s.isWebGLFenceEnabled)(o.getNumber("WEBGL_VERSION"))}),o.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return 4*!!o.getBool("WEBGL_RENDER_FLOAT32_ENABLED")}),o.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",function(){return -1},function(e){if("number"!=typeof e)throw Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but "+"got ".concat(e,"."));if(e<0&&-1!==e)throw Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))}),o.registerFlag("WEBGL_FLUSH_THRESHOLD",function(){return a.device_util.isMobile()?1:-1},function(e){if("number"!=typeof e)throw Error("WEBGL_FLUSH_THRESHOLD must be a number but got "+"".concat(e,"."));if(e<0&&-1!==e)throw Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))}),o.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",function(){return 128}),o.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",function(){return!1}),o.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",function(){return 1e5}),o.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",function(){return 128}),o.registerFlag("WEBGL_EXP_CONV",function(){return!1}),o.registerFlag("SOFTWARE_WEBGL_ENABLED",function(){return o.getBool("IS_TEST")}),o.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",function(){return 1/0}),o.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",function(){return!1}),o.registerFlag("WEBGL2_ISNAN_CUSTOM",function(){return!1}),o.registerFlag("ENGINE_COMPILE_ONLY",function(){return!1})},{"@tensorflow/tfjs-core":"aOH7b","./webgl_util":"4eDDt"}],"4eDDt":[function(e,t,r,n){var a,s,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"callAndCheck",function(){return f}),o.export(r,"canBeRepresented",function(){return d}),o.export(r,"getWebGLErrorMessage",function(){return h}),o.export(r,"getExtensionOrThrow",function(){return m}),o.export(r,"createVertexShader",function(){return g}),o.export(r,"createFragmentShader",function(){return v}),o.export(r,"logShaderSourceAndInfoLog",function(){return x}),o.export(r,"createProgram",function(){return y}),o.export(r,"linkProgram",function(){return b}),o.export(r,"validateProgram",function(){return k}),o.export(r,"createStaticVertexBuffer",function(){return j}),o.export(r,"createStaticIndexBuffer",function(){return w}),o.export(r,"getNumChannels",function(){return I}),o.export(r,"createTexture",function(){return T}),o.export(r,"validateTextureSize",function(){return S}),o.export(r,"createFramebuffer",function(){return N}),o.export(r,"bindVertexBufferToProgramAttribute",function(){return M}),o.export(r,"bindTextureUnit",function(){return C}),o.export(r,"unbindTextureUnit",function(){return E}),o.export(r,"getProgramUniformLocationOrThrow",function(){return F}),o.export(r,"getProgramUniformLocation",function(){return A}),o.export(r,"bindTextureToProgramUniformSampler",function(){return R}),o.export(r,"bindCanvasToFramebuffer",function(){return P}),o.export(r,"bindColorTextureToFramebuffer",function(){return O}),o.export(r,"unbindColorTextureFromFramebuffer",function(){return D}),o.export(r,"validateFramebuffer",function(){return B}),o.export(r,"getFramebufferErrorMessage",function(){return V}),o.export(r,"getBatchDim",function(){return q}),o.export(r,"getRowsCols",function(){return z}),o.export(r,"getShapeAs3D",function(){return U}),o.export(r,"getTextureShapeFromLogicalShape",function(){return H}),o.export(r,"isReshapeFree",function(){return W}),o.export(r,"getWebGLMaxTextureSize",function(){return K}),o.export(r,"resetMaxTextureSize",function(){return X}),o.export(r,"resetMaxTexturesInShader",function(){return Z}),o.export(r,"getMaxTexturesInShader",function(){return Q}),o.export(r,"getWebGLDisjointQueryTimerVersion",function(){return J}),o.export(r,"hasExtension",function(){return Y}),o.export(r,"isWebGLVersionEnabled",function(){return $}),o.export(r,"isCapableOfRenderingToFloatTexture",function(){return ee}),o.export(r,"isDownloadFloatTextureEnabled",function(){return et}),o.export(r,"isWebGLFenceEnabled",function(){return en}),o.export(r,"assertNotComplex",function(){return ea});var i=e("@swc/helpers/cjs/_sliced_to_array.cjs"),c=e("@swc/helpers/cjs/_to_consumable_array.cjs"),u=e("@tensorflow/tfjs-core"),l=e("./canvas_util"),p=e("./tex_util");function f(e,t){var r=t();return(0,u.env)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw Error("WebGL Error: "+h(e,t))}(e),r}function d(e){return!!((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||596e-10<Math.abs(e)&&65504>Math.abs(e))}function h(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}function m(e,t){return G(e,function(){return e.getExtension(t)},'Extension "'+t+'" not supported on this browser.')}function g(e,t){var r=G(e,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(f(e,function(){return e.shaderSource(r,t)}),f(e,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),Error("Failed to compile vertex shader.");return r}function v(e,t){var r=G(e,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(f(e,function(){return e.shaderSource(r,t)}),f(e,function(){return e.compileShader(r)}),(0,u.env)().get("ENGINE_COMPILE_ONLY"))return r;if(!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw x(t,e.getShaderInfoLog(r)),Error("Failed to compile fragment shader.");return r}var _=/ERROR: [0-9]+:([0-9]+):/g;function x(e,t){var r=_.exec(t);if(null==r){console.log("Couldn't parse line number in error: ".concat(t)),console.log(e);return}for(var n=+r[1],a=e.split("\n"),s=a.length.toString().length+2,o=a.map(function(e,t){return u.util.rightPad((t+1).toString(),s)+e}),i=0,c=0;c<o.length;c++)i=Math.max(o[c].length,i);var l=o.slice(0,n-1),p=o.slice(n-1,n),f=o.slice(n);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(u.util.rightPad(p[0],i)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}function y(e){return G(e,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function b(e,t){if(f(e,function(){return e.linkProgram(t)}),!(0,u.env)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),Error("Failed to link vertex and fragment shaders.")}function k(e,t){if(f(e,function(){return e.validateProgram(t)}),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),Error("Shader program validation failed.")}function j(e,t){var r=G(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return f(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),f(e,function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}),r}function w(e,t){var r=G(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return f(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),f(e,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}),r}function I(){return 2===(0,u.env)().getNumber("WEBGL_VERSION")?1:4}function T(e){return G(e,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function S(e,t){var r=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw Error("Requested texture size "+"[".concat(e,"x").concat(t,"]")+" is invalid.");if(e>r||t>r)throw Error("Requested texture size "+"[".concat(e,"x").concat(t,"]")+" greater than WebGL maximum on this browser / GPU "+"[".concat(r,"x").concat(r,"]")+".")}function N(e){return G(e,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function M(e,t,r,n,a,s,o){var i=e.getAttribLocation(t,r);return -1!==i&&(f(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),f(e,function(){return e.vertexAttribPointer(i,a,e.FLOAT,!1,s,o)}),f(e,function(){return e.enableVertexAttribArray(i)}),!0)}function C(e,t,r){L(e,r),f(e,function(){return e.activeTexture(e.TEXTURE0+r)}),f(e,function(){return e.bindTexture(e.TEXTURE_2D,t)})}function E(e,t){L(e,t),f(e,function(){return e.activeTexture(e.TEXTURE0+t)}),f(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function F(e,t,r){return G(e,function(){return e.getUniformLocation(t,r)},'uniform "'+r+'" not present in program.')}function A(e,t,r){return e.getUniformLocation(t,r)}function R(e,t,r,n){f(e,function(){return C(e,t,n)}),f(e,function(){return e.uniform1i(r,n)})}function P(e){f(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),f(e,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),f(e,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})}function O(e,t,r){f(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),f(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)})}function D(e,t){f(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)}),f(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function B(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw Error("Error binding framebuffer: "+V(e,t))}function V(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}function G(e,t,r){var n=f(e,function(){return t()});if(null==n)throw Error(r);return n}function L(e,t){var r=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=t+e.TEXTURE0;if(n<e.TEXTURE0||n>r)throw Error("textureUnit must be in ".concat("[gl.TEXTURE0, gl.TEXTURE".concat(r,"]"),"."))}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u.util.sizeFromShape(e.slice(0,e.length-t))}function z(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function U(e){var t=[1,1,1];return 0!==e.length&&(1!==e.length||1!==e[0])&&(t=[q(e)].concat((0,c._)(z(e)))),t}function H(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE"),n=(0,u.env)().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");n===1/0&&(0,u.env)().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(n=r/2),t&&(r*=2,n*=2,1===(e=e.map(function(t,r){return r>=e.length-2?u.util.nearestLargerEven(e[r]):e[r]})).length&&(e=[2,e[0]])),2!==e.length&&(e=u.util.squeezeShape(e).newShape);var a=u.util.sizeFromShape(e),s=null;e.length<=1&&a<=r?s=[1,a]:2===e.length&&e[0]<=r&&e[1]<=r?s=e:3===e.length&&e[0]*e[1]<=r&&e[2]<=r?s=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=r&&e[1]*e[2]<=r?s=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r?s=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r&&(s=[e[0],e[1]*e[2]*e[3]]);var o=null!=s&&(l=Math).max.apply(l,(0,c._)(s))>n&&(p=Math).min.apply(p,(0,c._)(s))<=(t?2:1)&&(f=Math).min.apply(f,(0,c._)(s))>0;if(null==s||o)if(t){var l,p,f,d,h=q(e),m=2,g=2;e.length&&(m=(d=(0,i._)(z(e),2))[0],g=d[1]),a=m/2*h*(g/2),s=u.util.sizeToSquarishShape(a).map(function(e){return 2*e})}else s=u.util.sizeToSquarishShape(a);return s}function W(e,t){if(e=e.slice(-2),t=t.slice(-2),u.util.arraysEqual(e,t)||!e.length||!t.length||0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var r=e[e.length-1],n=t[t.length-1];if(r===n||r%2==0&&n%2==0&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&e[0]%2==0&&t[0]%2==0}function K(e){if(null==a){var t=(0,l.getWebGLContext)(e);a=t.getParameter(t.MAX_TEXTURE_SIZE)}return a}function X(){a=null}function Z(){s=null}function Q(e){if(null==s){var t=(0,l.getWebGLContext)(e);s=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,s)}function J(e){if(0===e)return 0;var t=(0,l.getWebGLContext)(e);return Y(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:+!!Y(t,"EXT_disjoint_timer_query")}function Y(e,t){return null!=e.getExtension(t)}function $(e){try{var t=(0,l.getWebGLContext)(e);if(null!=t)return!0}catch(e){console.log("Error when getting WebGL context: ",e)}return!1}function ee(e){if(0===e)return!1;var t=(0,l.getWebGLContext)(e);if(1===e){if(!Y(t,"OES_texture_float"))return!1}else if(!Y(t,"EXT_color_buffer_float"))return!1;return er(t)}function et(e){if(0===e)return!1;var t=(0,l.getWebGLContext)(e);if(1===e){if(!Y(t,"OES_texture_float")||!Y(t,"WEBGL_color_buffer_float"))return!1}else{if(Y(t,"EXT_color_buffer_float"))return er(t);var r="EXT_color_buffer_half_float";if(Y(t,r)){var n,a,s,o,i,c,u=t.getExtension(r);return n=t,a=u,s=(0,p.getTextureConfig)(n,a),o=n.createTexture(),n.bindTexture(n.TEXTURE_2D,o),n.texImage2D(n.TEXTURE_2D,0,s.internalFormatHalfFloat,1,1,0,s.textureFormatFloat,s.textureTypeHalfFloat,null),i=n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,i),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,o,0),c=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE,n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(o),n.deleteFramebuffer(i),c}return!1}return er(t)}function er(e){var t=(0,p.getTextureConfig)(e),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(n),a}function en(e){return 2===e&&null!=(0,l.getWebGLContext)(e).fenceSync}function ea(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&u.util.assert("complex64"!==e.dtype,function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."})})}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","./canvas_util":"pEvnT","./tex_util":"fRKpU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],pEvnT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clearWebGLContext",function(){return c}),a.export(r,"setWebGLContext",function(){return u}),a.export(r,"getWebGLContext",function(){return function e(t,r){if(!(t in o)||null!=r){var n=function(e,t){if(1!==e&&2!==e)throw Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=null==t?function(e){if(!(0,s.env)().getBool("IS_SAFARI")&&"undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw Error("Cannot create a canvas in this context")}(e):t;return(r.addEventListener("webglcontextlost",function(t){t.preventDefault(),delete o[e]},!1),(0,s.env)().getBool("SOFTWARE_WEBGL_ENABLED")&&(i.failIfMajorPerformanceCaveat=!1),1===e)?r.getContext("webgl",i)||r.getContext("experimental-webgl",i):r.getContext("webgl2",i)}(t,r);if(null===n)return console.log("Could not get context for WebGL version",t),null;o[t]=n}var a=o[t];return null==a||a.isContextLost()?(delete o[t],e(t)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),o[t])}});var s=e("@tensorflow/tfjs-core"),o={},i={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function c(e){delete o[e]}function u(e,t){o[e]=t}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fRKpU:[function(e,t,r,n){var a,s,o,i,c,u,l=e("@parcel/transformer-js/src/esmodule-helpers.js");l.defineInteropFlag(r),l.export(r,"PackingScheme",function(){return i}),l.export(r,"TextureUsage",function(){return c}),l.export(r,"PhysicalTextureType",function(){return u}),l.export(r,"getUnpackedMatrixTextureShapeWidthHeight",function(){return d}),l.export(r,"getUnpackedArraySizeFromMatrixSize",function(){return h}),l.export(r,"getColorMatrixTextureShapeWidthHeight",function(){return m}),l.export(r,"getDenseTexShape",function(){return g}),l.export(r,"getMatrixSizeFromUnpackedArraySize",function(){return v}),l.export(r,"decodeMatrixFromUnpackedColorRGBAArray",function(){return _}),l.export(r,"getPackedMatrixTextureShapeWidthHeight",function(){return x}),l.export(r,"getPackedRGBAArraySizeFromMatrixShape",function(){return y}),l.export(r,"getTextureConfig",function(){return b});var p=e("@swc/helpers/cjs/_sliced_to_array.cjs"),f=e("@tensorflow/tfjs-core");function d(e,t){return[t,e]}function h(e,t){return e*t}function m(e,t){return[4*t,e]}function g(e){var t=Math.ceil(f.util.sizeFromShape(e)/4);return f.util.sizeToSquarishShape(t)}function v(e,t){if(e%t!=0)throw Error("unpackedSize (".concat(e,") must be a multiple of ")+"".concat(t));return e/t}function _(e,t,r){var n=e.length*r/4;if(t.length<n)throw Error("matrix length (".concat(t.length,") must be >= ").concat(n));for(var a=0,s=0;s<e.length;s+=4)for(var o=0;o<r;o++)t[a++]=e[s+o]}function x(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function y(e,t){var r=(0,p._)(x(e,t),2);return r[0]*r[1]*4}function b(e,t){var r,n,a,s,o,i,c,u,l,p;return 2===(0,f.env)().getNumber("WEBGL_VERSION")?(r=e.R32F,n=e.R16F,a=e.RGBA16F,s=e.RGBA32F,o=e.RED,c=4,u=1,l=e.HALF_FLOAT,p=e.FLOAT,i=e.RGBA8):(r=e.RGBA,n=e.RGBA,a=e.RGBA,s=e.RGBA,o=e.RGBA,c=4,u=4,l=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,i=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:n,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:s,textureFormatFloat:o,downloadTextureFormat:i,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:p}}(a=i||(i={}))[a.DENSE=0]="DENSE",a[a.SHARED_BATCH=1]="SHARED_BATCH",(s=c||(c={}))[s.RENDER=0]="RENDER",s[s.UPLOAD=1]="UPLOAD",s[s.PIXELS=2]="PIXELS",s[s.DOWNLOAD=3]="DOWNLOAD",(o=u||(u={}))[o.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",o[o.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",o[o.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",o[o.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",o[o.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],e3yva:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DecodeMatrixProgram",function(){return l});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./glsl_version"),i=e("./gpgpu_math"),c=e("./shader_compiler_util"),u=e("./tex_util"),l=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=u.PackingScheme.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=(0,o.getGlslDifferences)();this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length),this.userCode="\n ivec3 outCoordsFromFlatIndex(int index) {\n ".concat(this.enableShapeUniforms?c.getOutputLogicalCoordinatesFromFlatIndexByUniform(["r","c","d"],t):c.getLogicalCoordinatesFromFlatIndex(["r","c","d"],t),"\n return ivec3(r, c, d);\n }\n\n void main() {\n ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n vec4 result = vec4(0.);\n\n for (int i=0; i<4; i++) {\n int flatIndex = index + i;\n ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n result[i] = getA(rc.x, rc.y, rc.z);\n }\n\n ").concat(r.output," = result;\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./glsl_version":"7QlJN","./gpgpu_math":"7KkpX","./shader_compiler_util":"l0BJT","./tex_util":"fRKpU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7QlJN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getGlslDifferences",function(){return o});var s=e("@tensorflow/tfjs-core");function o(){var e,t,r,n,a,o,i,c,u,l;return 2===(0,s.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",r="out",n="in",a="texture",o="outputColor",i="out vec4 outputColor;",c=(0,s.env)().getBool("WEBGL2_ISNAN_CUSTOM")?"\n bool isnan_custom(float val) {\n uint floatToUint = floatBitsToUint(val);\n return (floatToUint & 0x7fffffffu) >0x7f800000u;\n }\n\n bvec4 isnan_custom(vec4 val) {\n return bvec4(isnan_custom(val.x),\n isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n }\n\n #define isnan(value) isnan_custom(value)\n ":"",u="",l="\n #define round(value) newRound(value)\n int newRound(float value) {\n return int(floor(value + 0.5));\n }\n\n ivec4 newRound(vec4 value) {\n return ivec4(floor(value + vec4(0.5)));\n }\n "):(e="",t="attribute",r="varying",n="varying",a="texture2D",o="gl_FragColor",i="",c="\n #define isnan(value) isnan_custom(value)\n bool isnan_custom(float val) {\n return (val > 0. || val< 1. || val == 0.) ? false : true;\n }\n bvec4 isnan_custom(vec4 val) {\n return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n }\n ",u="\n uniform float INFINITY;\n\n bool isinf(float val) {\n return abs(val) == INFINITY;\n }\n bvec4 isinf(vec4 val) {\n return equal(abs(val), vec4(INFINITY));\n }\n ",l="\n int round(float value) {\n return int(floor(value + 0.5));\n }\n\n ivec4 round(vec4 value) {\n return ivec4(floor(value + vec4(0.5)));\n }\n "),{version:e,attribute:t,varyingVs:r,varyingFs:n,texture2D:a,output:o,defineOutput:i,defineSpecialNaN:c,defineSpecialInf:u,defineRound:l}}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7KkpX":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"compileProgram",function(){return c}),a.export(r,"getUniformLocations",function(){return u}),a.export(r,"runProgram",function(){return p}),a.export(r,"makeShaderKey",function(){return f}),a.export(r,"useShapeUniforms",function(){return d});var s=e("@tensorflow/tfjs-core"),o=e("./shader_compiler"),i=e("./webgl_util");function c(e,t,r,n){var a=r.map(function(e,r){var n={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(n.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[r],shapeInfo:n}}),c=a.map(function(e){return e.shapeInfo}),l={logicalShape:n.shape,texShape:n.texData.texShape,isUniform:!1,isPacked:n.texData.isPacked,flatOffset:null},p=o.makeShader(a,l,t),f=(0,i.createFragmentShader)(e.gl,p),d=e.createProgram(f);return(0,s.env)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:f,source:p,webGLProgram:d,inShapeInfos:c,outShapeInfo:l,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(d),Object.assign({program:t,fragmentShader:f,source:p,webGLProgram:d,inShapeInfos:c,outShapeInfo:l},u(e,t,d)))}function u(e,t,r){var n=[],a=[],o=null,i=null;i=e.getUniformLocation(r,"NAN",!1),1===(0,s.env)().getNumber("WEBGL_VERSION")&&(o=e.getUniformLocation(r,"INFINITY",!1));var c=!0,u=!1,l=void 0;try{for(var p,f,d,h,m=t.variableNames[Symbol.iterator]();!(c=(h=m.next()).done);c=!0){var g=h.value,v={name:g,uniform:e.getUniformLocation(r,g,!1),offset:e.getUniformLocation(r,"offset".concat(g),!1)};t.enableShapeUniforms&&(v.shape=e.getUniformLocation(r,"".concat(g,"Shape"),!1),v.texShape=e.getUniformLocation(r,"".concat(g,"TexShape"),!1)),n.push(v)}}catch(e){u=!0,l=e}finally{try{c||null==m.return||m.return()}finally{if(u)throw l}}t.enableShapeUniforms&&(p=e.getUniformLocation(r,"outShape",!1),d=e.getUniformLocation(r,"outShapeStrides",!1),f=e.getUniformLocation(r,"outTexShape",!1));var _=!0,x=!1,y=void 0;if(t.customUniforms)try{for(var b,k=t.customUniforms[Symbol.iterator]();!(_=(b=k.next()).done);_=!0){var j=b.value;a.push(e.getUniformLocation(r,j.name,!1))}}catch(e){x=!0,y=e}finally{try{_||null==k.return||k.return()}finally{if(x)throw y}}return{variablesLocations:n,customUniformLocations:a,infLoc:o,nanLoc:i,outShapeLocation:p,outShapeStridesLocation:d,outTexShapeLocation:f}}function l(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach(function(e,r){var n=e.logicalShape,a=t[r],o=a.shape;if(!s.util.arraysEqual(n,o))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(n," and ").concat(o," must match"));if(!e.isUniform||!a.isUniform){var i=e.texShape,c=a.isUniform?null:a.texData.texShape;if(!s.util.arraysEqual(i,c))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(i," and ").concat(c," must match"))}})}function p(e,t,r,n,a){t.program.enableShapeUniforms||(l(t.inShapeInfos,r),l([t.outShapeInfo],[n]));var i=n.texData.texture,c=n.texData.texShape;n.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,c[0],c[1]):e.setOutputMatrixTexture(i.texture,c[0],c[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===(0,s.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(var u=0;u<r.length;++u){var p=r[u],f=t.variablesLocations[u],d=f.uniform,h=f.offset,m=f.shape,g=f.texShape;if(m){var v=o.getUniformInfoFromShape(t.program.packedInputs,p.shape,p.texData.texShape).uniformShape;switch(v.length){case 1:e.gl.uniform1iv(m,new Int32Array(v));break;case 2:e.gl.uniform2iv(m,new Int32Array(v));break;case 3:e.gl.uniform3iv(m,new Int32Array(v));break;case 4:e.gl.uniform4iv(m,new Int32Array(v))}}if(g&&e.gl.uniform2i(g,p.texData.texShape[0],p.texData.texShape[1]),null!=d){if(p.isUniform){if(2>s.util.sizeFromShape(p.shape))e.gl.uniform1f(d,p.uniformValues[0]);else{var _=p.uniformValues;_ instanceof Float32Array||(_=new Float32Array(_)),e.gl.uniform1fv(d,_)}continue}null!=p.texData.slice&&null!=h&&e.gl.uniform1i(h,p.texData.slice.flatOffset),e.setInputMatrixTexture(p.texData.texture.texture,d,u)}}var x=t.outShapeLocation;if(x)switch(n.shape.length){case 1:e.gl.uniform1iv(x,new Int32Array(n.shape));break;case 2:e.gl.uniform2iv(x,new Int32Array(n.shape));break;case 3:e.gl.uniform3iv(x,new Int32Array(n.shape));break;case 4:e.gl.uniform4iv(x,new Int32Array(n.shape))}if(t.outShapeStridesLocation){var y=s.util.computeStrides(n.shape);switch(n.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(y));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(y));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(y))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,n.texData.texShape[0],n.texData.texShape[1]),t.program.customUniforms&&a)for(var b=0;b<t.program.customUniforms.length;++b){var k=t.program.customUniforms[b],j=t.customUniformLocations[b],w=a[b];if("float"===k.type)e.gl.uniform1fv(j,w);else if("vec2"===k.type)e.gl.uniform2fv(j,w);else if("vec3"===k.type)e.gl.uniform3fv(j,w);else if("vec4"===k.type)e.gl.uniform4fv(j,w);else if("int"===k.type)e.gl.uniform1iv(j,w);else if("ivec2"===k.type)e.gl.uniform2iv(j,w);else if("ivec3"===k.type)e.gl.uniform3iv(j,w);else if("ivec4"===k.type)e.gl.uniform4iv(j,w);else throw Error("uniform type ".concat(k.type," is not supported yet."))}e.executeProgram()}function f(e,t,r){var n="";t.concat(r).forEach(function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var i=t.texData.texShape,c=o.getUniformInfoFromShape(e.packedInputs,t.shape,i),u=c.useSqueezeShape,l=c.uniformShape,p=c.keptDims,f="",d="",h="";if(1===l.length&&e.packedInputs){var m=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];f="".concat(m[0]>1,"_").concat(m[1]>1)}else if(2!==l.length||e.packedInputs){if(l.length>2&&!e.packedInputs){var g=s.util.computeStrides(l);h="".concat(g[0]===i[1],"_").concat(g[g.length-1]===i[1])}}else d="".concat(l[0]>1,"_").concat(l[1]>1);var v=t.shape.length,_=2===l.length&&s.util.arraysEqual(t.shape,i),x=1===s.util.sizeFromShape(t.shape),y=s.backend_util.getBroadcastDims(t.shape,r.shape),b=!e.packedInputs&&v===r.shape.length&&s.util.arraysEqual(i,r.texData.texShape),k=e.packedInputs||l.length>2?"":"".concat(i[0]>1,"_").concat(i[1]>1);n+="".concat(v,"_").concat(b,"_").concat(u?p:"","_").concat(l.length,"_").concat(x,"_").concat(y,"_").concat(_,"_").concat(f,"_").concat(d,"_").concat(h,"_").concat(k,"_").concat(a)}else{var j=t.isUniform?"uniform":t.texData.texShape;n+="".concat(t.shape,"_").concat(j,"_").concat(a)}});var a=e.userCode,i=e.constructor.name;return i+("_"+n+"_"+a+"".concat((0,s.env)().getNumber("WEBGL_VERSION")))}function d(e){return(0,s.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}},{"@tensorflow/tfjs-core":"aOH7b","./shader_compiler":"aJ4l7","./webgl_util":"4eDDt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aJ4l7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"makeShader",function(){return l}),a.export(r,"getCoordsDataType",function(){return _}),a.export(r,"getUniformInfoFromShape",function(){return x}),a.export(r,"squeezeInputInfo",function(){return y});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./glsl_version"),c=e("./shader_compiler_util"),u=o.backend_util.getBroadcastDims;function l(e,t,r){var n,a,l,k,j,w,I=[];if(e.forEach(function(e){var t=o.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?I.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(I.push("uniform sampler2D ".concat(e.name,";")),I.push("uniform int offset".concat(e.name,";"))),r.enableShapeUniforms){switch(x(r.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:I.push("uniform int ".concat(e.name,"Shape;"));break;case 2:I.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:I.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:I.push("uniform ivec4 ".concat(e.name,"Shape;"))}I.push("uniform ivec2 ".concat(e.name,"TexShape;"))}}),r.enableShapeUniforms){switch(t.logicalShape.length){case 1:I.push("uniform int outShape;");break;case 2:I.push("uniform ivec2 outShape;"),I.push("uniform int outShapeStrides;");break;case 3:I.push("uniform ivec3 outShape;"),I.push("uniform ivec2 outShapeStrides;");break;case 4:I.push("uniform ivec4 outShape;"),I.push("uniform ivec3 outShapeStrides;")}I.push("uniform ivec2 outTexShape;")}r.customUniforms&&r.customUniforms.forEach(function(e){I.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))});var T=I.join("\n"),S=e.map(function(e){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,a="";r?a+=function e(t,r){switch(t.shapeInfo.logicalShape.length){case 0:var n,a,s;return a="get"+(n=t.name).charAt(0).toUpperCase()+n.slice(1),s=(0,i.getGlslDifferences)(),"\n vec4 ".concat(a,"() {\n return ").concat(s.texture2D,"(").concat(n,", halfCR);\n }\n ");case 1:return function(e,t){var r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,s=(0,i.getGlslDifferences)();if(t)return"\n vec4 ".concat(n,"(int index) {\n ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n vec2 uv = packedUVfrom1D(\n packedTexShape[0], packedTexShape[1], index);\n return ").concat(s.texture2D,"(").concat(r,", uv);\n }\n ");var o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n vec4 ".concat(n,"(int index) {\n vec2 uv = packedUVfrom1D(\n ").concat(o[0],", ").concat(o[1],", index);\n return ").concat(s.texture2D,"(").concat(r,", uv);\n }\n ")}(t,r);case 2:return function(e,t){var r=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e.shapeInfo.texShape,c=s[0],u=s[1],l=(0,i.getGlslDifferences)();if(null!=s&&o.util.arraysEqual(r,s))return t?"\n vec4 ".concat(a,"(int row, int col) {\n vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(n,"TexShape[1], ").concat(n,"TexShape[0]);\n\n return ").concat(l.texture2D,"(").concat(n,", uv);\n }\n "):"\n vec4 ".concat(a,"(int row, int col) {\n vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(c,".0);\n\n return ").concat(l.texture2D,"(").concat(n,", uv);\n }\n ");if(t)return"\n vec4 ".concat(a,"(int row, int col) {\n ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n int valuesPerRow = int(ceil(float(").concat(n,"Shape[1]) / 2.0));\n vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n return ").concat(l.texture2D,"(").concat(n,", uv);\n }\n ");var p=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],f=Math.ceil(r[1]/2);return"\n vec4 ".concat(a,"(int row, int col) {\n vec2 uv = packedUVfrom2D(").concat(f,", ").concat(p[0],", ").concat(p[1],", row, col);\n return ").concat(l.texture2D,"(").concat(n,", uv);\n }\n ")}(t,r);case 3:return function(t,r){var n=t.shapeInfo.logicalShape,a=t.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),o=t.shapeInfo.texShape,c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){var u=y(t,n.slice(1));return"\n ".concat(e(u,r),"\n vec4 ").concat(s,"(int b, int row, int col) {\n return ").concat(s,"(").concat(b(["b","row","col"],[1,2]),");\n }\n ")}var l=(0,i.getGlslDifferences)();if(r)return"\n vec4 ".concat(s,"(int b, int row, int col) {\n ivec2 packedTexShape = ivec2(ceil(float(").concat(a,"TexShape[0]) / 2.0), ceil(float(").concat(a,"TexShape[1]) / 2.0));\n int valuesPerRow = int(ceil(float(").concat(a,"Shape[2]) / 2.0));\n int texelsInBatch = valuesPerRow * int(ceil(float(").concat(a,"Shape[1]) / 2.0));\n vec2 uv = packedUVfrom3D(\n packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n return ").concat(l.texture2D,"(").concat(a,", uv);\n }\n ");var p=c[0],f=c[1],d=Math.ceil(n[2]/2),h=d*Math.ceil(n[1]/2);return"\n vec4 ".concat(s,"(int b, int row, int col) {\n vec2 uv = packedUVfrom3D(\n ").concat(p,", ").concat(f,", ").concat(h,", ").concat(d,", b, row, col);\n return ").concat(l.texture2D,"(").concat(a,", uv);\n }\n ")}(t,r);default:return function(e,t){var r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=(0,i.getGlslDifferences)();if(t)return"\n vec4 ".concat(n,"(int b2, int b, int row, int col) {\n int valuesPerRow = int(ceil(float(").concat(r,"Shape[3]) / 2.0));\n int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n texelsInBatch *= ").concat(r,"Shape[1];\n index = b2 * texelsInBatch + index;\n ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n int texR = index / packedTexShape[1];\n int texC = index - texR * packedTexShape[1];\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(r,", uv);\n }\n ");for(var s=e.shapeInfo.logicalShape,o=s.length,c=e.shapeInfo.texShape,u=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],l=u[0],p=u[1],f=Math.ceil(s[o-1]/2),d=f*Math.ceil(s[o-2]/2),h="int b, int row, int col",m="b * ".concat(d," + (row / 2) * ").concat(f," + (col / 2)"),g=2;g<o-1;g++)h="int b".concat(g,", ")+h,d*=s[o-g-1],m="b".concat(g," * ").concat(d," + ")+m;return"\n vec4 ".concat(n,"(").concat(h,") {\n int index = ").concat(m,";\n int texR = index / ").concat(p,";\n int texC = index - texR * ").concat(p,";\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(p,", ").concat(l,");\n return ").concat(a.texture2D,"(").concat(r,", uv);\n }\n ")}(t,r)}}(e,n):a+=function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){var r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(n,"() {return ").concat(r,";}");var a=(0,s._)(e.shapeInfo.texShape,2),o=a[0],i=a[1];if(1===o&&1===i)return"\n float ".concat(n,"() {\n return sampleTexture(").concat(r,", halfCR);\n }\n ");var c=g(r);if(t)return"\n float ".concat(n,"() {\n vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], ").concat(c,");\n return sampleTexture(").concat(r,", uv);\n }\n ");var u=(0,s._)(e.shapeInfo.texShape,2),l=u[0],p=u[1];return"\n float ".concat(n,"() {\n vec2 uv = uvFromFlat(").concat(l,", ").concat(p,", ").concat(c,");\n return sampleTexture(").concat(r,", uv);\n }\n ")}(t,r);case 1:return function(e,t){var r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return"\n float ".concat(n,"(int index) {\n ").concat(v(e),"\n }\n ");var a=e.shapeInfo.texShape,s=a[0],o=a[1];if(1===o&&1===s)return"\n float ".concat(n,"(int index) {\n return sampleTexture(").concat(r,", halfCR);\n }\n ");var i=g(r);return 1===o?t?"\n float ".concat(n,"(int index) {\n vec2 uv = vec2(0.5, (float(index + ").concat(i,") + 0.5) / float(").concat(r,"TexShape[0]));\n return sampleTexture(").concat(r,", uv);\n }\n "):"\n float ".concat(n,"(int index) {\n vec2 uv = vec2(0.5, (float(index + ").concat(i,") + 0.5) / ").concat(s,".0);\n return sampleTexture(").concat(r,", uv);\n }\n "):1===s?t?"\n float ".concat(n,"(int index) {\n vec2 uv = vec2((float(index + ").concat(i,") + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n return sampleTexture(").concat(r,", uv);\n }\n "):"\n float ".concat(n,"(int index) {\n vec2 uv = vec2((float(index + ").concat(i,") + 0.5) / ").concat(o,".0, 0.5);\n return sampleTexture(").concat(r,", uv);\n }\n "):t?"\n float ".concat(n,"(int index) {\n vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(i,");\n return sampleTexture(").concat(r,", uv);\n }\n "):"\n float ".concat(n,"(int index) {\n vec2 uv = uvFromFlat(").concat(s,", ").concat(o,", index + ").concat(i,");\n return sampleTexture(").concat(r,", uv);\n }\n ")}(t,r);case 2:return function(t,r){var n=t.shapeInfo.logicalShape,a=t.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),i=t.shapeInfo.texShape;if(null!=i&&o.util.arraysEqual(n,i)){if(r)return"\n float ".concat(s,"(int row, int col) {\n vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n ");var c=i[0],u=i[1];return"\n float ".concat(s,"(int row, int col) {\n vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(c,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ")}var l=o.util.squeezeShape(n),p=l.newShape,f=l.keptDims;if(p.length<n.length){var d=y(t,p);return"\n ".concat(e(d,r),"\n float ").concat(s,"(int row, int col) {\n return ").concat(s,"(").concat(b(["row","col"],f),");\n }\n ")}if(t.shapeInfo.isUniform)return"\n float ".concat(s,"(int row, int col) {\n int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n ").concat(v(t),"\n }\n ");var h=i[0],m=i[1],_=g(a);return 1===m?r?"\n float ".concat(s,"(int row, int col) {\n float index = dot(vec3(row, col, ").concat(_,"), vec3(").concat(a,"Shape[1], 1, 1));\n vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(a,"TexShape[0]));\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(s,"(int row, int col) {\n float index = dot(vec3(row, col, ").concat(_,"), vec3(").concat(n[1],", 1, 1));\n vec2 uv = vec2(0.5, (index + 0.5) / ").concat(h,".0);\n return sampleTexture(").concat(a,", uv);\n }\n "):1===h?r?"\n float ".concat(s,"(int row, int col) {\n float index = dot(vec3(row, col, ").concat(_,"), vec3(").concat(a,"Shape[1], 1, 1));\n vec2 uv = vec2((index + 0.5) / float(").concat(a,"TexShape[1]), 0.5);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(s,"(int row, int col) {\n float index = dot(vec3(row, col, ").concat(_,"), vec3(").concat(n[1],", 1, 1));\n vec2 uv = vec2((index + 0.5) / ").concat(m,".0, 0.5);\n return sampleTexture(").concat(a,", uv);\n }\n "):r?"\n float ".concat(s,"(int row, int col) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(a,"Shape[1] + col + ").concat(_,";\n vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(s,"(int row, int col) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(n[1]," + col + ").concat(_,";\n vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n return sampleTexture(").concat(a,", uv);\n }\n")}(t,r);case 3:return function(t,r){var n=t.shapeInfo.logicalShape,a=t.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),i=n[1]*n[2],c=n[2],u=o.util.squeezeShape(n),l=u.newShape,p=u.keptDims;if(l.length<n.length){var f=y(t,l);return"\n ".concat(e(f,r),"\n float ").concat(s,"(int row, int col, int depth) {\n return ").concat(s,"(").concat(b(["row","col","depth"],p),");\n }\n ")}if(t.shapeInfo.isUniform)return"\n float ".concat(s,"(int row, int col, int depth) {\n int index = round(dot(vec3(row, col, depth),\n vec3(").concat(i,", ").concat(c,", 1)));\n ").concat(v(t),"\n }\n ");var d=t.shapeInfo.texShape,h=d[0],m=d[1],_=t.shapeInfo.flatOffset;if(m===i&&null==_)return r?"\n float ".concat(s,"(int row, int col, int depth) {\n int stride1 = ").concat(a,"Shape[2];\n float texR = float(row);\n float texC = dot(vec2(col, depth), vec2(stride1, 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(s,"(int row, int col, int depth) {\n float texR = float(row);\n float texC = dot(vec2(col, depth), vec2(").concat(c,", 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(m,".0, ").concat(h,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ");if(m===c&&null==_)return r?"\n float ".concat(s,"(int row, int col, int depth) {\n float texR = dot(vec2(row, col), vec2(").concat(a,"Shape[1], 1));\n float texC = float(depth);\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(s,"(int row, int col, int depth) {\n float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n float texC = float(depth);\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(m,".0, ").concat(h,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ");var x=g(a);return r?"\n float ".concat(s,"(int row, int col, int depth) {\n // Explicitly use integer operations as dot() only works on floats.\n int stride0 = ").concat(a,"Shape[1] * ").concat(a,"Shape[2];\n int stride1 = ").concat(a,"Shape[2];\n int index = row * stride0 + col * stride1 + depth + ").concat(x,";\n vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(s,"(int row, int col, int depth) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(i," + col * ").concat(c," + depth + ").concat(x,";\n vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n return sampleTexture(").concat(a,", uv);\n }\n ")}(t,r);case 4:return function(t,r){var n=t.shapeInfo.logicalShape,a=t.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),i=n[3],c=n[2]*i,u=n[1]*c,l=o.util.squeezeShape(n),p=l.newShape,f=l.keptDims;if(p.length<n.length){var d=y(t,p);return"\n ".concat(e(d,r),"\n float ").concat(s,"(int row, int col, int depth, int depth2) {\n return ").concat(s,"(").concat(b(["row","col","depth","depth2"],f),");\n }\n ")}if(t.shapeInfo.isUniform)return"\n float ".concat(s,"(int row, int col, int depth, int depth2) {\n int index = round(dot(vec4(row, col, depth, depth2),\n vec4(").concat(u,", ").concat(c,", ").concat(i,", 1)));\n ").concat(v(t),"\n }\n ");var h=t.shapeInfo.flatOffset,m=t.shapeInfo.texShape,_=m[0],x=m[1],k="int stride2 = ".concat(a,"Shape[3];"),j="int stride1 = ".concat(a,"Shape[2] * stride2;"),w="int stride0 = ".concat(a,"Shape[1] * stride1;");if(x===u&&null==h)return r?"\n float ".concat(s,"(int row, int col, int depth, int depth2) {\n ").concat(k,"\n ").concat(j,"\n float texR = float(row);\n float texC =\n dot(vec3(col, depth, depth2),\n vec3(stride1, stride2, 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(s,"(int row, int col, int depth, int depth2) {\n float texR = float(row);\n float texC =\n dot(vec3(col, depth, depth2),\n vec3(").concat(c,", ").concat(i,", 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(x,".0, ").concat(_,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ");if(x===i&&null==h)return r?"\n float ".concat(s,"(int row, int col, int depth, int depth2) {\n float texR = dot(vec3(row, col, depth),\n vec3(").concat(a,"Shape[1] * ").concat(a,"Shape[2], ").concat(a,"Shape[2], 1));\n float texC = float(depth2);\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(s,"(int row, int col, int depth, int depth2) {\n float texR = dot(vec3(row, col, depth),\n vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n float texC = float(depth2);\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(x,".0, ").concat(_,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ");var I=g(a);return r?"\n float ".concat(s,"(int row, int col, int depth, int depth2) {\n // Explicitly use integer operations as dot() only works on floats.\n ").concat(k,"\n ").concat(j,"\n ").concat(w,"\n int index = row * stride0 + col * stride1 +\n depth * stride2 + depth2;\n vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index + ").concat(I,");\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(s,"(int row, int col, int depth, int depth2) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(u," + col * ").concat(c," +\n depth * ").concat(i," + depth2;\n vec2 uv = uvFromFlat(").concat(_,", ").concat(x,", index + ").concat(I,");\n return sampleTexture(").concat(a,", uv);\n }\n ")}(t,r);case 5:return function(t){var r=t.shapeInfo.logicalShape,n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),s=r[4],i=r[3]*s,c=r[2]*i,u=r[1]*c,l=o.util.squeezeShape(r),p=l.newShape,f=l.keptDims;if(p.length<r.length){var d=y(t,p);return"\n ".concat(e(d),"\n float ").concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n return ").concat(a,"(").concat(b(["row","col","depth","depth2","depth3"],f),");\n }\n ")}if(t.shapeInfo.isUniform)return"\n float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n float index = dot(\n vec4(row, col, depth, depth2),\n vec4(").concat(u,", ").concat(c,", ").concat(i,", ").concat(s,")) +\n depth3;\n ").concat(v(t),"\n }\n ");var h=t.shapeInfo.flatOffset,m=t.shapeInfo.texShape,_=m[0],x=m[1];if(x===u&&null==h)return"\n float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n int texR = row;\n float texC = dot(vec4(col, depth, depth2, depth3),\n vec4(").concat(c,", ").concat(i,", ").concat(s,", 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(x,".0, ").concat(_,".0);\n return sampleTexture(").concat(n,", uv);\n }\n ");if(x===s&&null==h)return"\n float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n float texR = dot(\n vec4(row, col, depth, depth2),\n vec4(").concat(r[1]*r[2]*r[3],",\n ").concat(r[2]*r[3],", ").concat(r[3],", 1));\n int texC = depth3;\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(x,".0, ").concat(_,".0);\n return sampleTexture(").concat(n,", uv);\n }\n ");var k=g(n);return"\n float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(i," +\n depth2 * ").concat(s," + depth3 + ").concat(k,";\n vec2 uv = uvFromFlat(").concat(_,", ").concat(x,", index);\n return sampleTexture(").concat(n,", uv);\n }\n ")}(t);case 6:return function(t){var r=t.shapeInfo.logicalShape,n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),s=o.util.squeezeShape(r),i=s.newShape,c=s.keptDims;if(i.length<r.length){var u=y(t,i);return"\n ".concat(e(u),"\n float ").concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n return ").concat(a,"(").concat(b(["row","col","depth","depth2","depth3","depth4"],c),");\n }\n ")}var l=r[5],p=r[4]*l,f=r[3]*p,d=r[2]*f,h=r[1]*d;if(t.shapeInfo.isUniform)return"\n float ".concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n int index = round(dot(\n vec4(row, col, depth, depth2),\n vec4(").concat(h,", ").concat(d,", ").concat(f,", ").concat(p,")) +\n dot(\n vec2(depth3, depth4),\n vec2(").concat(l,", 1)));\n ").concat(v(t),"\n }\n ");var m=t.shapeInfo.flatOffset,_=t.shapeInfo.texShape,x=_[0],k=_[1];if(k===h&&null==m)return"\n float ".concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n int texR = row;\n float texC = dot(vec4(col, depth, depth2, depth3),\n vec4(").concat(d,", ").concat(f,", ").concat(p,", ").concat(l,")) +\n float(depth4);\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(k,".0, ").concat(x,".0);\n return sampleTexture(").concat(n,", uv);\n }\n ");if(k===l&&null==m)return"\n float ".concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n float texR = dot(vec4(row, col, depth, depth2),\n vec4(").concat(r[1]*r[2]*r[3]*r[4],",\n ").concat(r[2]*r[3]*r[4],",\n ").concat(r[3]*r[4],",\n ").concat(r[4],")) + float(depth3);\n int texC = depth4;\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(k,".0, ").concat(x,".0);\n return sampleTexture(").concat(n,", uv);\n }\n ");var j=g(n);return"\n float ".concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(h," + col * ").concat(d," + depth * ").concat(f," +\n depth2 * ").concat(p," + depth3 * ").concat(l," + depth4 + ").concat(j,";\n vec2 uv = uvFromFlat(").concat(x,", ").concat(k,", index);\n return sampleTexture(").concat(n,", uv);\n }\n ")}(t);default:throw Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}(e,n);var c=e.shapeInfo.logicalShape,l=t.logicalShape;return c.length<=l.length&&(r?a+=function(e,t){var r,n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),s="get"+a+"AtOutCoords",i=e.shapeInfo.logicalShape.length,c=t.logicalShape.length,l=u(e.shapeInfo.logicalShape,t.logicalShape),p=_(c),f=c-i,d=["x","y","z","w","u","v"];r=0===i?"":c<2&&l.length>=1?"coords = 0;":l.map(function(e){return"coords.".concat(d[e+f]," = 0;")}).join("\n");var h="";h=c<2&&i>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords.".concat(d[t+f])}).join(", ");var m="return outputValue;",g=1===o.util.sizeFromShape(e.shapeInfo.logicalShape),v=1===o.util.sizeFromShape(t.logicalShape);if(1!==i||g||v){if(g&&!v)m=1===c?"\n return vec4(outputValue.x, outputValue.x, 0., 0.);\n ":"\n return vec4(outputValue.x);\n ";else if(l.length){var x=i-2,y=i-1;l.indexOf(x)>-1&&l.indexOf(y)>-1?m="return vec4(outputValue.x);":l.indexOf(x)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(y)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}}else m="\n return vec4(outputValue.xy, outputValue.xy);\n ";return"\n vec4 ".concat(s,"() {\n ").concat(p," coords = getOutputCoords();\n ").concat(r,"\n vec4 outputValue = get").concat(a,"(").concat(h,");\n ").concat(m,"\n }\n ")}(e,t):a+=function(e,t){var r,n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),s="get"+a+"AtOutCoords",i=t.texShape,c=e.shapeInfo.texShape,l=e.shapeInfo.logicalShape.length,p=t.logicalShape.length;if(!e.shapeInfo.isUniform&&l===p&&null==e.shapeInfo.flatOffset&&o.util.arraysEqual(c,i))return"\n float ".concat(s,"() {\n return sampleTexture(").concat(n,", resultUV);\n }\n ");var f=_(p),d=u(e.shapeInfo.logicalShape,t.logicalShape),h=p-l,m=["x","y","z","w","u","v"];r=0===l?"":p<2&&d.length>=1?"coords = 0;":d.map(function(e){return"coords.".concat(m[e+h]," = 0;")}).join("\n");var g="";return g=p<2&&l>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords.".concat(m[t+h])}).join(", "),"\n float ".concat(s,"() {\n ").concat(f," coords = getOutputCoords();\n ").concat(r,"\n return get").concat(a,"(").concat(g,");\n }\n ")}(e,t)),a}(e,t,r.packedInputs,r.enableShapeUniforms)}).join("\n"),N=t.texShape,M=(0,i.getGlslDifferences)(),C=(n=M,"\n float sampleTexture(sampler2D textureSampler, vec2 uv) {\n return ".concat(n.texture2D,"(textureSampler, uv).r;\n }\n ")),E=(a=M,"".concat(a.version,"\n precision highp float;\n precision highp int;\n precision highp sampler2D;\n ").concat(a.varyingFs," vec2 resultUV;\n ").concat(a.defineOutput,"\n const vec2 halfCR = vec2(0.5, 0.5);\n\n struct ivec5\n {\n int x;\n int y;\n int z;\n int w;\n int u;\n };\n\n struct ivec6\n {\n int x;\n int y;\n int z;\n int w;\n int u;\n int v;\n };\n\n uniform float NAN;\n ").concat(a.defineSpecialNaN,"\n ").concat(a.defineSpecialInf,"\n ").concat(a.defineRound,"\n\n int imod(int x, int y) {\n return x - y * (x / y);\n }\n\n int idiv(int a, int b, float sign) {\n int res = a / b;\n int mod = imod(a, b);\n if (sign< 0. && mod != 0) {\n res -= 1;\n }\n return res;\n }\n\n //Based on the work of Dave Hoskins\n //https://www.shadertoy.com/view/4djSRW\n #define HASHSCALE1 443.8975\n float random(float seed){\n vec2 p = resultUV * seed;\n vec3 p3 = fract(vec3(p.xyx) * HASHSCALE1);\n p3 += dot(p3, p3.yzx + 19.19);\n return fract((p3.x + p3.y) * p3.z);\n }\n\n ").concat(p,"\n ").concat(f,"\n ").concat(d,"\n "));return t.isPacked?(j=function(e,t,r){switch(e.length){case 0:return m();case 1:var n,a,s;return n=t,a=r,1===(s=[Math.ceil(n[0]/2),Math.ceil(n[1]/2)])[0]?a?"\n int getOutputCoords() {\n return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n }\n ":"\n int getOutputCoords() {\n return 2 * int(resultUV.x * ".concat(s[1],".0);\n }\n "):1===s[1]?a?"\n int getOutputCoords() {\n return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n }\n ":"\n int getOutputCoords() {\n return 2 * int(resultUV.y * ".concat(s[0],".0);\n }\n "):a?"\n int getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(packedTexShape[0], packedTexShape[1]));\n return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n }\n ":"\n int getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(s[0],", ").concat(s[1],"));\n return 2 * (resTexRC.x * ").concat(s[1]," + resTexRC.y);\n }\n ");case 2:var i=e,c=t,u=r,l=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];if(o.util.arraysEqual(i,c))return u?"\n ivec2 getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n }\n ":"\n ivec2 getOutputCoords() {\n return 2 * ivec2(resultUV.yx * vec2(".concat(l[0],", ").concat(l[1],"));\n }\n ");var p=Math.ceil(i[1]/2);return u?"\n ivec2 getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(packedTexShape[0], packedTexShape[1]));\n\n int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n int r = 2 * (index / texelsInLogicalRow);\n int c = imod(index, texelsInLogicalRow) * 2;\n\n return ivec2(r, c);\n }\n ":"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(l[0],", ").concat(l[1],"));\n\n int index = resTexRC.x * ").concat(l[1]," + resTexRC.y;\n int r = 2 * (index / ").concat(p,");\n int c = imod(index, ").concat(p,") * 2;\n\n return ivec2(r, c);\n }\n ");case 3:var f=e,d=t,h=r;if(h)return"\n ivec3 getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(packedTexShape[0], packedTexShape[1]));\n int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n int b = index / texelsInBatch;\n index -= b * texelsInBatch;\n\n int r = 2 * (index / texelsInLogicalRow);\n int c = imod(index, texelsInLogicalRow) * 2;\n\n return ivec3(b, r, c);\n }\n ";var g=[Math.ceil(d[0]/2),Math.ceil(d[1]/2)],v=Math.ceil(f[2]/2),_=v*Math.ceil(f[1]/2);return"\n ivec3 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(g[0],", ").concat(g[1],"));\n int index = resTexRC.x * ").concat(g[1]," + resTexRC.y;\n\n int b = index / ").concat(_,";\n index -= b * ").concat(_,";\n\n int r = 2 * (index / ").concat(v,");\n int c = imod(index, ").concat(v,") * 2;\n\n return ivec3(b, r, c);\n }\n ");default:return function(e,t,r){if(r)return"\n ivec4 getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(packedTexShape[0], packedTexShape[1]));\n int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n int texelsInBatchN = texelsInBatch * outShape[1];\n\n int b2 = index / texelsInBatchN;\n index -= b2 * texelsInBatchN;\n\n int b = index / texelsInBatch;\n index -= b * texelsInBatch;\n\n int r = 2 * (index / texelsInLogicalRow);\n int c = imod(index, texelsInLogicalRow) * 2;\n\n return ivec4(b2, b, r, c);\n }\n ";for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),s=a*Math.ceil(e[e.length-2]/2),o=s,i="",c="b, r, c",u=2;u<e.length-1;u++)o*=e[e.length-u-1],i="\n int b".concat(u," = index / ").concat(o,";\n index -= b").concat(u," * ").concat(o,";\n ")+i,c="b".concat(u,", ")+c;return"\n ivec".concat(e.length," getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(").concat(n[0],", ").concat(n[1],"));\n int index = resTexRC.x * ").concat(n[1]," + resTexRC.y;\n\n ").concat(i,"\n\n int b = index / ").concat(s,";\n index -= b * ").concat(s,";\n\n int r = 2 * (index / ").concat(a,");\n int c = imod(index, ").concat(a,") * 2;\n\n return ivec").concat(e.length,"(").concat(c,");\n }\n ")}(e,t,r)}}(t.logicalShape,N,r.enableShapeUniforms),l=M,w="\n void setOutput(vec4 val) {\n ".concat(l.output," = val;\n }\n ")):(j=function(e,t,r){switch(e.length){case 0:return m();case 1:return n=t,a=r,1===n[0]?a?"\n int getOutputCoords() {\n return int(resultUV.x * float(outTexShape[1]));\n }\n ":"\n int getOutputCoords() {\n return int(resultUV.x * ".concat(n[1],".0);\n }\n "):1===n[1]?a?"\n int getOutputCoords() {\n return int(resultUV.y * float(outTexShape[0]));\n }\n ":"\n int getOutputCoords() {\n return int(resultUV.y * ".concat(n[0],".0);\n }\n "):a?"\n int getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n return resTexRC.x * outTexShape[1] + resTexRC.y;\n }\n ":"\n int getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(n[0],", ").concat(n[1],"));\n return resTexRC.x * ").concat(n[1]," + resTexRC.y;\n }\n ");case 2:return s=e,i=t,u=r,o.util.arraysEqual(s,i)?u?"\n ivec2 getOutputCoords() {\n return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n }\n ":"\n ivec2 getOutputCoords() {\n return ivec2(resultUV.yx * vec2(".concat(i[0],", ").concat(i[1],"));\n }\n "):1===s[1]?u?"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n return ivec2(index, 0);\n }\n ":"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(i[0],", ").concat(i[1],"));\n int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n return ivec2(index, 0);\n }\n "):1===s[0]?u?"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n return ivec2(0, index);\n }\n ":"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(i[0],", ").concat(i[1],"));\n int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n return ivec2(0, index);\n }\n "):u?"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n int r = index / outShape[1];\n int c = index - r * outShape[1];\n return ivec2(r, c);\n }\n ":"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(i[0],", ").concat(i[1],"));\n int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n int r = index / ").concat(s[1],";\n int c = index - r * ").concat(s[1],";\n return ivec2(r, c);\n }\n ");case 3:var n,a,s,i,u,l,p,f,d,h,g,v=e,_=t,x=r;if(x){var y=c.getOutputLogicalCoordinatesFromFlatIndexByUniform(["r","c","d"],v);return"\n ivec3 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n ".concat(y,"\n return ivec3(r, c, d);\n }\n")}var b=c.getLogicalCoordinatesFromFlatIndex(["r","c","d"],v);return"\n ivec3 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(_[0],", ").concat(_[1],"));\n int index = resTexRC.x * ").concat(_[1]," + resTexRC.y;\n ").concat(b,"\n return ivec3(r, c, d);\n }\n ");case 4:var k=e,j=t,w=r;if(w){var I=c.getOutputLogicalCoordinatesFromFlatIndexByUniform(["r","c","d","d2"],k);return"\n ivec4 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n ".concat(I,"\n return ivec4(r, c, d, d2);\n }\n ")}var T=c.getLogicalCoordinatesFromFlatIndex(["r","c","d","d2"],k);return"\n ivec4 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(j[0],", ").concat(j[1],"));\n int index = resTexRC.x * ").concat(j[1]," + resTexRC.y;\n ").concat(T,"\n return ivec4(r, c, d, d2);\n }\n ");case 5:return l=e,p=t,f=c.getLogicalCoordinatesFromFlatIndex(["r","c","d","d2","d3"],l),"\n ivec5 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(p[0],",\n ").concat(p[1],"));\n\n int index = resTexRC.x * ").concat(p[1]," + resTexRC.y;\n\n ").concat(f,"\n\n ivec5 outShape = ivec5(r, c, d, d2, d3);\n return outShape;\n }\n ");case 6:return d=e,h=t,g=c.getLogicalCoordinatesFromFlatIndex(["r","c","d","d2","d3","d4"],d),"\n ivec6 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(h[0],", ").concat(h[1],"));\n int index = resTexRC.x * ").concat(h[1]," + resTexRC.y;\n\n ").concat(g,"\n\n ivec6 result = ivec6(r, c, d, d2, d3, d4);\n return result;\n }\n ");default:throw Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,N,r.enableShapeUniforms),k=M,w="\n void setOutput(float val) {\n ".concat(k.output," = vec4(val, 0, 0, 0);\n }\n ")),r.packedInputs&&(E+=h),[E,C,w,T,j,S,r.userCode].join("\n")}var p="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n int texR = index / texNumC;\n int texC = index - texR * texNumC;\n return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n int texelIndex = index / 2;\n int texR = texelIndex / texNumC;\n int texC = texelIndex - texR * texNumC;\n return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",f="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n int texNumC, int row, int col) {\n int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n int texR = texelIndex / texNumC;\n int texC = texelIndex - texR * texNumC;\n return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",d="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n int texelsInBatch, int texelsInLogicalRow, int b,\n int row, int col) {\n int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n int texR = index / texNumC;\n int texC = index - texR * texNumC;\n return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",h="\n float getChannel(vec4 frag, vec2 innerDims) {\n vec2 modCoord = mod(innerDims, 2.);\n return modCoord.x == 0. ?\n (modCoord.y == 0. ? frag.r : frag.g) :\n (modCoord.y == 0. ? frag.b : frag.a);\n }\n float getChannel(vec4 frag, int dim) {\n float modCoord = mod(float(dim), 2.);\n return modCoord == 0. ? frag.r : frag.g;\n }\n";function m(){return"\n int getOutputCoords() {\n return 0;\n }\n "}function g(e){return"offset".concat(e)}function v(e){var t=e.name,r=o.util.sizeFromShape(e.shapeInfo.logicalShape);return r<2?"return ".concat(t,";"):"\n for (int i = 0; i < ".concat(r,"; i++) {\n if (i == index) {\n return ").concat(t,"[i];\n }\n }\n ")}function _(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";else if(6===e)return"ivec6";else throw Error("GPU for rank ".concat(e," is not yet supported"))}function x(e,t,r){var n=o.util.squeezeShape(t),a=n.newShape,s=n.keptDims,i=t.length,c=e&&3===i&&1===t[0],u=c?t.slice(1):a,l=!e&&i>1&&!o.util.arraysEqual(t,r)&&a.length<i||c,p=l?u:t;return{useSqueezeShape:l,uniformShape:p,keptDims:s}}function y(e,t){var r=JSON.parse(JSON.stringify(e));return r.shapeInfo.logicalShape=t,r}function b(e,t){return t.map(function(t){return e[t]}).join(", ")}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./glsl_version":"7QlJN","./shader_compiler_util":"l0BJT","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],l0BJT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getLogicalCoordinatesFromFlatIndex",function(){return o}),a.export(r,"getOutputLogicalCoordinatesFromFlatIndexByUniform",function(){return i}),a.export(r,"getLogicalCoordinatesFromFlatIndexByUniform",function(){return c}),a.export(r,"dotify",function(){return l}),a.export(r,"getFlatIndexFrom3D",function(){return p}),a.export(r,"getFlatIndexFrom3DOutput",function(){return f}),a.export(r,"ENCODE_FLOAT_SNIPPET",function(){return d});var s=e("@tensorflow/tfjs-core");function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",n=s.util.computeStrides(t);return n.map(function(t,a){var s="int ".concat(e[a]," = ").concat(r," / ").concat(t),o=a===n.length-1?"int ".concat(e[a+1]," = ").concat(r," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(s,"; ").concat(o,";")}).join("")}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",n=s.util.computeStrides(t);return n.map(function(t,a){var s="int ".concat(e[a]," = ").concat(r," / outShapeStrides[").concat(a,"]"),o=a===n.length-1?"int ".concat(e[a+1]," = ").concat(r," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(s,"; ").concat(o,";")}).join("")}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",n=function(e,t){var r=e.length,n=e.map(function(e){return"".concat(t,"[").concat(e,"]")}),a=Array(r-1);a[r-2]=n[r-1];for(var s=r-3;s>=0;--s)a[s]="(".concat(a[s+1]," * ").concat(n[s+1],")");return a}(e.map(function(e,t){return t}),t);return n.map(function(t,a){var s="int ".concat(e[a]," = ").concat(r," / ").concat(n[a]),o=a===n.length-1?"int ".concat(e[a+1]," = ").concat(r," - ").concat(e[a]," * ").concat(n[a]):"index -= ".concat(e[a]," * ").concat(n[a]);return"".concat(s,"; ").concat(o,";")}).join("")}function u(e){return 1===e.length?"".concat(e[0]):"vec".concat(e.length,"(").concat(e.join(","),")")}function l(e,t){if(e.length!==t.length)throw Error("Vectors to be dotted must be of the same length -"+"got ".concat(e.length," and ").concat(t.length));for(var r=[],n=Math.floor(e.length/4),a=e.length%4,s=0;s<n;s++){var o=e.slice(4*s,4*s+4),i=t.slice(4*s,4*s+4);r.push("".concat(u(o),", ").concat(u(i)))}if(0!==a){var c=e.slice(4*n),l=t.slice(4*n);1===c.length&&(c=c.map(function(e){return"float(".concat(e,")")}),l=l.map(function(e){return"float(".concat(e,")")})),r.push("".concat(u(c),", ").concat(u(l)))}return r.map(function(e,t){return"dot(".concat(e,")")}).join("+")}function p(e){var t=s.util.computeStrides(e).map(function(e){return e.toString()});return"\n int getFlatIndex(ivec3 coords) {\n return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n }\n")}function f(){return"\n int getFlatIndex(ivec3 coords) {\n return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n }\n"}var d="\n const float FLOAT_MAX = 1.70141184e38;\n const float FLOAT_MIN = 1.17549435e-38;\n\n lowp vec4 encode_float(highp float v) {\n if (isnan(v)) {\n return vec4(255, 255, 255, 255);\n }\n\n highp float av = abs(v);\n\n if(av < FLOAT_MIN) {\n return vec4(0.0, 0.0, 0.0, 0.0);\n } else if(v >FLOAT_MAX) {\n return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n } else if(v< -FLOAT_MAX) {\n return vec4(0.0, 0.0, 128.0, 255.0) / 255.0;\n }\n\n highp vec4 c = vec4(0,0,0,0);\n\n highp float e = floor(log2(av));\n highp float m = exp2(fract(log2(av))) - 1.0;\n\n c[2] = floor(128.0 * m);\n m -= c[2] / 128.0;\n c[1] = floor(32768.0 * m);\n m -= c[1] / 32768.0;\n c[0] = floor(8388608.0 * m);\n\n highp float ebias = e + 127.0;\n c[3] = floor(ebias / 2.0);\n ebias -= c[3] * 2.0;\n c[2] += floor(ebias) * 128.0;\n\n c[3] += 128.0 * step(0.0, -v);\n\n return c / 255.0;\n }\n"},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"02Z2D":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DecodeMatrixPackedProgram",function(){return l});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./glsl_version"),i=e("./gpgpu_math"),c=e("./shader_compiler_util"),u=e("./tex_util"),l=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=u.PackingScheme.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=(0,o.getGlslDifferences)();this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length),this.userCode="\n ivec3 outCoordsFromFlatIndex(int index) {\n ".concat(this.enableShapeUniforms?c.getOutputLogicalCoordinatesFromFlatIndexByUniform(["r","c","d"],t):c.getLogicalCoordinatesFromFlatIndex(["r","c","d"],t),"\n return ivec3(r, c, d);\n }\n\n void main() {\n ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n vec4 result = vec4(0.);\n\n for (int i=0; i<4; i++) {\n int flatIndex = index + i;\n ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n }\n\n ").concat(r.output," = result;\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./glsl_version":"7QlJN","./gpgpu_math":"7KkpX","./shader_compiler_util":"l0BJT","./tex_util":"fRKpU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5Pqa0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EncodeFloatProgram",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./glsl_version"),i=e("./shader_compiler_util"),c=e("./tex_util"),u=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.outTexUsage=c.TextureUsage.DOWNLOAD;var r=(0,o.getGlslDifferences)();this.outputShape=t,this.userCode="\n ".concat(i.ENCODE_FLOAT_SNIPPET,"\n\n void main() {\n float x = getAAtOutCoords();\n ").concat(r.output," = encode_float(x);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./glsl_version":"7QlJN","./shader_compiler_util":"l0BJT","./tex_util":"fRKpU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],azpVI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EncodeFloatPackedProgram",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./glsl_version"),i=e("./shader_compiler_util"),c=e("./tex_util"),u=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=c.TextureUsage.DOWNLOAD;var r=(0,o.getGlslDifferences)();this.outputShape=t,this.userCode="\n ".concat(i.ENCODE_FLOAT_SNIPPET,"\n\n void main() {\n ivec3 coords = getOutputCoords();\n float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n ").concat(r.output," = encode_float(x);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./glsl_version":"7QlJN","./shader_compiler_util":"l0BJT","./tex_util":"fRKpU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jke0O:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EncodeMatrixProgram",function(){return l});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./glsl_version"),i=e("./gpgpu_math"),c=e("./shader_compiler_util"),u={R:0,G:1,B:2,A:3},l=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";(0,s._)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var a=(0,o.getGlslDifferences)();this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);var l="result";r&&(l="floor(result * 255. + 0.5)");for(var p="",f=0;f<n.length;f++){var d=n[f];p+="\n if(offset == ".concat(f,") {\n result = values[").concat(u[d],"];\n }")}this.userCode="\n ".concat(this.enableShapeUniforms?c.getFlatIndexFrom3DOutput():c.getFlatIndexFrom3D(t),"\n\n void main() {\n ivec3 coords = getOutputCoords();\n int flatIndex = getFlatIndex(coords);\n float result = 0.;\n int offset = imod(flatIndex, ").concat(n.length,");\n\n flatIndex = idiv(flatIndex, ").concat(n.length,", 1.);\n\n int r = flatIndex / texShape[1];\n if (r < texShape[0]) {\n int c = imod(flatIndex, texShape[1]);\n vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n vec4 values = ").concat(a.texture2D,"(A, uv);\n ").concat(p,"\n }\n ").concat(a.output," = vec4(").concat(l,", 0., 0., 0.);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./glsl_version":"7QlJN","./gpgpu_math":"7KkpX","./shader_compiler_util":"l0BJT","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8Idqg":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EncodeMatrixPackedProgram",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./glsl_version"),i=e("./gpgpu_math"),c=e("./shader_compiler_util"),u=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=(0,o.getGlslDifferences)();this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);var a="",u="result";r&&(u="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var p=0;p<=1;p++){var f=2*l+p;a+="\n localCoords = coords;\n if(localCoords[2] + ".concat(p," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n localCoords[2] += ").concat(p,";\n if (localCoords[1] + ").concat(l," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n localCoords[1] += ").concat(l,";\n\n flatIndex = getFlatIndex(localCoords);\n offset = imod(flatIndex, 4);\n\n flatIndex = idiv(flatIndex, 4, 1.);\n\n int r = flatIndex / texShape[1];\n int c = imod(flatIndex, texShape[1]);\n vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n values = ").concat(n.texture2D,"(A, uv);\n\n if (offset == 0) {\n result[").concat(f,"] = values[0];\n } else if (offset == 1) {\n result[").concat(f,"] = values[1];\n } else if (offset == 2) {\n result[").concat(f,"] = values[2];\n } else {\n result[").concat(f,"] = values[3];\n }\n }\n }\n ")}this.userCode="\n ".concat(this.enableShapeUniforms?c.getFlatIndexFrom3DOutput():c.getFlatIndexFrom3D(t),"\n\n void main() {\n ivec3 coords = getOutputCoords();\n\n vec4 result = vec4(0.);\n int flatIndex, r, c, offset;\n ivec3 localCoords;\n vec2 uv;\n vec4 values;\n\n ").concat(a,"\n\n ").concat(n.output," = ").concat(u,";\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./glsl_version":"7QlJN","./gpgpu_math":"7KkpX","./shader_compiler_util":"l0BJT","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ed6Jg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GPGPUContext",function(){return m}),a.export(r,"linearSearchLastTrue",function(){return g});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs"),l=e("@tensorflow/tfjs-core"),p=e("./canvas_util"),f=e("./gpgpu_util"),d=e("./tex_util"),h=e("./webgl_util"),m=function(){"use strict";function e(t){(0,o._)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];var r=(0,l.env)().getNumber("WEBGL_VERSION");if(null!=t?(this.gl=t,(0,p.setWebGLContext)(r,t)):this.gl=(0,p.getWebGLContext)(r),t=this.gl,2===(0,l.env)().getNumber("WEBGL_VERSION")){var n=t;this.createVertexArray=function(){return h.callAndCheck(n,function(){return n.createVertexArray()})},this.bindVertexArray=function(e){return h.callAndCheck(n,function(){return n.bindVertexArray(e)})},this.deleteVertexArray=function(e){return h.callAndCheck(n,function(){return n.deleteVertexArray(e)})},this.getVertexArray=function(){return h.callAndCheck(n,function(){return n.getParameter(n.VERTEX_ARRAY_BINDING)})}}else if(null!=t){var a=t.getExtension("OES_vertex_array_object");if(null==a)throw Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=function(){return h.callAndCheck(t,function(){return a.createVertexArrayOES()})},this.bindVertexArray=function(e){return h.callAndCheck(t,function(){return a.bindVertexArrayOES(e)})},this.deleteVertexArray=function(e){return h.callAndCheck(t,function(){return a.deleteVertexArrayOES(e)})},this.getVertexArray=function(){return h.callAndCheck(t,function(){return t.getParameter(a.VERTEX_ARRAY_BINDING_OES)})}}var s="WEBGL_color_buffer_float",i="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,l.env)().getNumber("WEBGL_VERSION")){var c="OES_texture_half_float";if(this.textureFloatExtension=h.getExtensionOrThrow(this.gl,"OES_texture_float"),h.hasExtension(this.gl,c))this.textureHalfFloatExtension=h.getExtensionOrThrow(this.gl,c);else if((0,l.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(s),h.hasExtension(this.gl,i))this.colorBufferHalfFloatExtension=h.getExtensionOrThrow(this.gl,i);else if((0,l.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(s="EXT_color_buffer_float",h.hasExtension(this.gl,s))this.colorBufferFloatExtension=this.gl.getExtension(s);else if(h.hasExtension(this.gl,i))this.colorBufferHalfFloatExtension=this.gl.getExtension(i);else throw Error("GL context does not support color renderable floats");this.vertexBuffer=f.createVertexBuffer(this.gl),this.indexBuffer=f.createIndexBuffer(this.gl),this.framebuffer=h.createFramebuffer(this.gl),this.textureConfig=d.getTextureConfig(this.gl,this.textureHalfFloatExtension)}return(0,i._)(e,[{key:"debug",get:function(){return(0,l.env)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture. This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;h.callAndCheck(t,function(){return t.finish()}),h.callAndCheck(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),h.callAndCheck(t,function(){return t.deleteFramebuffer(e.framebuffer)}),h.callAndCheck(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),h.callAndCheck(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),h.callAndCheck(t,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createFloat32MatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createFloat16MatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createUnsignedBytesMatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),f.uploadPixelDataToTexture(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,r,n){this.throwIfDisposed(),f.uploadDenseMatrixToTexture(this.gl,e,t,r,n,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createFloat16PackedMatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createPackedMatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(h.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),h.callAndCheck(this.gl,function(){return t.gl.deleteTexture(e)})}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,r){var n=this;return this.downloadMatrixDriver(e,function(){return f.downloadByteEncodedFloatMatrixFromOutputTexture(n.gl,t,r,n.textureConfig)})}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,r,n,a,s){return f.downloadPackedMatrixFromBuffer(this.gl,e,t,r,n,a,s,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return f.downloadFloat32MatrixFromBuffer(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,r){this.bindTextureToFrameBuffer(e);var n=f.createBufferFromOutputTexture(this.gl,t,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),n}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,r,n=this;if((0,l.env)().getBool("WEBGL_FENCE_API_ENABLED")){var a=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=function(){var t=e.clientWaitSync(a,0,0);return t===e.ALREADY_SIGNALED||t===e.CONDITION_SATISFIED},t=a}else(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),r=function(){return n.isQueryAvailable(t,(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:t,isFencePassed:r}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,r){var n=this;return this.downloadMatrixDriver(e,function(){return f.downloadMatrixFromPackedOutputTexture(n.gl,t,r)})}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var r=this.gl;null==this.vertexShader&&(this.vertexShader=f.createVertexShader(r));var n=h.createProgram(r);h.callAndCheck(r,function(){return r.attachShader(n,t.vertexShader)}),h.callAndCheck(r,function(){return r.attachShader(n,e)}),h.linkProgram(r,n);var a=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&h.validateProgram(r,a),a}},{key:"buildVao",value:function(e){var t=this;this.setProgram(e),this.bindVertexArray(e.vao);var r=this.gl;h.callAndCheck(r,function(){return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer)}),f.bindVertexProgramAttributeStreams(r,e,this.vertexBuffer)}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(h.callAndCheck(this.gl,function(){return t.gl.deleteProgram(e)}),this.deleteVertexArray(e.vao))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&h.validateProgram(this.gl,this.program),h.callAndCheck(this.gl,function(){return t.gl.useProgram(e)})}},{key:"getUniformLocation",value:function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(this.throwIfDisposed(),r)?h.getProgramUniformLocationOrThrow(this.gl,e,t):h.getProgramUniformLocation(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var r=this;return this.throwIfDisposed(),h.callAndCheck(this.gl,function(){return r.gl.getAttribLocation(e,t)})}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,r){this.throwIfDisposed(),this.throwIfNoProgram(),h.bindTextureToProgramUniformSampler(this.gl,e,t,r)}},{key:"setOutputMatrixTexture",value:function(e,t,r){this.setOutputMatrixTextureDriver(e,r,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,r){this.throwIfDisposed();var n=(0,c._)(d.getPackedMatrixTextureShapeWidthHeight(t,r),2),a=n[0],s=n[1];this.setOutputMatrixTextureDriver(e,a,s)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,r,n){this.setOutputMatrixWriteRegionDriver(r,e,n,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,r,n){throw Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&h.validateProgram(this.gl,this.program),h.validateFramebuffer(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&(console.assert(this.getVertexArray()===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()),h.callAndCheck(e,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),h.callAndCheck(this.gl,function(){return e.gl.finish()})}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=h.getExtensionOrThrow(this.gl,2===(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,r),r}var n=this.getQueryTimerExtensionWebGL1(),a=n.createQueryEXT();return n.beginQueryEXT(n.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2===(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2();e.endQuery(t.TIME_ELAPSED_EXT);return}var r=this.getQueryTimerExtensionWebGL1();r.endQueryEXT(r.TIME_ELAPSED_EXT)}},{key:"waitForQueryAndGetTime",value:function(e){return(0,s._)(function(){var t;return(0,u._)(this,function(r){switch(r.label){case 0:return t=this,[4,l.util.repeatedTry(function(){return t.disposed||t.isQueryAvailable(e,(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(e,(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})}).call(this)}},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}var n=this.getQueryTimerExtensionWebGL1();return n.getQueryObjectEXT(e,n.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var r=this.gl,n=this.getQueryTimerExtensionWebGL2(),a=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),a&&!this.disjoint}var s=this.getQueryTimerExtensionWebGL1(),o=s.getQueryObjectEXT(e,s.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise(function(r){t.addItemToPoll(function(){return e.isFencePassed()},function(){return r()})})}},{key:"pollItems",value:function(){for(var e=g(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var r=this;if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),!(this.itemsToPoll.length>1)){var n=void 0;"setTimeoutCustom"in(0,l.env)().platform&&(n=(0,l.env)().platform.setTimeoutCustom.bind((0,l.env)().platform)),l.util.repeatedTry(function(){return r.pollItems(),0===r.itemsToPoll.length},function(){return 0},null,n)}}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),h.bindColorTextureToFramebuffer(this.gl,e,this.framebuffer),this.debug&&h.validateFramebuffer(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(h.bindColorTextureToFramebuffer(this.gl,this.outputTexture,this.framebuffer),this.debug&&h.validateFramebuffer(this.gl)):h.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var r=t();return this.unbindTextureToFrameBuffer(),r}},{key:"setOutputMatrixTextureDriver",value:function(e,t,r){this.throwIfDisposed();var n=this.gl;h.bindColorTextureToFramebuffer(n,e,this.framebuffer),this.debug&&h.validateFramebuffer(n),this.outputTexture=e,h.callAndCheck(n,function(){return n.viewport(0,0,t,r)}),h.callAndCheck(n,function(){return n.scissor(0,0,t,r)})}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,r,n){var a=this;this.throwIfDisposed(),h.callAndCheck(this.gl,function(){return a.gl.scissor(e,t,r,n)})}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw Error("No GPU program is currently set.")}}]),e}();function g(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","@tensorflow/tfjs-core":"aOH7b","./canvas_util":"pEvnT","./gpgpu_util":"ar8ls","./tex_util":"fRKpU","./webgl_util":"4eDDt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ar8ls:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"createVertexShader",function(){return l}),a.export(r,"createVertexBuffer",function(){return p}),a.export(r,"createIndexBuffer",function(){return f}),a.export(r,"getInternalFormatForFloat32MatrixTexture",function(){return h}),a.export(r,"createFloat32MatrixTexture",function(){return m}),a.export(r,"getInternalFormatForFloat16MatrixTexture",function(){return g}),a.export(r,"createFloat16MatrixTexture",function(){return v}),a.export(r,"getInternalFormatForUnsignedBytesMatrixTexture",function(){return _}),a.export(r,"createUnsignedBytesMatrixTexture",function(){return x}),a.export(r,"getInternalFormatForPackedMatrixTexture",function(){return y}),a.export(r,"createPackedMatrixTexture",function(){return b}),a.export(r,"getInternalFormatForFloat16PackedMatrixTexture",function(){return k}),a.export(r,"createFloat16PackedMatrixTexture",function(){return j}),a.export(r,"bindVertexProgramAttributeStreams",function(){return w}),a.export(r,"uploadDenseMatrixToTexture",function(){return I}),a.export(r,"uploadPixelDataToTexture",function(){return T}),a.export(r,"createBufferFromOutputTexture",function(){return S}),a.export(r,"downloadFloat32MatrixFromBuffer",function(){return N}),a.export(r,"downloadByteEncodedFloatMatrixFromOutputTexture",function(){return M}),a.export(r,"downloadPackedMatrixFromBuffer",function(){return C}),a.export(r,"downloadMatrixFromPackedOutputTexture",function(){return E});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./glsl_version"),c=e("./tex_util"),u=e("./webgl_util");function l(e){var t=(0,i.getGlslDifferences)(),r="".concat(t.version,"\n precision highp float;\n ").concat(t.attribute," vec3 clipSpacePos;\n ").concat(t.attribute," vec2 uv;\n ").concat(t.varyingVs," vec2 resultUV;\n\n void main() {\n gl_Position = vec4(clipSpacePos, 1);\n resultUV = uv;\n }");return u.createVertexShader(e,r)}function p(e){var t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return u.createStaticVertexBuffer(e,t)}function f(e){var t=new Uint16Array([0,1,2,2,1,3]);return u.createStaticIndexBuffer(e,t)}function d(e,t,r,n,a,s){u.validateTextureSize(t,r);var i=u.createTexture(e),c=e.TEXTURE_2D;return u.callAndCheck(e,function(){return e.bindTexture(c,i)}),u.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),u.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),u.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MIN_FILTER,e.NEAREST)}),u.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MAG_FILTER,e.NEAREST)}),1===(0,o.env)().getNumber("WEBGL_VERSION")?u.callAndCheck(e,function(){return e.texImage2D(c,0,n,t,r,0,a,s,null)}):u.callAndCheck(e,function(){return e.texStorage2D(c,1,n,t,r)}),u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),{texture:i,texShape:[r,t]}}function h(e){return e.internalFormatFloat}function m(e,t,r,n){var a=(0,s._)(c.getUnpackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],h(n),n.textureFormatFloat,e.FLOAT)}function g(e){return e.internalFormatHalfFloat}function v(e,t,r,n){var a=(0,s._)(c.getUnpackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],g(n),n.textureFormatFloat,n.textureTypeHalfFloat)}function _(e){return e.downloadTextureFormat}function x(e,t,r,n){var a=(0,s._)(c.getUnpackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],_(n),e.RGBA,e.UNSIGNED_BYTE)}function y(e){return e.internalFormatPackedFloat}function b(e,t,r,n){var a=(0,s._)(c.getPackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],y(n),e.RGBA,e.FLOAT)}function k(e){return e.internalFormatPackedHalfFloat}function j(e,t,r,n){var a=(0,s._)(c.getPackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],k(n),e.RGBA,n.textureTypeHalfFloat)}function w(e,t,r){return u.callAndCheck(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),u.bindVertexBufferToProgramAttribute(e,t,"clipSpacePos",r,3,20,0)&&u.bindVertexBufferToProgramAttribute(e,t,"uv",r,2,20,12)}function I(e,t,r,n,a,s){var i,c,l;u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),a instanceof Uint8Array?(i=new Uint8Array(r*n*4),c=e.UNSIGNED_BYTE,l=e.RGBA):(i=new Float32Array(r*n*4),c=e.FLOAT,l=s.internalFormatPackedFloat),i.set(a),2===(0,o.env)().getNumber("WEBGL_VERSION")?u.callAndCheck(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,r,n,e.RGBA,c,i)}):u.callAndCheck(e,function(){return e.texImage2D(e.TEXTURE_2D,0,l,r,n,0,e.RGBA,c,i)}),u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function T(e,t,r){u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),r.data instanceof Uint8Array?2===(0,o.env)().getNumber("WEBGL_VERSION")?u.callAndCheck(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,e.RGBA,e.UNSIGNED_BYTE,r.data)}):u.callAndCheck(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):2===(0,o.env)().getNumber("WEBGL_VERSION")?u.callAndCheck(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,r)}):u.callAndCheck(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function S(e,t,r,n){var a=e.createBuffer();u.callAndCheck(e,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)});var s=16*t*r;return u.callAndCheck(e,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,s,e.STREAM_READ)}),u.callAndCheck(e,function(){return e.readPixels(0,0,r,t,e.RGBA,e.FLOAT,0)}),u.callAndCheck(e,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),a}function N(e,t,r){var n=new Float32Array(r);return e.bindBuffer(e.PIXEL_PACK_BUFFER,t),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,n),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),n}function M(e,t,r,n){var a=(0,s._)(c.getUnpackedMatrixTextureShapeWidthHeight(t,r),2),o=a[0],i=a[1],l=new Uint8Array(c.getUnpackedArraySizeFromMatrixSize(t*r,4));return u.callAndCheck(e,function(){return e.readPixels(0,0,o,i,n.downloadTextureFormat,e.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function C(e,t,r,n,a,s,o,i){var u=new Float32Array(c.getPackedRGBAArraySizeFromMatrixShape(s,o));return e.bindBuffer(e.PIXEL_PACK_BUFFER,t),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,u),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),u}function E(e,t,r){var n=new Float32Array(t*r*4);return u.callAndCheck(e,function(){return e.readPixels(0,0,r,t,e.RGBA,e.FLOAT,n)}),n}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./glsl_version":"7QlJN","./tex_util":"fRKpU","./webgl_util":"4eDDt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gN7B4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addImplCPU",function(){return o}),a.export(r,"bincountImplCPU",function(){return i}),a.export(r,"bincountReduceImplCPU",function(){return c}),a.export(r,"bitwiseAndImplCPU",function(){return u}),a.export(r,"castImplCPU",function(){return l}),a.export(r,"ceilImplCPU",function(){return p}),a.export(r,"concatImplCPU",function(){return f}),a.export(r,"equalImplCPU",function(){return d}),a.export(r,"expImplCPU",function(){return h}),a.export(r,"expm1ImplCPU",function(){return m}),a.export(r,"floorImplCPU",function(){return g}),a.export(r,"gatherNdImplCPU",function(){return v}),a.export(r,"gatherV2ImplCPU",function(){return _}),a.export(r,"greaterEqualImplCPU",function(){return y}),a.export(r,"greaterImplCPU",function(){return x}),a.export(r,"lessEqualImplCPU",function(){return k}),a.export(r,"lessImplCPU",function(){return b}),a.export(r,"linSpaceImplCPU",function(){return j}),a.export(r,"logImplCPU",function(){return w}),a.export(r,"maxImplCPU",function(){return I}),a.export(r,"maximumImplCPU",function(){return T}),a.export(r,"minimumImplCPU",function(){return S}),a.export(r,"multiplyImplCPU",function(){return N}),a.export(r,"negImplCPU",function(){return M}),a.export(r,"notEqualImplCPU",function(){return C}),a.export(r,"prodImplCPU",function(){return E}),a.export(r,"raggedGatherImplCPU",function(){return F}),a.export(r,"raggedRangeImplCPU",function(){return A}),a.export(r,"raggedTensorToTensorImplCPU",function(){return R}),a.export(r,"scatterImplCPU",function(){return D}),a.export(r,"sigmoidImplCPU",function(){return B}),a.export(r,"simpleAbsImplCPU",function(){return V}),a.export(r,"sliceImplCPU",function(){return G}),a.export(r,"sparseFillEmptyRowsImplCPU",function(){return L}),a.export(r,"sparseReshapeImplCPU",function(){return q}),a.export(r,"sparseSegmentReductionImplCPU",function(){return z}),a.export(r,"sqrtImplCPU",function(){return U}),a.export(r,"staticRegexReplaceImplCPU",function(){return H}),a.export(r,"stridedSliceImplCPU",function(){return W}),a.export(r,"stringNGramsImplCPU",function(){return K}),a.export(r,"stringSplitImplCPU",function(){return X}),a.export(r,"stringToHashBucketFastImplCPU",function(){return Z}),a.export(r,"subImplCPU",function(){return Q}),a.export(r,"rangeImplCPU",function(){return P}),a.export(r,"rsqrtImplCPU",function(){return O}),a.export(r,"tileImplCPU",function(){return J}),a.export(r,"topKImplCPU",function(){return Y}),a.export(r,"transposeImplCPU",function(){return $}),a.export(r,"uniqueImplCPU",function(){return ee});var s=e("@tensorflow/tfjs-backend-cpu/dist/shared"),o=s.addImpl,i=s.bincountImpl,c=s.bincountReduceImpl,u=s.bitwiseAndImpl,l=s.castImpl,p=s.ceilImpl,f=s.concatImpl,d=s.equalImpl,h=s.expImpl,m=s.expm1Impl,g=s.floorImpl,v=s.gatherNdImpl,_=s.gatherV2Impl,x=s.greaterImpl,y=s.greaterEqualImpl,b=s.lessImpl,k=s.lessEqualImpl,j=s.linSpaceImpl,w=s.logImpl,I=s.maxImpl,T=s.maximumImpl,S=s.minimumImpl,N=s.multiplyImpl,M=s.negImpl,C=s.notEqualImpl,E=s.prodImpl,F=s.raggedGatherImpl,A=s.raggedRangeImpl,R=s.raggedTensorToTensorImpl,P=s.rangeImpl,O=s.rsqrtImpl,D=s.scatterImpl,B=s.sigmoidImpl,V=s.simpleAbsImpl,G=s.sliceImpl,L=s.sparseFillEmptyRowsImpl,q=s.sparseReshapeImpl,z=s.sparseSegmentReductionImpl,U=s.sqrtImpl,H=s.staticRegexReplaceImpl,W=s.stridedSliceImpl,K=s.stringNGramsImpl,X=s.stringSplitImpl,Z=s.stringToHashBucketFastImpl,Q=s.subImpl,J=s.tileImpl,Y=s.topKImpl,$=s.transposeImpl,ee=s.uniqueImpl},{"@tensorflow/tfjs-backend-cpu/dist/shared":"jtOZi","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jtOZi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"simpleAbsImpl",function(){return s.simpleAbsImpl}),a.export(r,"addImpl",function(){return o.addImpl}),a.export(r,"bincountImpl",function(){return i.bincountImpl}),a.export(r,"bincountReduceImpl",function(){return i.bincountReduceImpl}),a.export(r,"bitwiseAndImpl",function(){return c.bitwiseAndImpl}),a.export(r,"castImpl",function(){return u.castImpl}),a.export(r,"ceilImpl",function(){return l.ceilImpl}),a.export(r,"concatImpl",function(){return p.concatImpl}),a.export(r,"equalImpl",function(){return f.equalImpl}),a.export(r,"expImpl",function(){return d.expImpl}),a.export(r,"expm1Impl",function(){return h.expm1Impl}),a.export(r,"floorImpl",function(){return m.floorImpl}),a.export(r,"floorDivImpl",function(){return g.floorDivImpl}),a.export(r,"gatherNdImpl",function(){return v.gatherNdImpl}),a.export(r,"gatherV2Impl",function(){return _.gatherV2Impl}),a.export(r,"greaterImpl",function(){return x.greaterImpl}),a.export(r,"greaterEqualImpl",function(){return y.greaterEqualImpl}),a.export(r,"lessImpl",function(){return b.lessImpl}),a.export(r,"lessEqualImpl",function(){return k.lessEqualImpl}),a.export(r,"linSpaceImpl",function(){return j.linSpaceImpl}),a.export(r,"logImpl",function(){return w.logImpl}),a.export(r,"maxImpl",function(){return I.maxImpl}),a.export(r,"maximumImpl",function(){return T.maximumImpl}),a.export(r,"minimumImpl",function(){return S.minimumImpl}),a.export(r,"multiplyImpl",function(){return N.multiplyImpl}),a.export(r,"negImpl",function(){return M.negImpl}),a.export(r,"notEqualImpl",function(){return C.notEqualImpl}),a.export(r,"prodImpl",function(){return E.prodImpl}),a.export(r,"raggedGatherImpl",function(){return F.raggedGatherImpl}),a.export(r,"raggedRangeImpl",function(){return A.raggedRangeImpl}),a.export(r,"raggedTensorToTensorImpl",function(){return R.raggedTensorToTensorImpl}),a.export(r,"rangeImpl",function(){return P.rangeImpl}),a.export(r,"rsqrtImpl",function(){return O.rsqrtImpl}),a.export(r,"scatterImpl",function(){return D.scatterImpl}),a.export(r,"sigmoidImpl",function(){return B.sigmoidImpl}),a.export(r,"sliceImpl",function(){return V.sliceImpl}),a.export(r,"sparseFillEmptyRowsImpl",function(){return G.sparseFillEmptyRowsImpl}),a.export(r,"sparseReshapeImpl",function(){return L.sparseReshapeImpl}),a.export(r,"sparseSegmentReductionImpl",function(){return q.sparseSegmentReductionImpl}),a.export(r,"sqrtImpl",function(){return z.sqrtImpl}),a.export(r,"squaredDifferenceImpl",function(){return U.squaredDifferenceImpl}),a.export(r,"staticRegexReplaceImpl",function(){return H.staticRegexReplaceImpl}),a.export(r,"stridedSliceImpl",function(){return W.stridedSliceImpl}),a.export(r,"stringNGramsImpl",function(){return K.stringNGramsImpl}),a.export(r,"stringSplitImpl",function(){return X.stringSplitImpl}),a.export(r,"stringToHashBucketFastImpl",function(){return Z.stringToHashBucketFastImpl}),a.export(r,"subImpl",function(){return Q.subImpl}),a.export(r,"tileImpl",function(){return J.tileImpl}),a.export(r,"topKImpl",function(){return Y.topKImpl}),a.export(r,"transposeImpl",function(){return $.transposeImpl}),a.export(r,"uniqueImpl",function(){return ee.uniqueImpl});var s=e("./kernels/Abs"),o=e("./kernels/Add"),i=e("./kernels/Bincount_impl"),c=e("./kernels/BitwiseAnd"),u=e("./kernels/Cast"),l=e("./kernels/Ceil"),p=e("./kernels/Concat_impl"),f=e("./kernels/Equal"),d=e("./kernels/Exp"),h=e("./kernels/Expm1"),m=e("./kernels/Floor"),g=e("./kernels/FloorDiv"),v=e("./kernels/GatherNd_Impl"),_=e("./kernels/GatherV2_impl"),x=e("./kernels/Greater"),y=e("./kernels/GreaterEqual"),b=e("./kernels/Less"),k=e("./kernels/LessEqual"),j=e("./kernels/LinSpace_impl"),w=e("./kernels/Log"),I=e("./kernels/Max_impl"),T=e("./kernels/Maximum"),S=e("./kernels/Minimum"),N=e("./kernels/Multiply"),M=e("./kernels/Neg"),C=e("./kernels/NotEqual"),E=e("./kernels/Prod"),F=e("./kernels/RaggedGather_impl"),A=e("./kernels/RaggedRange_impl"),R=e("./kernels/RaggedTensorToTensor_impl"),P=e("./kernels/Range_impl"),O=e("./kernels/Rsqrt"),D=e("./kernels/Scatter_impl"),B=e("./kernels/Sigmoid"),V=e("./kernels/Slice"),G=e("./kernels/SparseFillEmptyRows_impl"),L=e("./kernels/SparseReshape_impl"),q=e("./kernels/SparseSegmentReduction_impl"),z=e("./kernels/Sqrt"),U=e("./kernels/SquaredDifference"),H=e("./kernels/StaticRegexReplace"),W=e("./kernels/StridedSlice_impl"),K=e("./kernels/StringNGrams_impl"),X=e("./kernels/StringSplit_impl"),Z=e("./kernels/StringToHashBucketFast_impl"),Q=e("./kernels/Sub"),J=e("./kernels/Tile_impl"),Y=e("./kernels/TopK_impl"),$=e("./kernels/Transpose_impl"),ee=e("./kernels/Unique_impl")},{"./kernels/Abs":"bQCnE","./kernels/Add":"3EVTG","./kernels/Bincount_impl":"heFon","./kernels/BitwiseAnd":"5EzGR","./kernels/Cast":"kWbgg","./kernels/Ceil":"eWrsC","./kernels/Concat_impl":"2WpsX","./kernels/Equal":"jWX2L","./kernels/Exp":"9TnhL","./kernels/Expm1":"eJEPE","./kernels/Floor":"bu3Ph","./kernels/FloorDiv":"eHvBk","./kernels/GatherNd_Impl":"96HLT","./kernels/GatherV2_impl":"3r3sw","./kernels/Greater":"i7ONS","./kernels/GreaterEqual":"4bOZY","./kernels/Less":"ef92N","./kernels/LessEqual":"d4FOC","./kernels/LinSpace_impl":"vtEqn","./kernels/Log":"akLAB","./kernels/Max_impl":"iWMWQ","./kernels/Maximum":"1dJJz","./kernels/Minimum":"eXIv8","./kernels/Multiply":"1KdVu","./kernels/Neg":"eJFnr","./kernels/NotEqual":"fUUlH","./kernels/Prod":"lP33Z","./kernels/RaggedGather_impl":"4XXgR","./kernels/RaggedRange_impl":"jyzgr","./kernels/RaggedTensorToTensor_impl":"QkyPi","./kernels/Range_impl":"brzI2","./kernels/Rsqrt":"eIBuK","./kernels/Scatter_impl":"8sDwq","./kernels/Sigmoid":"jksZb","./kernels/Slice":"28Hnf","./kernels/SparseFillEmptyRows_impl":"6Zb3O","./kernels/SparseReshape_impl":"6WP3w","./kernels/SparseSegmentReduction_impl":"glo7z","./kernels/Sqrt":"4YAj6","./kernels/SquaredDifference":"elmzI","./kernels/StaticRegexReplace":"98Jvt","./kernels/StridedSlice_impl":"fxoe0","./kernels/StringNGrams_impl":"gCgj1","./kernels/StringSplit_impl":"euPiE","./kernels/StringToHashBucketFast_impl":"llNkF","./kernels/Sub":"3yOhY","./kernels/Tile_impl":"9aPJh","./kernels/TopK_impl":"jBsXV","./kernels/Transpose_impl":"juOdZ","./kernels/Unique_impl":"45rzo","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bQCnE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"simpleAbsImpl",function(){return i}),a.export(r,"abs",function(){return c}),a.export(r,"absConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){for(var t=new Float32Array(e.length),r=0;r<e.length;++r)t[r]=Math.abs(e[r]);return t}var c=function(e){var t=e.inputs.x,r=e.backend;(0,o.assertNotComplex)(t,"abs");var n=new Float32Array(s.util.sizeFromShape(t.shape));return n=i(r.data.get(t.dataId).values),r.makeOutput(n,t.shape,t.dtype)},u={kernelName:s.Abs,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aNlof:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"assertNotComplex",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&s.util.assert("complex64"!==e.dtype,function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")})})}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3EVTG":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addImpl",function(){return c}),a.export(r,"addComplexImpl",function(){return u}),a.export(r,"add",function(){return l}),a.export(r,"addConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return e+t}),u=(0,i.createComplexBinaryKernelImpl)(function(e,t,r,n){return{real:e+r,imag:t+n}}),l=(0,i.binaryKernelFunc)(s.Add,c,u),p={kernelName:s.Add,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dGtkM:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"createSimpleBinaryKernelImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e){return function(t,r,n,a,o){var i=s.backend_util.assertAndGetBroadcastShape(t,r),c=i.length,u=s.util.computeStrides(i),l=s.util.sizeFromShape(i),p=s.util.getTypedArrayFromDType(o,l),f=t.length,d=r.length,h=s.util.computeStrides(t),m=s.util.computeStrides(r),g=s.backend_util.getBroadcastDims(t,i),v=s.backend_util.getBroadcastDims(r,i);if(g.length+v.length===0)for(var _=0;_<p.length;++_)p[_]=e(n[_%n.length],a[_%a.length]);else for(var x=0;x<p.length;++x)!function(t){var r=s.util.indexToLoc(t,c,u),o=r.slice(-f);g.forEach(function(e){return o[e]=0});var i=s.util.locToIndex(o,f,h),l=r.slice(-d);v.forEach(function(e){return l[e]=0});var _=s.util.locToIndex(l,d,m);p[t]=e(n[i],a[_])}(x);return[p,i]}}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iyKoU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"binaryKernelFunc",function(){return l}),a.export(r,"createComplexBinaryKernelImpl",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("../kernels/Cast"),u=e("../kernels/Complex");function l(e,t,r,n){return null==r?function(r){var a=r.inputs,c=r.backend,u=a.a,l=a.b;(0,i.assertNotComplex)([u,l],e);var p=c.data.get(u.dataId).values,f=c.data.get(l.dataId).values,d="string"===u.dtype?o.backend_util.fromUint8ToStringArray(p):p,h="string"===u.dtype?o.backend_util.fromUint8ToStringArray(f):f,m=n||u.dtype,g=(0,s._)(t(u.shape,l.shape,d,h,m),2),v=g[0],_=g[1];return c.makeTensorInfo(_,m,v)}:function(e){var a=e.inputs,o=e.backend,i=a.a,l=a.b;if("complex64"===i.dtype||"complex64"===l.dtype){var p=(0,c.cast)({inputs:{x:i},backend:o,attrs:{dtype:"complex64"}}),f=o.data.get(p.dataId),d=f.complexTensorInfos.real,h=f.complexTensorInfos.imag,m=o.data.get(d.dataId).values,g=o.data.get(h.dataId).values,v=(0,c.cast)({inputs:{x:l},backend:o,attrs:{dtype:"complex64"}}),_=o.data.get(v.dataId),x=_.complexTensorInfos.real,y=_.complexTensorInfos.imag,b=o.data.get(x.dataId).values,k=o.data.get(y.dataId).values,j=(0,s._)(r(i.shape,l.shape,m,g,b,k),3),w=j[0],I=j[1],T=j[2],S=o.makeTensorInfo(T,"float32",w),N=o.makeTensorInfo(T,"float32",I),M=(0,u.complex)({inputs:{real:S,imag:N},backend:o});return o.disposeIntermediateTensorInfo(p),o.disposeIntermediateTensorInfo(v),o.disposeIntermediateTensorInfo(S),o.disposeIntermediateTensorInfo(N),M}var C=o.data.get(i.dataId).values,E=o.data.get(l.dataId).values,F=n||i.dtype,A=(0,s._)(t(i.shape,l.shape,C,E,F),2),R=A[0],P=A[1];return o.makeTensorInfo(P,F,R)}}function p(e){return function(t,r,n,a,s,i){var c=o.backend_util.assertAndGetBroadcastShape(t,r),u=o.util.sizeFromShape(c),l=c.length,p=o.util.computeStrides(c),f=o.util.getTypedArrayFromDType("float32",u),d=o.util.getTypedArrayFromDType("float32",u),h=o.backend_util.getBroadcastDims(t,c),m=o.backend_util.getBroadcastDims(r,c),g=o.backend_util.mergeRealAndImagArrays(n,a),v=o.backend_util.mergeRealAndImagArrays(s,i),_=t.length,x=o.util.computeStrides(t),y=r.length,b=o.util.computeStrides(r);if(h.length+m.length===0)for(var k=0;k<f.length;k++){var j=k%g.length,w=k%v.length,I=e(g[2*j],g[2*j+1],v[2*w],v[2*w+1]);f[k]=I.real,d[k]=I.imag}else for(var T=0;T<f.length;T++)!function(t){var r=o.util.indexToLoc(t,l,p),n=r.slice(-_);h.forEach(function(e){return n[e]=0});var a=o.util.locToIndex(n,_,x),s=r.slice(-y);m.forEach(function(e){return s[e]=0});var i=o.util.locToIndex(s,y,b),c=e(g[2*a],g[2*a+1],v[2*i],v[2*i+1]);f[t]=c.real,d[t]=c.imag}(T);return[f,d,c]}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","../kernels/Cast":"kWbgg","../kernels/Complex":"7QCs0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kWbgg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"castImpl",function(){return f}),a.export(r,"cast",function(){return d}),a.export(r,"castConfig",function(){return h});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../utils/binary_impl"),c=e("../utils/zeros_impl"),u=e("./Complex"),l=e("./Identity"),p=e("./Real");function f(e,t,r,n){if("int32"===n)return[t,"int32",Int32Array.from(e)];if("bool"===n){var a=o.util.toTypedArray([0],r),c=(0,s._)((0,i.createSimpleBinaryKernelImpl)(function(e,t){return+(e!==t)})(t,[],e,a,"bool"),2),u=c[0];return[c[1],"bool",u]}throw Error("Error in Cast: failed to cast ".concat(r," to ").concat(n))}function d(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.dtype;if("complex64"===i){if("complex64"===a.dtype)return(0,l.identity)({inputs:{x:a},backend:r});var h=(0,c.zeros)(r,a.shape,a.dtype),m=d({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),g=(0,u.complex)({inputs:{real:m,imag:h},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(m),g}if("complex64"===a.dtype){var v=(0,p.real)({inputs:{input:a},backend:r}),_=d({inputs:{x:v},backend:r,attrs:{dtype:i}});return r.disposeIntermediateTensorInfo(v),_}if(!o.util.hasEncodingLoss(a.dtype,i)){var x=(0,l.identity)({inputs:{x:a},backend:r});return{dataId:x.dataId,shape:x.shape,dtype:i}}var y=r.data.get(a.dataId).values,b=(0,s._)(f(y,a.shape,a.dtype,i),3),k=b[0],j=b[1],w=b[2];return r.makeTensorInfo(k,j,w)}var h={kernelName:o.Cast,backendName:"cpu",kernelFunc:d}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/zeros_impl":"j4Rzq","./Complex":"7QCs0","./Identity":"hoIfp","./Real":"kmbU8","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],j4Rzq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zeros",function(){return function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var a=e(t,r,"float32"),i=e(t,r,"float32");return(0,o.complex)({inputs:{real:a,imag:i},backend:t})}var c=s.util.makeZerosTypedArray(s.util.sizeFromShape(r),n);return t.makeTensorInfo(r,n,c)}});var s=e("@tensorflow/tfjs-core"),o=e("../kernels/Complex")},{"@tensorflow/tfjs-core":"aOH7b","../kernels/Complex":"7QCs0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7QCs0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){var t=e.inputs,r=e.backend,n=t.real,a=t.imag,s=r.data.get(n.dataId).values,o=r.data.get(a.dataId).values,i=r.makeTensorInfo(n.shape,"complex64");return r.data.get(i.dataId).complexTensorInfos={real:r.makeTensorInfo(n.shape,"float32",s),imag:r.makeTensorInfo(a.shape,"float32",o)},i}a.defineInteropFlag(r),a.export(r,"complex",function(){return s}),a.export(r,"complexConfig",function(){return o});var o={kernelName:e("@tensorflow/tfjs-core").Complex,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hoIfp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){var t=e.inputs,r=e.backend,n=t.x;return r.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}a.defineInteropFlag(r),a.export(r,"identity",function(){return s}),a.export(r,"identityConfig",function(){return o});var o={kernelName:e("@tensorflow/tfjs-core").Identity,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kmbU8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){var t=e.inputs,r=e.backend,n=t.input,a=r.data.get(n.dataId).complexTensorInfos.real,s=r.data.get(a.dataId).values;return r.makeTensorInfo(a.shape,a.dtype,s)}a.defineInteropFlag(r),a.export(r,"real",function(){return s}),a.export(r,"realConfig",function(){return o});var o={kernelName:e("@tensorflow/tfjs-core").Real,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],heFon:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bincountImpl",function(){return o}),a.export(r,"bincountReduceImpl",function(){return i});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n,a){for(var o=s.util.sizeFromShape(n),i=s.util.makeZerosTypedArray(a,r),c=0;c<e.length;c++){var u=e[c];if(u<0)throw Error("Input x must be non-negative!");u>=a||(o>0?i[u]+=t[c]:i[u]+=1)}return i}function i(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],o=e.shape[1],i=(0,s.buffer)([a,r],t.dtype),c=0;c<a;c++)for(var u=0;u<o;u++){var l=e.get(c,u);if(l<0)throw Error("Input x must be non-negative!");l>=r||(n?i.set(1,c,l):t.size>0?i.set(i.get(c,l)+t.get(c,u),c,l):i.set(i.get(c,l)+1,c,l))}return i}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5EzGR":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bitwiseAndImpl",function(){return c}),a.export(r,"bitwiseAnd",function(){return u}),a.export(r,"bitwiseAndConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return e&t}),u=(0,i.binaryKernelFunc)(s.BitwiseAnd,c),l={kernelName:s.BitwiseAnd,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eWrsC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ceilImpl",function(){return c}),a.export(r,"ceil",function(){return u}),a.export(r,"ceilConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,o.createSimpleUnaryImpl)(function(e){return Math.ceil(e)}),u=(0,i.unaryKernelFuncFromImpl)(s.Ceil,c),l={kernelName:s.Ceil,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_impl":"lNbIk","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lNbIk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"createSimpleUnaryImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e){return function(t,r,n){for(var a=s.util.getArrayFromDType(r,t.length),o=0;o<t.length;++o)a[o]=e(t[o],n);return a}}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1xh9b":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unaryKernelFunc",function(){return c}),a.export(r,"unaryKernelFuncFromImpl",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./unary_impl");function c(e,t,r){return u(e,(0,i.createSimpleUnaryImpl)(t),r)}function u(e,t,r){return function(n){var a,i=n.inputs,c=n.attrs,u=n.backend,l=i.x;(0,o.assertNotComplex)(l,e);var p=u.data.get(l.dataId).values;if("string"===l.dtype){if(!Array.isArray(p))throw Error("String tensor's value was not an instance of Array");a=s.backend_util.fromUint8ToStringArray(p)}else a=p;var f=r||l.dtype,d=t(a,f,c);return u.makeTensorInfo(l.shape,f,d)}}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./unary_impl":"lNbIk","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2WpsX":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concatImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n){var a=s.util.getArrayFromDType(r,s.util.sizeFromShape(t));if(n&&"string"!==r){var o=0;e.forEach(function(e){var t=s.util.sizeFromShape(e.shape);a.set(e.vals,o),o+=t})}else{var i=0;e.forEach(function(e){for(var n="string"===r?s.backend_util.fromUint8ToStringArray(e.vals):e.vals,o=0,c=0;c<e.shape[0];++c)for(var u=c*t[1]+i,l=0;l<e.shape[1];++l)a[u+l]=n[o++];i+=e.shape[1]})}return a}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jWX2L:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"equalImpl",function(){return c}),a.export(r,"equal",function(){return u}),a.export(r,"equalConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return+(e===t)}),u=(0,i.binaryKernelFunc)(s.Equal,c,null,"bool"),l={kernelName:s.Equal,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9TnhL":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expImpl",function(){return c}),a.export(r,"exp",function(){return u}),a.export(r,"expConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,o.createSimpleUnaryImpl)(function(e){return Math.exp(e)}),u=(0,i.unaryKernelFuncFromImpl)(s.Exp,c,"float32"),l={kernelName:s.Exp,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_impl":"lNbIk","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eJEPE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expm1Impl",function(){return c}),a.export(r,"expm1",function(){return u}),a.export(r,"expm1Config",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,o.createSimpleUnaryImpl)(function(e){return Math.expm1(e)}),u=(0,i.unaryKernelFuncFromImpl)(s.Expm1,c),l={kernelName:s.Expm1,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_impl":"lNbIk","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bu3Ph:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floorImpl",function(){return c}),a.export(r,"floor",function(){return u}),a.export(r,"floorConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,o.createSimpleUnaryImpl)(function(e){return Math.floor(e)}),u=(0,i.unaryKernelFuncFromImpl)(s.Floor,c),l={kernelName:s.Floor,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_impl":"lNbIk","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eHvBk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floorDivImpl",function(){return c}),a.export(r,"floorDiv",function(){return u}),a.export(r,"floorDivConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return Math.floor(e/t)}),u=(0,i.binaryKernelFunc)(s.FloorDiv,c,null,"int32"),l={kernelName:s.FloorDiv,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"96HLT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherNdImpl",function(){return i});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core");function i(e,t,r,n,a,i,c,u,l){for(var p=(0,o.buffer)([n,i],r),f=0;f<n;f++){for(var d=[],h=0,m=0;m<a;m++){var g=e[f*a+m];h+=g*c[m],d.push(g)}if(h<0||h>=l/i)throw Error("Invalid indices: ".concat(d," does not index into ").concat(u));for(var v=0;v<i;v++)p.values[f*i+v]=t.get.apply(t,(0,s._)(t.indexToLoc(h*i+v)))}return p}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3r3sw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherV2Impl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r){for(var n=(0,s.buffer)(r,e.dtype),a=0;a<n.size;++a){var o=n.indexToLoc(a).slice(),i=o[0],c=o[2],u=t.locToIndex([i,c]);o[2]=t.values[u];var l=e.locToIndex(o);0<=l&&l<e.values.length&&(n.values[a]=e.values[l])}return n}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],i7ONS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greaterImpl",function(){return c}),a.export(r,"greater",function(){return u}),a.export(r,"greaterConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return+(e>t)}),u=(0,i.binaryKernelFunc)(s.Greater,c,null,"bool"),l={kernelName:s.Greater,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4bOZY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greaterEqualImpl",function(){return c}),a.export(r,"greaterEqual",function(){return u}),a.export(r,"greaterEqualConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return+(e>=t)}),u=(0,i.binaryKernelFunc)(s.GreaterEqual,c,null,"bool"),l={kernelName:s.GreaterEqual,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ef92N:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lessImpl",function(){return c}),a.export(r,"less",function(){return u}),a.export(r,"lessConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return+(e<t)}),u=(0,i.binaryKernelFunc)(s.Less,c,null,"bool"),l={kernelName:s.Less,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],d4FOC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lessEqualImpl",function(){return c}),a.export(r,"lessEqual",function(){return u}),a.export(r,"lessEqualConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return+(e<=t)}),u=(0,i.binaryKernelFunc)(s.LessEqual,c,null,"bool"),l={kernelName:s.LessEqual,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],vtEqn:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"linSpaceImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r){var n=(t-e)/(r-1),a=s.util.makeZerosTypedArray(r,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+n;return a}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],akLAB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logImpl",function(){return c}),a.export(r,"log",function(){return u}),a.export(r,"logConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,o.createSimpleUnaryImpl)(function(e){return Math.log(e)}),u=(0,i.unaryKernelFuncFromImpl)(s.Log,c),l={kernelName:s.Log,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_impl":"lNbIk","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iWMWQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n){for(var a=s.util.getTypedArrayFromDType(n,s.util.sizeFromShape(r)),o=0;o<a.length;++o){for(var i=o*t,c=e[i],u=0;u<t;++u){var l=e[i+u];(Number.isNaN(l)||l>c)&&(c=l)}a[o]=c}return a}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1dJJz":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maximumImpl",function(){return c}),a.export(r,"maximum",function(){return u}),a.export(r,"maximumConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return Math.max(e,t)}),u=(0,i.binaryKernelFunc)(s.Maximum,c),l={kernelName:s.Maximum,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eXIv8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"minimumImpl",function(){return c}),a.export(r,"minimum",function(){return u}),a.export(r,"minimumConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return Math.min(e,t)}),u=(0,i.binaryKernelFunc)(s.Minimum,c),l={kernelName:s.Minimum,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1KdVu":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multiplyImpl",function(){return c}),a.export(r,"multiplyComplexImpl",function(){return u}),a.export(r,"multiply",function(){return l}),a.export(r,"multiplyConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return e*t}),u=(0,i.createComplexBinaryKernelImpl)(function(e,t,r,n){return{real:e*r-t*n,imag:e*n+t*r}}),l=(0,i.binaryKernelFunc)(s.Multiply,c,u),p={kernelName:s.Multiply,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eJFnr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"negImpl",function(){return u}),a.export(r,"neg",function(){return l}),a.export(r,"negConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Multiply");function u(e,t,r){var n=o.util.createScalarValue(-1,r);return(0,c.multiplyImpl)([],t,n,e,r)}function l(e){var t=e.inputs,r=e.backend,n=t.x;(0,i.assertNotComplex)(n,"neg");var a=r.data.get(n.dataId).values,o=(0,s._)(u(a,n.shape,n.dtype),2),c=o[0],l=o[1];return r.makeTensorInfo(l,n.dtype,c)}var p={kernelName:o.Neg,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Multiply":"1KdVu","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fUUlH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"notEqualImpl",function(){return c}),a.export(r,"notEqual",function(){return u}),a.export(r,"notEqualConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return+(e!==t)}),u=(0,i.binaryKernelFunc)(s.NotEqual,c,null,"bool"),l={kernelName:s.NotEqual,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lP33Z:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prodImpl",function(){return u}),a.export(r,"prod",function(){return l}),a.export(r,"prodConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Transpose");function u(e,t,r,n){for(var a=(0,s._)(o.backend_util.computeOutAndReduceShapes(e,n),2),i=a[0],c=a[1],u=(0,o.upcastType)(t,"int32"),l=o.util.makeZerosTypedArray(o.util.sizeFromShape(i),u),p=o.util.sizeFromShape(c),f=0;f<l.length;++f){for(var d=f*p,h=1,m=0;m<p;++m)h*=r[d+m];l[f]=h}return{outVals:l,outShape:i,outDtype:u}}function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.axis,l=n.keepDims;(0,i.assertNotComplex)(a,"prod");var p=a.shape.length,f=o.util.parseAxisParam(s,a.shape),d=o.backend_util.getAxesPermutation(f,p),h=f,m=a,g=[];null!=d&&(g.push(m=(0,c.transpose)({inputs:{x:a},backend:r,attrs:{perm:d}})),h=o.backend_util.getInnerMostAxes(h.length,p));var v=r.data.get(m.dataId).values,_=u(m.shape,m.dtype,v,h),x=_.outVals,y=_.outShape,b=_.outDtype,k=y;return l&&(k=o.backend_util.expandShapeToKeepDim(y,f)),g.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.makeTensorInfo(k,b,x)}var p={kernelName:o.Prod,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2CsMD":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transpose",function(){return c}),a.export(r,"transposeConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./Transpose_impl");function c(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,s=r.perm;(0,o.assertNotComplex)(a,"transpose");for(var c=Array(a.shape.length),u=0;u<c.length;u++)c[u]=a.shape[s[u]];var l=n.data.get(a.dataId).values,p=(0,i.transposeImpl)(l,a.shape,a.dtype,s,c);return{dataId:n.write(p,c,a.dtype),shape:c,dtype:a.dtype}}var u={kernelName:s.Transpose,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Transpose_impl":"juOdZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],juOdZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transposeImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n,a){for(var o=t.length,i=s.util.sizeFromShape(t),c=s.util.computeStrides(t),u=s.util.computeStrides(a),l=s.util.getTypedArrayFromDType(r,s.util.sizeFromShape(a)),p=0;p<i;++p){for(var f=s.util.indexToLoc(p,o,c),d=Array(f.length),h=0;h<d.length;h++)d[h]=f[n[h]];l[s.util.locToIndex(d,o,u)]=e[p]}return l}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4XXgR":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedGatherImpl",function(){return i});var s=e("@tensorflow/tfjs-core");function o(e,t){for(var r=e.slice(0,t);r.length<t;)r.push(1);for(var n=t;n<e.length;n++)r[t-1]*=e[n];return r}function i(e,t,r,n,a,i,c,u){if(0===e.length)throw Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw Error("Split tensors must not be scalars");var l,p,f,d,h=t[0][0]-1;if(i.forEach(function(e,t){if(e<0||e>=h){var r=s.util.indexToLoc(t,c.length,s.util.computeStrides(c)).join(",");throw Error("indices[".concat(r,"] = ").concat(e," is not in [0, ").concat(h,")"))}}),0===n.length)throw Error("params.rank must be nonzero");var m=function(e,t,r,n){for(var a=[],s=0,o=Array(t.length-1+r.length).fill(null).map(function(){return[0]}),i=0;i<r.length;++i){var c=r[i],u=i===r.length-1?n:r[i+1].length;if(0===c.length)throw Error("Ragged splits may not be empty");if(c[0]<0)throw Error("Ragged splits must be non-negative");if(c[c.length-1]>u)throw Error("Ragged splits must not point past values");for(var l=1;l<c.length;++l)if(c[l-1]>c[l])throw Error("Ragged splits must be sorted in ascending order")}for(var p=1,f=0;f<t.length-1;++f){p*=t[f];for(var d=t[f+1],h=1;h<p+1;++h)o[f].push(h*d)}for(var m=0;m<e.length;++m){for(var g=e[m],v=e[m]+1,_=0;_<r.length;++_){var x=r[_],y=_+t.length-1;if(y>=0)for(var b=o[y],k=b[b.length-1]-x[g],j=g;j<v;++j)o[y].push(x[j+1]+k);g=x[g],v=x[v]}v!==g&&(a.push([g,v]),s+=v-g)}return{outSplits:o,valueSlices:a,numValues:s}}(i,c,e,n[0]),g=m.outSplits,v=m.valueSlices,_=m.numValues,x=function(e){for(var t=[],r=0;r<e.length;++r)!function(r){var n=e[r].length,a=s.util.getArrayFromDType("int32",n);t.push(a),e[r].forEach(function(e,t){return a[t]=e})}(r);return t}(g),y=((l=n.slice())[0]=_,p=s.util.getArrayFromDType(a,s.util.sizeFromShape(l)),d=0===(f=r.length)?0:f/n[0],!function(e,t,r,n,a,s){var i=o(t,2)[1],c=o(s,2)[1],u=0,l=!0,p=!1,f=void 0;try{for(var d,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)for(var m=d.value,g=m[0];g<m[1];++g){for(var v=0;v<n;++v)a[u*c+v]=e[g*i+v];++u}}catch(e){p=!0,f=e}finally{try{l||null==h.return||h.return()}finally{if(p)throw f}}}(r,n,v,d,p,l),[p,l]);return[x,y[0],y[1]]}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jyzgr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedRangeImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n,a,o,i){if(t.length>1)throw Error("starts must be a scalar or vector");if(a.length>1)throw Error("limits must be a scalar or vector");if(i.length>1)throw Error("deltas must be a scalar or vector");var c=0===t.length,u=0===a.length,l=0===i.length,p=[];c||p.push(t[0]),u||p.push(a[0]),l||p.push(i[0]);for(var f=1;f<p.length;++f)if(p[f]!==p[f-1])throw Error("starts, limits, and deltas must have the same shape");var d=0===p.length?1:p[0],h=s.util.getArrayFromDType("int32",d+1);h[0]=0;for(var m=0;m<d;++m){var g=c?e[0]:e[m],v=u?n[0]:n[m],_=l?o[0]:o[m];if(0===_)throw Error("Requires delta != 0");var x=void 0;if(_>0&&v<g||_<0&&v>g)x=0;else if((x=Math.ceil(Math.abs((v-g)/_)))>0x7fffffff)throw Error("Requires ((limit - start) / delta)<= ".concat(0x7fffffff));h[m+1]=h[m]+x}for(var y=h[d],b=s.util.getArrayFromDType(r,y),k=0,j=0;j<d;++j)for(var w=h[j+1]-h[j],I=c?e[0]:e[j],T=l?o[0]:o[j],S=0;S<w;++S)b[k++]=I,I+=T;return[h,b]}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],QkyPi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedTensorToTensorImpl",function(){return f});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@tensorflow/tfjs-core"),c=i.backend_util.RowPartitionType,u=function(){"use strict";function e(t,r,n,a,o,c,u,l,p,f){(0,s._)(this,e),this.shape=t,this.shapeShape=r,this.values=n,this.valuesShape=a,this.valuesDType=o,this.defaultValue=c,this.defaultValueShape=u,this.rowPartitionValues=l,this.rowPartitionValuesShapes=p,this.rowPartitionTypes=i.backend_util.getRowPartitionTypesHelper(f),this.raggedRank=i.backend_util.getRaggedRank(this.rowPartitionTypes)}return(0,o._)(e,[{key:"getRowPartitionTypeByDimension",value:function(e){return this.rowPartitionTypes[0]===c.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}},{key:"getRowPartitionTensor",value:function(e){return this.rowPartitionTypes[0]===c.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}},{key:"getMaxWidth",value:function(t){var r=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case c.VALUE_ROWIDS:return e.getMaxWidthValueRowID(r);case c.ROW_SPLITS:return e.getMaxWidthRowSplit(r);default:throw Error("Cannot handle partition type ".concat(c[this.getRowPartitionTypeByDimension(t-1)]))}}},{key:"tensorShapeFromTensor",value:function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(0===t.length){if(-1===e[0])return[];throw Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return p(e,r)}},{key:"calculateOutputSize",value:function(e){var t=this.valuesShape,r=this.defaultValueShape;i.backend_util.validateDefaultValueShape(r,t);var n=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=i.backend_util.combineRaggedTensorToTensorShapes(this.raggedRank,n,t);a[0]<0&&(a[0]=e);for(var s=1;s<=this.raggedRank;++s)a[s]<0&&(a[s]=this.getMaxWidth(s));return a}},{key:"calculateFirstParentOutputIndex",value:function(e,t,r){for(var n=Math.min(e,r),a=[],s=0,o=0;o<n;++o,s+=t)a.push(s);for(var c=n;c<e;++c)a.push(-1);return i.util.assert(a.length===e,function(){return"Final length of result must be equal to firstDimension."}),a}},{key:"calculateOutputIndexRowSplit",value:function(e,t,r,n){for(var a=e.length,s=[],o=0;o<a-1;++o){var i=e[o+1]-e[o],c=Math.min(n,i),u=t[o];-1===u&&(c=0);for(var l=0;l<c;++l)s.push(u),u+=r;for(var p=0;p<i-c;++p)s.push(-1)}if(a>0&&s.length!==e[a-1])throw Error("Invalid row split size.");return s}},{key:"calculateOutputIndexValueRowID",value:function(e,t,r,n){var a=e.length,s=[];if(0===a)return[];var o=0,i=e[0];if(i>=t.length)throw Error("Got currentValueRowId=".concat(i,", which is not less than ").concat(t.length));var c=t[i];s.push(c);for(var u=1;u<a;++u){var l=e[u];if(l===i)c>=0&&(++o<n?c+=r:c=-1);else{if(o=0,i=l,l>=t.length)throw Error("Got nextValueRowId=".concat(l," which is not less than ").concat(t.length));c=t[l]}s.push(c)}if(s.length!==e.length)throw Error("Invalid row ids.");return s}},{key:"calculateOutputIndex",value:function(e,t,r,n){var a=this.getRowPartitionTensor(e),s=this.getRowPartitionTypeByDimension(e);switch(s){case c.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,r,n);case c.ROW_SPLITS:if(a.length-1>t.length)throw Error("Row partition size is greater than output size: ".concat(a.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(a,t,r,n);default:throw Error("Unsupported partition type: ".concat(c[s]))}}},{key:"getFirstDimensionSize",value:function(){var e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw Error("No row_partition_types given.");var t=this.rowPartitionTypes[0];switch(t){case c.FIRST_DIM_SIZE:return e[0];case c.VALUE_ROWIDS:throw Error("Cannot handle VALUE_ROWIDS in first dimension.");case c.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw Error("Cannot handle type ".concat(c[t]))}}},{key:"compute",value:function(){if(this.rowPartitionValues[0].length<=0)throw Error("Invalid first partition input. Tensor requires at least one element.");var e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),r=Array(this.raggedRank+1);r[r.length-1]=1;for(var n=r.length-2;n>=0;--n)r[n]=r[n+1]*t[n+1];var a=p(t,!1),s=i.util.getArrayFromDType(this.valuesDType,i.util.sizeFromShape(a));if(r[0]*t[0]>0){for(var o=this.calculateFirstParentOutputIndex(e,r[0],t[0]),c=1;c<=this.raggedRank;++c)o=this.calculateOutputIndex(c-1,o,r[c],t[c]);this.setOutput(this.raggedRank,o,s,a)}return[a,s]}},{key:"setOutput",value:function(e,t,r,n){if(0!==r.length){var a=this.values,s=n.slice();s=s.slice(e+1);var o=i.util.sizeFromShape(s),c=t.length,u=this.defaultValue;if(u.length!==o&&1!==u.length){var p=this.defaultValueShape;(0,i.tidy)(function(){var e=(0,i.reshape)(u,p);u=(0,i.broadcastTo)(e,s).dataSync()})}for(var f=0,d=0,h=0,m=0;m<=c;++m){var g=m<c?t[m]:-1;if(g===h){++h;continue}if(d<h){var v=a.subarray(f*o);l(r.subarray(d*o),v,(h-d)*o)}if(m>=c&&(g=Math.floor(r.length/o)),g>h)if(1===this.defaultValue.length)r.subarray(h*o,g*o).fill(this.defaultValue[0]),h=g;else for(;g>h;)l(r.slice(h*o),u,o),++h;g<0?(f=m+1,d=h):(f=m,h=(d=h)+1)}}}}],[{key:"getMaxWidthRowSplit",value:function(e){var t=e.length;if(0===t||1===t)return 0;for(var r=0,n=0;n<t-1;++n){var a=e[n+1]-e[n];a>r&&(r=a)}return r}},{key:"getMaxWidthValueRowID",value:function(e){var t=e.length;if(0===t)return 0;for(var r=0,n=e[0],a=0,s=1;s<t;++s){var o=e[s];o!==n&&(n=o,a=Math.max(s-r,a),r=s)}return Math.max(t-r,a)}}]),e}();function l(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function p(e,t){var r=[],n=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;if(c<0){if(!t)throw Error("Dimension ".concat(c," must be >= 0"));if(c<-1)throw Error("Dimension ".concat(c," must be >= -1"));c=-1}r.push(c)}}catch(e){a=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw s}}return r}function f(e,t,r,n,a,s,o,i,c,l){return new u(e,t,r,n,a,s,o,i,c,l).compute()}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],brzI2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rangeImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n){var a=e===t,o=e<t&&r<0,i=t<e&&r>1;if(a||o||i)return s.util.makeZerosTypedArray(0,n);var c=Math.abs(Math.ceil((t-e)/r)),u=s.util.makeZerosTypedArray(c,n);t<e&&1===r&&(r=-1),u[0]=e;for(var l=1;l<u.length;l++)u[l]=u[l-1]+r;return u}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eIBuK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rsqrtImpl",function(){return c}),a.export(r,"rsqrt",function(){return u}),a.export(r,"rsqrtConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,o.createSimpleUnaryImpl)(function(e){return 1/Math.sqrt(e)}),u=(0,i.unaryKernelFuncFromImpl)(s.Rsqrt,c),l={kernelName:s.Rsqrt,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_impl":"lNbIk","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8sDwq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scatterImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n,a,o,i,c,u,l){var p=e.values,f=t.values;if(0===n)return(0,s.buffer)(r,t.dtype);var d=u instanceof s.TensorBuffer?u:(0,s.buffer)([n/a,a],t.dtype);"string"==typeof u||"number"==typeof u?d.values.fill(u):"boolean"==typeof u&&d.values.fill(+u);for(var h=0;h<o;h++){for(var m=[],g=0,v=0;v<i;v++){var _=p[h*i+v];m.push(_),g+=_*c[v]}if(g<0||g>=n/a)throw Error("Invalid indices: ".concat(m," does not index into ").concat(r));for(var x=0;x<a;x++)l?d.values[g*a+x]+=f[h*a+x]:d.values[g*a+x]=0===t.rank?f[0]:f[h*a+x]}return d}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jksZb:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sigmoidImpl",function(){return c}),a.export(r,"sigmoid",function(){return u}),a.export(r,"sigmoidConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,o.createSimpleUnaryImpl)(function(e){return 1/(1+Math.exp(-e))}),u=(0,i.unaryKernelFunc)(s.Sigmoid,function(e){return 1/(1+Math.exp(-e))}),l={kernelName:s.Sigmoid,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_impl":"lNbIk","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"28Hnf":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sliceImpl",function(){return u}),a.export(r,"slice",function(){return l}),a.export(r,"sliceConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),i=e("@tensorflow/tfjs-core"),c=e("../cpu_util");function u(e,t,r,n,a){var s=i.slice_util.isSliceContinous(n,t,r),c=i.util.sizeFromShape(r),u=i.util.computeStrides(n);if(s){var l=i.slice_util.computeFlatOffset(t,u);return"string"===a?e.slice(l,l+c):e.subarray(l,l+c)}for(var p="string"===a?i.backend_util.fromUint8ToStringArray(e):e,f=(0,i.buffer)(n,a,p),d=(0,i.buffer)(r,a),h=0;h<d.size;++h){var m=d.indexToLoc(h),g=m.map(function(e,r){return e+t[r]});d.set.apply(d,[f.get.apply(f,(0,o._)(g))].concat((0,o._)(m)))}return"string"===a?i.backend_util.fromStringArrayToUint8(d.values):d.values}function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.begin,l=n.size;(0,c.assertNotComplex)(a,"slice");var p=(0,s._)(i.slice_util.parseSliceParams(a,o,l),2),f=p[0],d=p[1];i.slice_util.assertParamsValid(a,f,d);var h=u(r.data.get(a.dataId).values,f,d,a.shape,a.dtype);return r.makeTensorInfo(d,a.dtype,h)}var p={kernelName:i.Slice,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6Zb3O":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseFillEmptyRowsImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n,a,o,i){var c=t[0],u=o[0],l=Array(u),p=Array(c),f=t[1];if(0===u){if(0!==c)throw Error(s.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(c));return[s.util.getArrayFromDType(r,0),[0,f],s.util.getArrayFromDType(a,0),l,p]}for(var d=!0,h=0,m=Array(u).fill(0),g=0;g<c;++g){var v=e[g*f];if(v<0)throw Error(s.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(g,v));if(v>=u)throw Error(s.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(g,v,u));++m[v],d=d&&v>=h,h=v}for(var _=!0,x=0;x<u;++x){var y=0===m[x];l[x]=y,_=_&&!y,m[x]=Math.max(m[x],1),x>0&&(m[x]+=m[x-1])}if(_&&d){for(var b=0;b<c;++b)p[b]=b;return[e,[c,f],n,l,p]}for(var k=m[u-1],j=s.util.getArrayFromDType(r,k*f),w=s.util.getArrayFromDType(a,k),I=Array(u).fill(0),T=0;T<c;++T){var S=e[T*f],N=I[S],M=(0===S?0:m[S-1])+N;I[S]++;for(var C=0;C<f;++C)j[M*f+C]=e[T*f+C];w[M]=n[T],p[T]=M}for(var E=0;E<u;++E)if(0===I[E]){var F=0===E?0:m[E-1];j[F*f+0]=E;for(var A=1;A<f;++A)j[F*f+A]=0;w[F]=i}return[j,[k,f],w,l,p]}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6WP3w":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseReshapeImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n,a){for(var o=s.util.sizeFromShape(n),i=t[0],c=a.length,u=[],l=1,p=-1,f=0;f<c;++f){var d=a[f];if(-1===d){if(-1!==p)throw Error(s.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(p,f));p=f,u.push(1)}else{if(d<0)throw Error(s.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(f,d));l*=d,u.push(d)}}if(-1!==p){if(l<=0)throw Error(s.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var h=Math.trunc(o/l);if(l*h!==o)throw Error(s.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(n,u));u[p]=h}if(s.util.sizeFromShape(u)!==o)throw Error(s.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(n,u));var m=n.length,g=[];if(m>0){g[m-1]=1;for(var v=m-2;v>=0;--v)g[v]=g[v+1]*n[v+1]}var _=[];if(c>0){_[c-1]=1;for(var x=c-2;x>=0;--x)_[x]=_[x+1]*u[x+1]}for(var y=s.util.getArrayFromDType(r,i*c),b=0;b<i;++b){for(var k=0,j=0;j<m;++j)k+=e[b*m+j]*g[j];for(var w=0;w<c;++w)y[b*c+w]=Math.trunc(k/_[w]),k%=_[w]}return[y,[i,c],u]}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],glo7z:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentReductionImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=n.length,u=[t[0],e.length/t[0]],l=u[1],p=c>0?a[c-1]+1:0;if(p<0)throw Error(s.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var f=t.slice();f[0]=p;var d=f.reduce(function(e,t){return e*t},1),h=s.util.getArrayFromDType(r,d);if(0===c)return p>0&&h.fill(i),[h,f];if(p<=0)throw Error(s.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var m=0,g=1,v=0,_=a[0];;){var x=0;if(g<c){if(_===(x=a[g])){++g;continue}if(_>=x)throw Error(s.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(_<0||_>=p)throw Error(s.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(_,p));_>v&&h.fill(i,v*l,_*l);for(var y=m;y<g;++y){var b=n[y];if(b<0||b>=u[0])throw Error(s.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(y,n[y],u[0]));for(var k=0;k<l;k++)h[_*l+k]+=e[b*l+k]}if(o)for(var j=0;j<l;j++)h[_*l+j]/=g-m;if(m=g,++g,v=_+1,_=x,g>c)break}return v<p&&h.fill(i,v*l,p*l),[h,f]}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4YAj6":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sqrtImpl",function(){return c}),a.export(r,"sqrt",function(){return u}),a.export(r,"sqrtConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,o.createSimpleUnaryImpl)(function(e){return Math.sqrt(e)}),u=(0,i.unaryKernelFunc)(s.Sqrt,function(e){return Math.sqrt(e)}),l={kernelName:s.Sqrt,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_impl":"lNbIk","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],elmzI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squaredDifferenceImpl",function(){return c}),a.export(r,"squaredDifference",function(){return u}),a.export(r,"squaredDifferenceConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){var r=e-t;return r*r}),u=(0,i.binaryKernelFunc)(s.SquaredDifference,c),l={kernelName:s.SquaredDifference,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"98Jvt":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"staticRegexReplaceImpl",function(){return c}),a.export(r,"staticRegexReplaceConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,o.createSimpleUnaryImpl)(function(e,t){var r=t.pattern,n=t.replaceGlobal,a=t.rewrite;return e.replace(new RegExp(r,n?"g":""),a)}),u=(0,i.unaryKernelFuncFromImpl)(s.StaticRegexReplace,c),l={kernelName:s.StaticRegexReplace,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_impl":"lNbIk","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fxoe0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stridedSliceImpl",function(){return i});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core");function i(e,t,r,n){for(var a=(0,o.buffer)(e,t.dtype),i=0;i<a.size;i++){for(var c=a.indexToLoc(i),u=Array(c.length),l=0;l<u.length;l++)u[l]=c[l]*r[l]+n[l];a.set.apply(a,[t.get.apply(t,(0,s._)(u))].concat((0,s._)(c)))}return a}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gCgj1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringNGramsImpl",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@tensorflow/tfjs-core"),c=function(){"use strict";function e(t,r,n,a,o,c){(0,s._)(this,e),this.separator=i.util.encodeString(t),this.nGramWidths=r,this.leftPad=i.util.encodeString(n),this.rightPad=i.util.encodeString(a),this.padWidth=o,this.preserveShort=c}return(0,o._)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){return Math.max(0,e+2*this.getPadWidth(t)-t+1)}},{key:"createNGrams",value:function(e,t,r,n,a,s){for(var o,i=0;i<a;++i)o=this,function(i){var c,u=o.getPadWidth(s),l=Math.max(0,u-i),p=Math.max(0,u-(a-(i+1))),f=s-(l+p),d=t+(l>0?0:i-u);c=0+l*o.leftPad.length;for(var h=0;h<f;++h)c+=e[d+h].length;c+=p*o.rightPad.length,c+=(l+p+f-1)*o.separator.length,r[n+i]=new Uint8Array(c);for(var m=r[n+i],g=0,v=function(e){return e.forEach(function(e){return m[g++]=e})},_=0;_<l;++_)v(o.leftPad),v(o.separator);for(var x=0;x<f-1;++x)v(e[d+x]),v(o.separator);if(f>0){v(e[d+f-1]);for(var y=0;y<p;++y)v(o.separator),v(o.rightPad)}else{for(var b=0;b<p-1;++b)v(o.rightPad),v(o.separator);v(o.rightPad)}}(i)}},{key:"compute",value:function(e,t){var r,n,a=function(r){var a=t[r],o=d[r];if(n.nGramWidths.forEach(function(n){var i=t[r+1]-t[r],c=s.getNumNGrams(i,n);s.createNGrams(e,a,v,o,c,n),o+=c}),n.preserveShort&&o===d[r]){var i=t[r+1]-t[r];if(0===i)return"continue";var c=i+2*n.padWidth;n.createNGrams(e,a,v,o,1,c)}},s=this,o=e.length,c=t.length;if(c>0){var u=t[0];if(0!==u)throw Error("First split value must be 0, got ".concat(u));for(var l=1;l<c;++l){var p=t[l]>=u;if(!(p=p&&t[l]<=o))throw Error("Invalid split value ".concat(t[l],", must be in [").concat(u,", ").concat(o,"]"));u=t[l]}if(u!==o)throw Error("Last split value must be data size. Expected ".concat(o,", got ").concat(u))}var f=c-1,d=i.util.getArrayFromDType("int32",c);if(0===o||0===c){for(var h=Array(o),m=0;m<=f;++m)d[m]=0;return[h,d]}d[0]=0;for(var g=1;g<=f;++g)r=this,function(e){var n=t[e]-t[e-1],a=0;r.nGramWidths.forEach(function(e){a+=s.getNumNGrams(n,e)}),r.preserveShort&&n>0&&0===a&&(a=1),d[e]=d[e-1]+a}(g);for(var v=Array(d[f]),_=0;_<f;++_)n=this,a(_);return[v,d]}}]),e}();function u(e,t,r,n,a,s,o,i){return new c(r,n,a,s,o,i).compute(e,t)}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],euPiE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringSplitImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r){for(var n=e.length,a=[],o=0,i=0,c=Array(n),u=0;u<n;++u){var l=a.length;!function(e,t,r,n){if(e.length){if(0===t.length){for(var a=0;a<e.length;++a)n.push(e.subarray(a,a+1));return}if(1===t.length){for(var s=t[0],o=e.indexOf(s);-1!==o;){var i=e.subarray(0,o);r&&0===i.length||n.push(i),o=(e=e.subarray(o+1)).indexOf(s)}r&&0===e.length||n.push(e);return}for(var c=0,u=0;u<e.length+1;u++)if(u===e.length||-1!==t.indexOf(e[u])){var l=e.subarray(c,u);r&&0===l.length||n.push(l),c=u+1}}}(e[u],t,r,a);var p=a.length-l;c[u]=p,o+=p,i=Math.max(i,p)}for(var f=s.util.getArrayFromDType("int32",2*o),d=Array(o),h=[n,i],m=0,g=0;g<n;++g)for(var v=0;v<c[g];++v)f[2*m]=g,f[2*m+1]=v,d[m]=a[m],++m;return[f,d,h]}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],llNkF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringToHashBucketFastImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t){for(var r=s.util.getArrayFromDType("int32",e.length),n=0;n<e.length;++n)r[n]=s.util.fingerPrint64(e[n]).modulo(t).getLowBitsUnsigned();return r}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3yOhY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"subImpl",function(){return c}),a.export(r,"subComplexImpl",function(){return u}),a.export(r,"sub",function(){return l}),a.export(r,"subConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return e-t}),u=(0,i.createComplexBinaryKernelImpl)(function(e,t,r,n){return{real:e-r,imag:t-n}}),l=(0,i.binaryKernelFunc)(s.Sub,c,u),p={kernelName:s.Sub,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9aPJh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tileImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t){for(var r=Array(e.rank),n=0;n<r.length;n++)r[n]=e.shape[n]*t[n];for(var a=(0,s.buffer)(r,e.dtype),o=0;o<a.values.length;++o){for(var i=a.indexToLoc(o),c=Array(e.rank),u=0;u<c.length;u++)c[u]=i[u]%e.shape[u];var l=e.locToIndex(c);a.values[o]=e.values[l]}return a}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jBsXV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"topKImpl",function(){return i});var s=e("@tensorflow/tfjs-core"),o=function(e,t){var r=t.value-e.value;return 0===r?e.index-t.index:r};function i(e,t,r,n,a){for(var i=t[t.length-1],c=[e.length/i,i],u=c[0],l=c[1],p=s.util.getTypedArrayFromDType(r,u*n),f=s.util.getTypedArrayFromDType("int32",u*n),d=0;d<u;d++)!function(t){var r=t*l,i=e.subarray(r,r+l),c=Array(i.length);i.forEach(function(e,t){return c[t]={value:e,index:t}}),n<c.length&&(!function e(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1;a>n;){if(a-n>600){var i=a-n+1,c=r-n+1,u=Math.log(i),l=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*l*(i-l)/i)*Math.sign(c-i/2),f=Math.max(n,Math.floor(r-c*l/i+p)),d=Math.min(a,Math.floor(r+(i-c)*l/i+p));e(t,r,f,d)}var h=t[r],m=n,g=a;for(s.util.swap(t,n,r),o(t[a],h)>0&&s.util.swap(t,n,a);m<g;){for(s.util.swap(t,m,g),m++,g--;0>o(t[m],h);)m+=1;for(;o(t[g],h)>0;)g-=1}0===o(t[n],h)?s.util.swap(t,n,g):(g+=1,s.util.swap(t,g,a)),g<=r&&(n=g+1),r<=g&&(a=g-1)}}(c,n),c=c.slice(0,n)),a&&c.sort(o);for(var u=t*n,d=p.subarray(u,u+n),h=f.subarray(u,u+n),m=0;m<n;m++)d[m]=c[m].value,h[m]=c[m].index}(d);var h=t.slice();return h[h.length-1]=n,[(0,s.buffer)(h,r,p),(0,s.buffer)(h,"int32",f)]}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"45rzo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"uniqueImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n){for(var a=s.util.parseAxisParam(t,r)[0],o=[1,r[0],1],i=0;i<a;i++)o[0]*=r[i];o[1]=r[a];for(var c=a+1;c<r.length;c++)o[2]*=r[c];for(var u=new Map,l=new Int32Array(r[a]),p=new(0,s.TensorBuffer)(o,n,e),f=[],d=1===o[0]&&1===o[2],h=0;h<r[a];h++){var m=void 0;if(d)m=e[h].toString();else{for(var g=[],v=0;v<o[0];v++)for(var _=0;_<o[2];_++)g.push(p.get(v,h,_));m=g.join(",")}var x=u.get(m);if(null!=x)l[h]=x;else{var y=u.size;u.set(m,y),l[h]=y,f.push(h)}}var b=o.slice();b[1]=u.size;var k=new(0,s.TensorBuffer)(b,n);f.forEach(function(e,t){for(var r=0;r<o[0];r++)for(var n=0;n<o[2];n++)k.set(p.get(r,e,n),r,t,n)});var j=r.slice();return j[a]=b[1],{outputValues:k.values,outputShape:j,indices:l}}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eOVAZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PackProgram",function(){return l});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("./gpgpu_math"),c=e("./packing_util"),u=e("./shader_compiler"),l=function(){"use strict";function e(t){if((0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length),0===this.rank)this.userCode="\n void main() {\n setOutput(vec4(getA(), 0., 0., 0.));\n }\n ";else{var r=(0,c.getChannels)("rc",this.rank),n=(0,u.getCoordsDataType)(this.rank),a=this.getOutOfBoundsCondition(r),o=this.getSetup(r),l=this.getOutput(r);this.userCode="\n void main() {\n ".concat(n," rc = getOutputCoords();\n\n if(").concat(a,") {\n setOutput(vec4(0));\n } else {\n ").concat(o,"\n\n setOutput(vec4(").concat(l,"));\n }\n }\n ")}}return(0,o._)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],r=0;r<=1;r++)for(var n=0;n<=1;n++){for(var a="".concat(0===r?"r":"rp1",", ").concat(0===n?"c":"cp1"),s=2;s<this.rank;s++)a="".concat(e[e.length-1-s],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc >".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",r=this.rank-2;r<this.rank;r++)t+="".concat(e[r]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(r,"]"):this.outputShape[r]),r<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n int r = ".concat(t[0],";\n int c = ").concat(t[1],";\n int rp1 = r + 1;\n int cp1 = c + 1;\n\n bool cEdge = cp1 >= ").concat(r,";\n bool rEdge = rp1 >= ").concat(n,";\n ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var r=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(r," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n cEdge ? 0. : getA(").concat(t[1],"),\n rEdge ? 0. : getA(").concat(t[2],"),\n rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","./gpgpu_math":"7KkpX","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iRNUv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(t){return"".concat(e,".").concat(t)})}function o(e,t){return 1===t?[e]:s(e,t)}function i(e,t){if(1===e)return"rc";for(var r="",n=0;n<e;n++)r+=t[n],n<e-1&&(r+=",");return r}a.defineInteropFlag(r),a.export(r,"getVecChannels",function(){return s}),a.export(r,"getChannels",function(){return o}),a.export(r,"getSourceCoords",function(){return i})},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bEUJk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ReshapePackedProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./gpgpu_math"),i=e("./shader_compiler_util"),c=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=(0,o.useShapeUniforms)(this.outputShape.length);for(var n,a,c="",u=0;u<4;u++){var l="thisRC = rc;";u%2==1&&(l+="thisRC.z += 1;"),u>1&&(l+="thisRC.y += 1;"),c+="\n ".concat(l,"\n ").concat(u>0?"if(thisRC.y< rows && thisRC.z < cols){":"","\n int flatIndex = getFlatIndex(thisRC);\n\n ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n result[").concat(u,"] =\n getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n ").concat(u>0?"}":"","\n ")}this.userCode="\n ".concat((n=r,a=this.enableShapeUniforms?i.getLogicalCoordinatesFromFlatIndexByUniform(["r","c","d"],"inputShape"):i.getLogicalCoordinatesFromFlatIndex(["r","c","d"],n),"\n ivec3 inputCoordsFromReshapedOutCoords(int index) {\n ".concat(a,"\n return ivec3(r, c, d);\n }\n ")),"\n ").concat(this.enableShapeUniforms?i.getFlatIndexFrom3DOutput():i.getFlatIndexFrom3D(t),"\n\n void main() {\n ivec3 rc = getOutputCoords();\n\n vec4 result = vec4(0.);\n\n ivec3 thisRC;\n int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n ").concat(c,"\n\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./gpgpu_math":"7KkpX","./shader_compiler_util":"l0BJT","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],j7Rk3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TextureManager",function(){return p}),a.export(r,"computeBytes",function(){return f});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_sliced_to_array.cjs"),c=e("@tensorflow/tfjs-core"),u=e("./gpgpu_util"),l=e("./tex_util"),p=function(){"use strict";function e(t){(0,s._)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}return(0,o._)(e,[{key:"acquireTexture",value:function(e,t,r){var n,a=d(t,r),s=h(e,a,r);s in this.freeTextures||(this.freeTextures[s]=[]),s in this.usedTextures||(this.usedTextures[s]=[]);var o=f(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[s].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var i=this.freeTextures[s].pop();return this.usedTextures[s].push(i),i}return a===l.PhysicalTextureType.PACKED_2X2_FLOAT32?n=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===l.PhysicalTextureType.PACKED_2X2_FLOAT16?n=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===l.PhysicalTextureType.UNPACKED_FLOAT32?n=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===l.PhysicalTextureType.UNPACKED_FLOAT16?n=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===l.PhysicalTextureType.PACKED_4X1_UNSIGNED_BYTE&&(n=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[s].push(n),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),n}},{key:"releaseTexture",value:function(e,t,r,n){if(null!=this.freeTextures){var a=d(r,n),s=h(t,a,n);s in this.freeTextures||(this.freeTextures[s]=[]);var o=f(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,n),i=(0,c.env)().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==i&&this._numBytesAllocated>i?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[s].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;var u=this.usedTextures[s],l=u&&u.indexOf(e);if(null==l||l<0)throw Error("Cannot release a texture that was never provided by this texture manager");u[l]=u[u.length-1],u.pop(),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t.texture)});for(var r in this.usedTextures)this.usedTextures[r].forEach(function(t){e.gpgpu.deleteMatrixTexture(t.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function f(e,t,r,n,a){var s,o=function(e,t){switch(e){case l.PhysicalTextureType.PACKED_2X2_FLOAT32:return(0,u.getInternalFormatForPackedMatrixTexture)(t);case l.PhysicalTextureType.PACKED_2X2_FLOAT16:return(0,u.getInternalFormatForFloat16PackedMatrixTexture)(t);case l.PhysicalTextureType.UNPACKED_FLOAT32:return(0,u.getInternalFormatForFloat32MatrixTexture)(t);case l.PhysicalTextureType.UNPACKED_FLOAT16:return(0,u.getInternalFormatForFloat16MatrixTexture)(t);case l.PhysicalTextureType.PACKED_4X1_UNSIGNED_BYTE:return(0,u.getInternalFormatForUnsignedBytesMatrixTexture)(t);default:throw Error("Unknown physical texture type ".concat(e))}}(t,n);if(a){var c=(0,i._)((0,l.getPackedMatrixTextureShapeWidthHeight)(e[0],e[1]),2);s=c[0]*c[1]}else{var p=(0,i._)((0,l.getUnpackedMatrixTextureShapeWidthHeight)(e[0],e[1]),2);s=p[0]*p[1]}return s*function(e,t){if(t===e.R32F)return 4;if(t===e.R16F)return 2;if(t===e.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===e.RGBA16F)return 8;else if(t===e.RGBA8)return 4;throw Error("Unknown internal format ".concat(t))}(r,o)}function d(e,t){if(e===l.TextureUsage.UPLOAD)return l.PhysicalTextureType.PACKED_2X2_FLOAT32;if(e===l.TextureUsage.RENDER||null==e)return(0,c.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?l.PhysicalTextureType.PACKED_2X2_FLOAT32:l.PhysicalTextureType.UNPACKED_FLOAT32:t?l.PhysicalTextureType.PACKED_2X2_FLOAT16:l.PhysicalTextureType.UNPACKED_FLOAT16;if(e===l.TextureUsage.DOWNLOAD||e===l.TextureUsage.PIXELS)return l.PhysicalTextureType.PACKED_4X1_UNSIGNED_BYTE;throw Error("Unknown logical texture type ".concat(e))}function h(e,t,r){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(r)}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./gpgpu_util":"ar8ls","./tex_util":"fRKpU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"66B4A":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"UnaryOpProgram",function(){return i}),a.export(r,"CHECK_NAN_SNIPPET",function(){return c}),a.export(r,"LINEAR",function(){return u}),a.export(r,"ABS",function(){return l}),a.export(r,"STEP",function(){return p}),a.export(r,"ELU",function(){return f}),a.export(r,"RELU",function(){return d}),a.export(r,"RELU6",function(){return h}),a.export(r,"CLONE",function(){return m}),a.export(r,"SIGMOID",function(){return g});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./gpgpu_math"),i=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=(0,o.useShapeUniforms)(this.outputShape.length),this.userCode="\n float unaryOperation(float x) {\n ".concat(r,"\n }\n\n void main() {\n float x = getAAtOutCoords();\n float y = unaryOperation(x);\n\n setOutput(y);\n }\n ")},c="if (isnan(x)) return x;",u="return x;",l="return abs(x);";function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return c+"\n return x > 0.0 ? 1.0 : float(".concat(e,");\n ")}var f="return (x >= 0.0) ? x : (exp(x) - 1.0);",d=c+"\n return (x< 0.0) ? 0.0 : x;\n",h=c+"\n return (x < 0.0) ? 0.0 : min(6.0, x);\n",m="return x;",g="return 1.0 / (1.0 + exp(-1.0 * x));"},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./gpgpu_math":"7KkpX","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jwqfd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LINEAR",function(){return i}),a.export(r,"ELU",function(){return c}),a.export(r,"RELU",function(){return u}),a.export(r,"RELU6",function(){return l}),a.export(r,"SIGMOID",function(){return p}),a.export(r,"UnaryOpPackedProgram",function(){return f});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./gpgpu_math"),i="return x;",c="\n vec4 result;\n\n result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n return result;\n",u="\n vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n",l="\n vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n",p="return 1.0 / (1.0 + exp(-1.0 * x));",f=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=(0,o.useShapeUniforms)(this.outputShape.length),this.userCode="\n vec4 unaryOperation(vec4 x) {\n ".concat(r,"\n }\n\n void main() {\n vec4 x = getAAtOutCoords();\n vec4 y = unaryOperation(x);\n\n setOutput(y);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./gpgpu_math":"7KkpX","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lwpH8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"UnpackProgram",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./gpgpu_math"),i=e("./packing_util"),c=e("./shader_compiler"),u=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=(0,o.useShapeUniforms)(this.outputShape.length);var r=t.length,n=(0,i.getChannels)("rc",r),a=(0,c.getCoordsDataType)(r),u=(0,i.getSourceCoords)(r,n),l=n.slice(-2),p=r<=1?"rc":"vec2(".concat(l.join(","),")");this.userCode="\n void main() {\n ".concat(a," rc = getOutputCoords();\n vec4 packedInput = getA(").concat(u,");\n\n setOutput(getChannel(packedInput, ").concat(p,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./gpgpu_math":"7KkpX","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kuPbQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version",function(){return s});var s="4.22.0"},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2Novc":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MathBackendWebGL",function(){return c.MathBackendWebGL}),a.export(r,"setWebGLContext",function(){return u.setWebGLContext}),a.export(r,"GPGPUContext",function(){return l.GPGPUContext}),a.export(r,"gpgpu_util",function(){return o}),a.export(r,"webgl_util",function(){return i}),a.export(r,"forceHalfFloat",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("./gpgpu_util"),i=e("./webgl_util"),c=e("./backend_webgl"),u=e("./canvas_util"),l=e("./gpgpu_context");function p(){(0,s.env)().set("WEBGL_FORCE_F16_TEXTURES",!0)}},{"@tensorflow/tfjs-core":"aOH7b","./gpgpu_util":"ar8ls","./webgl_util":"4eDDt","./backend_webgl":"524gV","./canvas_util":"pEvnT","./gpgpu_context":"ed6Jg","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bnPJn:[function(e,t,r,n){var a=e("@tensorflow/tfjs-core"),s=e("./kernels/_FusedMatMul"),o=e("./kernels/Abs"),i=e("./kernels/Acos"),c=e("./kernels/Acosh"),u=e("./kernels/Add"),l=e("./kernels/AddN"),p=e("./kernels/All"),f=e("./kernels/Any"),d=e("./kernels/ArgMax"),h=e("./kernels/ArgMin"),m=e("./kernels/Asin"),g=e("./kernels/Asinh"),v=e("./kernels/Atan"),_=e("./kernels/Atan2"),x=e("./kernels/Atanh"),y=e("./kernels/AvgPool"),b=e("./kernels/AvgPool3D"),k=e("./kernels/AvgPool3DGrad"),j=e("./kernels/AvgPoolGrad"),w=e("./kernels/BatchMatMul"),I=e("./kernels/BatchNorm"),T=e("./kernels/BatchToSpaceND"),S=e("./kernels/Bincount"),N=e("./kernels/BitwiseAnd"),M=e("./kernels/BroadcastArgs"),C=e("./kernels/Cast"),E=e("./kernels/Ceil"),F=e("./kernels/ClipByValue"),A=e("./kernels/Complex"),R=e("./kernels/ComplexAbs"),P=e("./kernels/Concat"),O=e("./kernels/Conv2D"),D=e("./kernels/Conv2DBackpropFilter"),B=e("./kernels/Conv2DBackpropInput"),V=e("./kernels/Conv3D"),G=e("./kernels/Conv3DBackpropFilterV2"),L=e("./kernels/Conv3DBackpropInputV2"),q=e("./kernels/Cos"),z=e("./kernels/Cosh"),U=e("./kernels/CropAndResize"),H=e("./kernels/Cumprod"),W=e("./kernels/Cumsum"),K=e("./kernels/DenseBincount"),X=e("./kernels/DepthToSpace"),Z=e("./kernels/DepthwiseConv2dNative"),Q=e("./kernels/DepthwiseConv2dNativeBackpropFilter"),J=e("./kernels/DepthwiseConv2dNativeBackpropInput"),Y=e("./kernels/Diag"),$=e("./kernels/Dilation2D"),ee=e("./kernels/Einsum"),et=e("./kernels/Elu"),er=e("./kernels/EluGrad"),en=e("./kernels/Equal"),ea=e("./kernels/Erf"),es=e("./kernels/Exp"),eo=e("./kernels/ExpandDims"),ei=e("./kernels/Expm1"),ec=e("./kernels/FFT"),eu=e("./kernels/Fill"),el=e("./kernels/FlipLeftRight"),ep=e("./kernels/Floor"),ef=e("./kernels/FloorDiv"),ed=e("./kernels/FromPixels"),eh=e("./kernels/FusedConv2D"),em=e("./kernels/FusedDepthwiseConv2D"),eg=e("./kernels/GatherNd"),ev=e("./kernels/GatherV2"),e_=e("./kernels/Greater"),ex=e("./kernels/GreaterEqual"),ey=e("./kernels/Identity"),eb=e("./kernels/IFFT"),ek=e("./kernels/Imag"),ej=e("./kernels/IsFinite"),ew=e("./kernels/IsInf"),eI=e("./kernels/IsNaN"),eT=e("./kernels/LeakyRelu"),eS=e("./kernels/Less"),eN=e("./kernels/LessEqual"),eM=e("./kernels/LinSpace"),eC=e("./kernels/Log"),eE=e("./kernels/Log1p"),eF=e("./kernels/LogicalAnd"),eA=e("./kernels/LogicalNot"),eR=e("./kernels/LogicalOr"),eP=e("./kernels/LRN"),eO=e("./kernels/LRNGrad"),eD=e("./kernels/Max"),eB=e("./kernels/Maximum"),eV=e("./kernels/MaxPool"),eG=e("./kernels/MaxPool3D"),eL=e("./kernels/MaxPool3DGrad"),eq=e("./kernels/MaxPoolGrad"),ez=e("./kernels/MaxPoolWithArgmax"),eU=e("./kernels/Mean"),eH=e("./kernels/Min"),eW=e("./kernels/Minimum"),eK=e("./kernels/MirrorPad"),eX=e("./kernels/Mod"),eZ=e("./kernels/Multinomial"),eQ=e("./kernels/Multiply"),eJ=e("./kernels/Neg"),eY=e("./kernels/NonMaxSuppressionV3"),e$=e("./kernels/NonMaxSuppressionV4"),e0=e("./kernels/NonMaxSuppressionV5"),e1=e("./kernels/NotEqual"),e2=e("./kernels/OneHot"),e3=e("./kernels/OnesLike"),e4=e("./kernels/Pack"),e6=e("./kernels/PadV2"),e7=e("./kernels/Pow"),e5=e("./kernels/Prelu"),e9=e("./kernels/Prod"),e8=e("./kernels/RaggedGather"),te=e("./kernels/RaggedRange"),tt=e("./kernels/RaggedTensorToTensor"),tr=e("./kernels/Range"),tn=e("./kernels/Real"),ta=e("./kernels/RealDiv"),ts=e("./kernels/Reciprocal"),to=e("./kernels/Relu"),ti=e("./kernels/Relu6"),tc=e("./kernels/Reshape"),tu=e("./kernels/ResizeBilinear"),tl=e("./kernels/ResizeBilinearGrad"),tp=e("./kernels/ResizeNearestNeighbor"),tf=e("./kernels/ResizeNearestNeighborGrad"),td=e("./kernels/Reverse"),th=e("./kernels/RotateWithOffset"),tm=e("./kernels/Round"),tg=e("./kernels/Rsqrt"),tv=e("./kernels/ScatterNd"),t_=e("./kernels/SearchSorted"),tx=e("./kernels/Select"),ty=e("./kernels/Selu"),tb=e("./kernels/Sigmoid"),tk=e("./kernels/Sign"),tj=e("./kernels/Sin"),tw=e("./kernels/Sinh"),tI=e("./kernels/Slice"),tT=e("./kernels/Softmax"),tS=e("./kernels/Softplus"),tN=e("./kernels/SpaceToBatchND"),tM=e("./kernels/SparseFillEmptyRows"),tC=e("./kernels/SparseReshape"),tE=e("./kernels/SparseSegmentMean"),tF=e("./kernels/SparseSegmentSum"),tA=e("./kernels/SparseToDense"),tR=e("./kernels/SplitV"),tP=e("./kernels/Sqrt"),tO=e("./kernels/Square"),tD=e("./kernels/SquaredDifference"),tB=e("./kernels/StaticRegexReplace"),tV=e("./kernels/Step"),tG=e("./kernels/StridedSlice"),tL=e("./kernels/StringNGrams"),tq=e("./kernels/StringSplit"),tz=e("./kernels/StringToHashBucketFast"),tU=e("./kernels/Sub"),tH=e("./kernels/Sum"),tW=e("./kernels/Tan"),tK=e("./kernels/Tanh"),tX=e("./kernels/TensorScatterUpdate"),tZ=e("./kernels/Tile"),tQ=e("./kernels/TopK"),tJ=e("./kernels/Transform"),tY=e("./kernels/Transpose"),t$=e("./kernels/Unique"),t0=e("./kernels/Unpack"),t1=e("./kernels/UnsortedSegmentSum"),t2=e("./kernels/ZerosLike"),t3=[s._fusedMatMulConfig,o.absConfig,i.acosConfig,c.acoshConfig,u.addConfig,l.addNConfig,p.allConfig,f.anyConfig,d.argMaxConfig,h.argMinConfig,m.asinConfig,g.asinhConfig,v.atanConfig,_.atan2Config,x.atanhConfig,y.avgPoolConfig,b.avgPool3DConfig,k.avgPool3DGradConfig,j.avgPoolGradConfig,w.batchMatMulConfig,I.batchNormConfig,T.batchToSpaceNDConfig,S.bincountConfig,N.bitwiseAndConfig,M.broadcastArgsConfig,C.castConfig,E.ceilConfig,F.clipByValueConfig,A.complexConfig,R.complexAbsConfig,P.concatConfig,O.conv2DConfig,D.conv2DBackpropFilterConfig,B.conv2DBackpropInputConfig,V.conv3DConfig,G.conv3DBackpropFilterV2Config,L.conv3DBackpropInputConfig,q.cosConfig,z.coshConfig,U.cropAndResizeConfig,H.cumprodConfig,W.cumsumConfig,K.denseBincountConfig,X.depthToSpaceConfig,Z.depthwiseConv2dNativeConfig,Q.depthwiseConv2dNativeBackpropFilterConfig,J.depthwiseConv2dNativeBackpropInputConfig,Y.diagConfig,$.dilation2DConfig,ee.einsumConfig,et.eluConfig,er.eluGradConfig,en.equalConfig,ea.erfConfig,es.expConfig,eo.expandDimsConfig,ei.expm1Config,ec.fftConfig,eu.fillConfig,el.flipLeftRightConfig,ep.floorConfig,ef.floorDivConfig,ed.fromPixelsConfig,eh.fusedConv2DConfig,em.fusedDepthwiseConv2DConfig,eg.gatherNdConfig,ev.gatherV2Config,e_.greaterConfig,ex.greaterEqualConfig,ey.identityConfig,eb.ifftConfig,ek.imagConfig,ej.isFiniteConfig,ew.isInfConfig,eI.isNaNConfig,eT.leakyReluConfig,eS.lessConfig,eN.lessEqualConfig,eM.linSpaceConfig,eC.logConfig,eE.log1pConfig,eF.logicalAndConfig,eA.logicalNotConfig,eR.logicalOrConfig,eP.LRNConfig,eO.LRNGradConfig,eD.maxConfig,eB.maximumConfig,eV.maxPoolConfig,eG.maxPool3DConfig,eL.maxPool3DGradConfig,eq.maxPoolGradConfig,ez.maxPoolWithArgmaxConfig,eU.meanConfig,eH.minConfig,eW.minimumConfig,eK.mirrorPadConfig,eX.modConfig,eZ.multinomialConfig,eQ.multiplyConfig,eJ.negConfig,eY.nonMaxSuppressionV3Config,e$.nonMaxSuppressionV4Config,e0.nonMaxSuppressionV5Config,e1.notEqualConfig,e2.oneHotConfig,e3.onesLikeConfig,e4.packConfig,e6.padV2Config,e7.powConfig,e5.preluConfig,e9.prodConfig,e8.raggedGatherConfig,te.raggedRangeConfig,tt.raggedTensorToTensorConfig,tr.rangeConfig,tn.realConfig,ta.realDivConfig,ts.reciprocalConfig,to.reluConfig,ti.relu6Config,tc.reshapeConfig,tu.resizeBilinearConfig,tl.resizeBilinearGradConfig,tp.resizeNearestNeighborConfig,tf.resizeNearestNeighborGradConfig,td.reverseConfig,th.rotateWithOffsetConfig,tm.roundConfig,tg.rsqrtConfig,tv.scatterNdConfig,t_.searchSortedConfig,tx.selectConfig,ty.seluConfig,tb.sigmoidConfig,tk.signConfig,tj.sinConfig,tw.sinhConfig,tI.sliceConfig,tT.softmaxConfig,tS.softplusConfig,tN.spaceToBatchNDConfig,tM.sparseFillEmptyRowsConfig,tC.sparseReshapeConfig,tE.sparseSegmentMeanConfig,tF.sparseSegmentSumConfig,tA.sparseToDenseConfig,tR.splitVConfig,tP.sqrtConfig,tO.squareConfig,tD.squaredDifferenceConfig,tB.staticRegexReplaceConfig,tV.stepConfig,tG.stridedSliceConfig,tL.stringNGramsConfig,tq.stringSplitConfig,tz.stringToHashBucketFastConfig,tU.subConfig,tH.sumConfig,tW.tanConfig,tK.tanhConfig,tX.tensorScatterUpdateConfig,tZ.tileConfig,tQ.topKConfig,tJ.transformConfig,tY.transposeConfig,t$.uniqueConfig,t0.unpackConfig,t1.unsortedSegmentSumConfig,t2.zerosLikeConfig],t4=!0,t6=!1,t7=void 0;try{for(var t5,t9=t3[Symbol.iterator]();!(t4=(t5=t9.next()).done);t4=!0){var t8=t5.value;(0,a.registerKernel)(t8)}}catch(e){t6=!0,t7=e}finally{try{t4||null==t9.return||t9.return()}finally{if(t6)throw t7}}},{"@tensorflow/tfjs-core":"aOH7b","./kernels/_FusedMatMul":"lHV5v","./kernels/Abs":"5tF6f","./kernels/Acos":"k61CH","./kernels/Acosh":"86pd9","./kernels/Add":"gE2jw","./kernels/AddN":"4di4Y","./kernels/All":"6GEj5","./kernels/Any":"gJ8CC","./kernels/ArgMax":"bDQAO","./kernels/ArgMin":"kPvCd","./kernels/Asin":"6QXCP","./kernels/Asinh":"3l0Xi","./kernels/Atan":"2bBfV","./kernels/Atan2":"gT9Go","./kernels/Atanh":"6NE1C","./kernels/AvgPool":"8S4Mt","./kernels/AvgPool3D":"lcts5","./kernels/AvgPool3DGrad":"gR3H7","./kernels/AvgPoolGrad":"ciA5b","./kernels/BatchMatMul":"bZAgI","./kernels/BatchNorm":"gRLiF","./kernels/BatchToSpaceND":"8U5CD","./kernels/Bincount":"7teok","./kernels/BitwiseAnd":"6hkAP","./kernels/BroadcastArgs":"bQ3B0","./kernels/Cast":"6wWtC","./kernels/Ceil":"2CKVo","./kernels/ClipByValue":"4y9Vo","./kernels/Complex":"lTWvu","./kernels/ComplexAbs":"hXihc","./kernels/Concat":"6SYfN","./kernels/Conv2D":"4hK3M","./kernels/Conv2DBackpropFilter":"kt7xT","./kernels/Conv2DBackpropInput":"43wKw","./kernels/Conv3D":"hnoCI","./kernels/Conv3DBackpropFilterV2":"gfQ8P","./kernels/Conv3DBackpropInputV2":"4D4Fc","./kernels/Cos":"9tLmT","./kernels/Cosh":"iF5ag","./kernels/CropAndResize":"antt7","./kernels/Cumprod":"l8BOR","./kernels/Cumsum":"avoxh","./kernels/DenseBincount":"h3ykr","./kernels/DepthToSpace":"6pHmt","./kernels/DepthwiseConv2dNative":"64Ltp","./kernels/DepthwiseConv2dNativeBackpropFilter":"5rCsQ","./kernels/DepthwiseConv2dNativeBackpropInput":"dOacj","./kernels/Diag":"hnJuE","./kernels/Dilation2D":"2DoEs","./kernels/Einsum":"3x287","./kernels/Elu":"kFBIo","./kernels/EluGrad":"42tDp","./kernels/Equal":"ai7Hy","./kernels/Erf":"LM2OA","./kernels/Exp":"2d63c","./kernels/ExpandDims":"5YiyO","./kernels/Expm1":"bQRHY","./kernels/FFT":"645KO","./kernels/Fill":"kk0tE","./kernels/FlipLeftRight":"220Le","./kernels/Floor":"7tgdv","./kernels/FloorDiv":"dOvnI","./kernels/FromPixels":"lsbT5","./kernels/FusedConv2D":"ayURj","./kernels/FusedDepthwiseConv2D":"iBSLJ","./kernels/GatherNd":"92pGc","./kernels/GatherV2":"c5lq9","./kernels/Greater":"axzw1","./kernels/GreaterEqual":"jgAmA","./kernels/Identity":"8GOL4","./kernels/IFFT":"5gsrx","./kernels/Imag":"cxwlA","./kernels/IsFinite":"gIaUV","./kernels/IsInf":"cYx8p","./kernels/IsNaN":"gwxMw","./kernels/LeakyRelu":"6XqKe","./kernels/Less":"cApeQ","./kernels/LessEqual":"4sx0D","./kernels/LinSpace":"iiu5u","./kernels/Log":"9En03","./kernels/Log1p":"4ISTq","./kernels/LogicalAnd":"KlLTP","./kernels/LogicalNot":"iHOuR","./kernels/LogicalOr":"3Rqey","./kernels/LRN":"5676G","./kernels/LRNGrad":"7Lmtl","./kernels/Max":"bnXWV","./kernels/Maximum":"4lp7Y","./kernels/MaxPool":"g3JSa","./kernels/MaxPool3D":"ffiA8","./kernels/MaxPool3DGrad":"2k3JZ","./kernels/MaxPoolGrad":"bSJ8I","./kernels/MaxPoolWithArgmax":"g2koH","./kernels/Mean":"hsZ6u","./kernels/Min":"hHeeu","./kernels/Minimum":"k1HzK","./kernels/MirrorPad":"9aTpq","./kernels/Mod":"eSvk6","./kernels/Multinomial":"3W2Xz","./kernels/Multiply":"hIm8x","./kernels/Neg":"kWJZ3","./kernels/NonMaxSuppressionV3":"gPuvZ","./kernels/NonMaxSuppressionV4":"6CASn","./kernels/NonMaxSuppressionV5":"jQZcn","./kernels/NotEqual":"hhT6X","./kernels/OneHot":"7LOQq","./kernels/OnesLike":"eOe9m","./kernels/Pack":"hj87s","./kernels/PadV2":"axZQy","./kernels/Pow":"hE0Gf","./kernels/Prelu":"6dGjC","./kernels/Prod":"hogkF","./kernels/RaggedGather":"517dT","./kernels/RaggedRange":"Yi7tr","./kernels/RaggedTensorToTensor":"8ixww","./kernels/Range":"hJGxy","./kernels/Real":"1tX1n","./kernels/RealDiv":"lQ5ar","./kernels/Reciprocal":"3Vhhh","./kernels/Relu":"jCkTz","./kernels/Relu6":"glrUn","./kernels/Reshape":"65neR","./kernels/ResizeBilinear":"3fMPq","./kernels/ResizeBilinearGrad":"g5gpk","./kernels/ResizeNearestNeighbor":"8rtib","./kernels/ResizeNearestNeighborGrad":"bmUXP","./kernels/Reverse":"3aQI3","./kernels/RotateWithOffset":"5tYGN","./kernels/Round":"bCDev","./kernels/Rsqrt":"5AG8T","./kernels/ScatterNd":"8DSvY","./kernels/SearchSorted":"f8x0z","./kernels/Select":"fuYU4","./kernels/Selu":"knkGS","./kernels/Sigmoid":"2JXcU","./kernels/Sign":"e4edy","./kernels/Sin":"3cYcY","./kernels/Sinh":"bA48S","./kernels/Slice":"ak8BR","./kernels/Softmax":"fSKXV","./kernels/Softplus":"9naGR","./kernels/SpaceToBatchND":"7LghS","./kernels/SparseFillEmptyRows":"gUop4","./kernels/SparseReshape":"9dUR6","./kernels/SparseSegmentMean":"hRdXO","./kernels/SparseSegmentSum":"kbZj6","./kernels/SparseToDense":"eaTOg","./kernels/SplitV":"7FOqY","./kernels/Sqrt":"fcovB","./kernels/Square":"cgV7s","./kernels/SquaredDifference":"dlHxk","./kernels/StaticRegexReplace":"ee4Oy","./kernels/Step":"lnYBv","./kernels/StridedSlice":"bDYiE","./kernels/StringNGrams":"66FCs","./kernels/StringSplit":"gtCdH","./kernels/StringToHashBucketFast":"cRqZh","./kernels/Sub":"indYt","./kernels/Sum":"6Fx5y","./kernels/Tan":"9oYty","./kernels/Tanh":"aPsaJ","./kernels/TensorScatterUpdate":"2Obkm","./kernels/Tile":"1Z6C2","./kernels/TopK":"dq4Bc","./kernels/Transform":"6kyYc","./kernels/Transpose":"aDPRZ","./kernels/Unique":"8YDva","./kernels/Unpack":"fcfCl","./kernels/UnsortedSegmentSum":"6nf2r","./kernels/ZerosLike":"edC4a"}],lHV5v:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"_fusedMatMul",function(){return i}),a.export(r,"_fusedMatMulConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./BatchMatMul_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.a,s=t.b,i=t.bias,c=t.preluActivationWeights,u=n.transposeA,l=n.transposeB,p=n.activation,f=n.leakyreluAlpha;return(0,o.batchMatMulImpl)({a:a,b:s,transposeA:u,transposeB:l,backend:r,bias:i,preluActivationWeights:c,leakyreluAlpha:f,activation:p})}var c={kernelName:s._FusedMatMul,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./BatchMatMul_impl":"6QuVj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6QuVj":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MATMUL_SHARED_DIM_THRESHOLD",function(){return f}),a.export(r,"batchMatMulImpl",function(){return d});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../mulmat_packed_gpu"),c=e("./Multiply"),u=e("./Reshape"),l=e("./Sum"),p=e("./Transpose"),f=1e3;function d(e){var t=e.a,r=e.b,n=e.transposeA,a=e.transposeB,d=e.backend,h=e.bias,m=void 0===h?null:h,g=e.preluActivationWeights,v=void 0===g?null:g,_=e.leakyreluAlpha,x=e.activation,y=void 0===x?null:x,b=t.shape.length,k=r.shape.length,j=n?t.shape[b-2]:t.shape[b-1],w=a?r.shape[k-1]:r.shape[k-2],I=n?t.shape[b-1]:t.shape[b-2],T=a?r.shape[k-2]:r.shape[k-1],S=t.shape.slice(0,-2),N=r.shape.slice(0,-2),M=s.util.sizeFromShape(S),C=s.util.sizeFromShape(N),E=s.broadcast_util.assertAndGetBroadcastShape(t.shape.slice(0,-2),r.shape.slice(0,-2)).concat([I,T]);s.util.assert(j===w,function(){return"Error in matMul: inner shapes (".concat(j,") and (")+"".concat(w,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(r.shape," and transposeA=").concat(n)+" and transposeB=".concat(a," must match.")});var F=n?[M,j,I]:[M,I,j],A=a?[C,T,w]:[C,w,T],R=(0,u.reshape)({inputs:{x:t},backend:d,attrs:{shape:F}}),P=(0,u.reshape)({inputs:{x:r},backend:d,attrs:{shape:A}}),O=[R,P],D=Math.max(M,C),B=n?R.shape[1]:R.shape[2],V=null!=m,G=null!=v,L="leakyrelu"===y,q=null!=y?(0,o.mapActivationToShaderProgram)(y,!0):null,z=V||G||L||null!=q;if((1===I||1===T)&&B>f&&!1===z){var U=R,H=P;n&&(U=(0,p.transpose)({inputs:{x:R},backend:d,attrs:{perm:[0,2,1]}}),O.push(U)),a&&(H=(0,p.transpose)({inputs:{x:P},backend:d,attrs:{perm:[0,2,1]}}),O.push(H));var W=1!==T,K=1===T,X=U;W&&(X=(0,u.reshape)({inputs:{x:U},backend:d,attrs:{shape:[D,B,1]}}),O.push(X));var Z=H;K&&(Z=(0,u.reshape)({inputs:{x:H},backend:d,attrs:{shape:[D,1,B]}}),O.push(Z));var Q=(0,c.multiply)({inputs:{a:X,b:Z},backend:d});es=(0,l.sum)({inputs:{x:Q},backend:d,attrs:{axis:1===T?2:1,keepDims:!0}}),O.push(Q)}else{var J=(0,s.upcastType)(t.dtype,r.dtype),Y=new(0,i.MatMulPackedProgram)(F,A,[D,I,T],n,a,V,q,G,L),$=[R,P];if(null!=m&&$.push(m),G&&$.push(v),L){var ee=d.makeTensorInfo([],"float32",s.util.createScalarValue(void 0===_?0:_,"float32"));$.push(ee),O.push(ee)}es=d.runWebGLProgram(Y,$,J)}var et=(0,u.reshape)({inputs:{x:es},backend:d,attrs:{shape:E}});O.push(es);var er=!0,en=!1,ea=void 0;try{for(var es,eo,ei=O[Symbol.iterator]();!(er=(eo=ei.next()).done);er=!0){var ec=eo.value;d.disposeIntermediateTensorInfo(ec)}}catch(e){en=!0,ea=e}finally{try{er||null==ei.return||ei.return()}finally{if(en)throw ea}}return et}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../mulmat_packed_gpu":"hKDtF","./Multiply":"hIm8x","./Reshape":"65neR","./Sum":"6Fx5y","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hHZZj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CHECK_NAN_SNIPPET_UNARY",function(){return h}),a.export(r,"unaryKernelFunc",function(){return m}),a.export(r,"binaryKernelFunc",function(){return g}),a.export(r,"mapActivationToShaderProgram",function(){return v});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../binaryop_gpu"),c=e("../binaryop_packed_gpu"),u=e("../kernels/Complex"),l=e("../kernels/LeakyRelu"),p=e("../kernels/Prelu"),f=e("../unaryop_gpu"),d=e("../unaryop_packed_gpu"),h="if (isnan(x)) return x;";function m(e){var t=e.opSnippet,r=e.packedOpSnippet,n=e.cpuKernelImpl,a=e.dtype;return function(e){var s,i=e.inputs,c=e.backend,u=i.x,l=a||u.dtype;if(c.shouldExecuteOnCPU([u])&&null!=n){var p=n(c.texData.get(u.dataId).values,l);return c.makeTensorInfo(u.shape,l,p)}return s=(0,o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=r?new(0,d.UnaryOpPackedProgram)(u.shape,r):new(0,f.UnaryOpProgram)(u.shape,t),c.runWebGLProgram(s,[u],l)}}function g(e){var t=e.opSnippet,r=e.packedOpSnippet,n=e.checkOutOfBounds,a=void 0!==n&&n,l=e.supportsComplex,p=void 0!==l&&l,f=e.cpuKernelImpl,d=e.dtype;return function(e){var n,l=e.inputs,h=e.backend,m=l.a,g=l.b;if(p&&"complex64"===m.dtype){var v=h.texData.get(m.dataId),_=h.texData.get(g.dataId),x=(0,s._)([[v.complexTensorInfos.real,_.complexTensorInfos.real],[v.complexTensorInfos.imag,_.complexTensorInfos.imag]].map(function(e){var r=(0,s._)(e,2),n=r[0],a=r[1],c={dataId:n.dataId,dtype:n.dtype,shape:m.shape},u={dataId:a.dataId,dtype:a.dtype,shape:g.shape},l=new(0,i.BinaryOpProgram)(t,m.shape,g.shape);return h.runWebGLProgram(l,[c,u],(0,o.upcastType)(n.dtype,a.dtype))}),2),y=x[0],b=x[1],k=(0,u.complex)({inputs:{real:y,imag:b},backend:h});return h.disposeIntermediateTensorInfo(y),h.disposeIntermediateTensorInfo(b),k}var j=d||(0,o.upcastType)(m.dtype,g.dtype);if(("string"===m.dtype||"string"===g.dtype||h.shouldExecuteOnCPU([m,g]))&&null!=f){var w=h.texData.get(m.dataId).values,I=h.texData.get(g.dataId).values,T="string"===m.dtype?o.backend_util.fromUint8ToStringArray(w):w,S="string"===m.dtype?o.backend_util.fromUint8ToStringArray(I):I,N=(0,s._)(f(m.shape,g.shape,T,S,j),2),M=N[0],C=N[1],E=h.makeTensorInfo(C,j);return h.texData.get(E.dataId).values=M,E}return n=(0,o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=r?new(0,c.BinaryOpPackedProgram)(r,m.shape,g.shape,a):new(0,i.BinaryOpProgram)(t,m.shape,g.shape),h.runWebGLProgram(n,[m,g],j)}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?d.LINEAR:f.LINEAR;if("relu"===e)return t?d.RELU:f.RELU;if("elu"===e)return t?d.ELU:f.ELU;if("relu6"===e)return t?d.RELU6:f.RELU6;if("prelu"===e)return t?p.PRELU_PACKED:p.PRELU;else if("leakyrelu"===e)return t?l.LEAKYRELU_PACKED:l.LEAKYRELU;else if("sigmoid"===e)return t?d.SIGMOID:f.SIGMOID;throw Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../binaryop_gpu":"khC4O","../binaryop_packed_gpu":"hSRNa","../kernels/Complex":"lTWvu","../kernels/LeakyRelu":"6XqKe","../kernels/Prelu":"6dGjC","../unaryop_gpu":"66B4A","../unaryop_packed_gpu":"jwqfd","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],khC4O:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CHECK_NAN_SNIPPET",function(){return c}),a.export(r,"SQUARED_DIFFERENCE",function(){return u}),a.export(r,"BinaryOpProgram",function(){return l});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./gpgpu_math"),c="\n if (isnan(a)) return a;\n if (isnan(b)) return b;\n",u="return (a - b) * (a - b);",l=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["A","B"],this.outputShape=o.backend_util.assertAndGetBroadcastShape(r,n),this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length),this.userCode="\n float binaryOperation(float a, float b) {\n ".concat(t,"\n }\n\n void main() {\n float a = getAAtOutCoords();\n float b = getBAtOutCoords();\n setOutput(binaryOperation(a, b));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","./gpgpu_math":"7KkpX","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hSRNa:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CHECK_NAN_SNIPPET_PACKED",function(){return l}),a.export(r,"ELU_DER",function(){return p}),a.export(r,"NOT_EQUAL",function(){return f}),a.export(r,"BinaryOpPackedProgram",function(){return d});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./gpgpu_math"),c=e("./packing_util"),u=e("./shader_compiler"),l="\n result.r = isNaN.r ? NAN : result.r;\n result.g = isNaN.g ? NAN : result.g;\n result.b = isNaN.b ? NAN : result.b;\n result.a = isNaN.a ? NAN : result.a;\n",p="\n vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",f="\n return vec4(notEqual(a, b));\n",d=function e(t,r,n){"use strict";var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,s._)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o.backend_util.assertAndGetBroadcastShape(r,n);var l=this.outputShape.length;this.enableShapeUniforms=(0,i.useShapeUniforms)(l);var p="";if(a)if(0===l||1===o.util.sizeFromShape(this.outputShape))p="\n result.y = 0.;\n result.z = 0.;\n result.w = 0.;\n ";else{var f=(0,u.getCoordsDataType)(l);if(p="\n ".concat(f," coords = getOutputCoords();\n "),1===l)this.enableShapeUniforms?p+="\n result.y = (coords + 1) >= outShape ? 0. : result.y;\n result.z = 0.;\n result.w = 0.;\n ":p+="\n result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n result.z = 0.;\n result.w = 0.;\n ");else{var d=(0,c.getChannels)("coords",l);this.enableShapeUniforms?p+="\n bool nextRowOutOfBounds =\n (".concat(d[l-2]," + 1) >= outShape[").concat(l," - 2];\n bool nextColOutOfBounds =\n (").concat(d[l-1]," + 1) >= outShape[").concat(l," - 1];\n result.y = nextColOutOfBounds ? 0. : result.y;\n result.z = nextRowOutOfBounds ? 0. : result.z;\n result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n "):p+="\n bool nextRowOutOfBounds =\n (".concat(d[l-2]," + 1) >= ").concat(this.outputShape[l-2],";\n bool nextColOutOfBounds =\n (").concat(d[l-1]," + 1) >= ").concat(this.outputShape[l-1],";\n result.y = nextColOutOfBounds ? 0. : result.y;\n result.z = nextRowOutOfBounds ? 0. : result.z;\n result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n ")}}this.userCode="\n vec4 binaryOperation(vec4 a, vec4 b) {\n ".concat(t,"\n }\n\n void main() {\n vec4 a = getAAtOutCoords();\n vec4 b = getBAtOutCoords();\n\n vec4 result = binaryOperation(a, b);\n ").concat(p,"\n\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","./gpgpu_math":"7KkpX","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lTWvu:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"complex",function(){return i}),a.export(r,"complexConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Identity");function i(e){var t=e.inputs,r=e.backend,n=t.real,a=t.imag,s=r.makeTensorInfo(n.shape,"complex64");return r.texData.get(s.dataId).complexTensorInfos={real:(0,o.identity)({inputs:{x:n},backend:r}),imag:(0,o.identity)({inputs:{x:a},backend:r})},s}var c={kernelName:s.Complex,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Identity":"8GOL4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8GOL4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){var t=e.inputs,r=e.backend,n=t.x;return r.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}a.defineInteropFlag(r),a.export(r,"identity",function(){return s}),a.export(r,"identityConfig",function(){return o});var o={kernelName:e("@tensorflow/tfjs-core").Identity,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6XqKe":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LEAKYRELU",function(){return c}),a.export(r,"LEAKYRELU_PACKED",function(){return u}),a.export(r,"leakyRelu",function(){return l}),a.export(r,"leakyReluConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c="return (a< 0.) ? b * a : a;",u="\n vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.alpha,p=r.makeTensorInfo([],"float32",s.util.createScalarValue(l,"float32")),f=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new(0,i.BinaryOpPackedProgram)(u,a.shape,p.shape):new(0,o.BinaryOpProgram)(c,a.shape,p.shape),d=r.runWebGLProgram(f,[a,p],"float32");return r.disposeIntermediateTensorInfo(p),d}var p={kernelName:s.LeakyRelu,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_gpu":"khC4O","../binaryop_packed_gpu":"hSRNa","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6dGjC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PRELU",function(){return c}),a.export(r,"PRELU_PACKED",function(){return u}),a.export(r,"prelu",function(){return l}),a.export(r,"preluConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c="return (a < 0.) ? b * a : a;",u="\n vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function l(e){var t=e.inputs,r=e.backend,n=t.x,a=t.alpha,l=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new(0,i.BinaryOpPackedProgram)(u,n.shape,a.shape):new(0,o.BinaryOpProgram)(c,n.shape,a.shape);return r.runWebGLProgram(l,[n,a],"float32")}var p={kernelName:s.Prelu,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_gpu":"khC4O","../binaryop_packed_gpu":"hSRNa","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hKDtF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MatMulPackedProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./gpgpu_math"),i=function e(t,r,n){"use strict";var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,s._)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=(0,o.useShapeUniforms)(this.outputShape.length);var f=Math.ceil((a?t[1]:t[2])/2),d=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],m="",g="";u&&(m=l?"vec4 activation(vec4 a) {\n vec4 b = getPreluActivationWeightsAtOutCoords();\n ".concat(u,"\n }"):p?"vec4 activation(vec4 a) {\n vec4 b = getLeakyreluAlphaAtOutCoords();\n ".concat(u,"\n }"):"vec4 activation(vec4 x) {\n ".concat(u,"\n }"),g="result = activation(result);"),c&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),p&&this.variableNames.push("leakyreluAlpha");var v="rc.x",_="rc.x";t[0]<r[0]?v="imod(rc.x, ".concat(t[0],")"):r[0]<t[0]&&(_="imod(rc.x, ".concat(r[0],")")),this.userCode="\n ".concat(m,"\n // Don't use uniform for sharedDimensionPacked for performance.\n const float sharedDimension = ").concat(f,".0;\n\n vec4 dot2x2ARowBCol(ivec3 rc) {\n vec4 result = vec4(0);\n int batchA = ").concat(v,";\n int batchB = ").concat(_,";\n for (int i = 0; i < ").concat(f,"; i++) {\n vec4 a = getMatrixA(batchA, ").concat(a?"i * 2, rc.y":"rc.y, i * 2",");\n vec4 b = getMatrixB(batchB, ").concat(i?"rc.z, i * 2":"i * 2, rc.z",");\n\n // These swizzled products need to be separately added.\n // See: https://github.com/tensorflow/tfjs/issues/1735\n result += (").concat(d[0]," * ").concat(h[0],");\n result += (").concat(d[1]," * ").concat(h[1],");\n }\n return result;\n }\n\n void main() {\n ivec3 rc = getOutputCoords();\n vec4 result = dot2x2ARowBCol(rc);\n\n ").concat(c?"result += getBiasAtOutCoords();":"","\n\n ").concat(g,"\n\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./gpgpu_math":"7KkpX","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hIm8x:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multiply",function(){return d}),a.export(r,"multiplyConfig",function(){return h});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../binaryop_complex_gpu"),c=e("../binaryop_gpu"),u=e("../binaryop_packed_gpu"),l=e("../kernel_utils/shared"),p=e("./Complex"),f="return a * b;";function d(e){var t,r=e.inputs,n=e.backend,a=r.a,d=r.b,h=o.backend_util.upcastType(a.dtype,d.dtype);if("complex64"===a.dtype){var m=n.texData.get(a.dataId),g=n.texData.get(d.dataId),v=new(0,i.BinaryOpComplexProgram)(i.COMPLEX_MULTIPLY.REAL,a.shape,d.shape),_=new(0,i.BinaryOpComplexProgram)(i.COMPLEX_MULTIPLY.IMAG,a.shape,d.shape),x=[{dataId:m.complexTensorInfos.real.dataId,dtype:m.complexTensorInfos.real.dtype,shape:a.shape},{dataId:m.complexTensorInfos.imag.dataId,dtype:m.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:g.complexTensorInfos.real.dataId,dtype:g.complexTensorInfos.real.dtype,shape:d.shape},{dataId:g.complexTensorInfos.imag.dataId,dtype:g.complexTensorInfos.imag.dtype,shape:d.shape}],y=n.runWebGLProgram(v,x,"float32"),b=n.runWebGLProgram(_,x,"float32"),k=(0,p.complex)({inputs:{real:y,imag:b},backend:n});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),k}if(n.shouldExecuteOnCPU([a,d])){var j=n.texData.get(a.dataId),w=n.texData.get(d.dataId),I=(0,s._)((0,l.multiplyImplCPU)(a.shape,d.shape,j.values,w.values,h),2),T=I[0],S=I[1],N=n.makeTensorInfo(S,h);return n.texData.get(N.dataId).values=T,N}return t=(0,o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new(0,u.BinaryOpPackedProgram)(f,a.shape,d.shape):new(0,c.BinaryOpProgram)(f,a.shape,d.shape),n.runWebGLProgram(t,[a,d],h)}var h={kernelName:o.Multiply,backendName:"webgl",kernelFunc:d}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../binaryop_complex_gpu":"c9es1","../binaryop_gpu":"khC4O","../binaryop_packed_gpu":"hSRNa","../kernel_utils/shared":"gN7B4","./Complex":"lTWvu","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],c9es1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"COMPLEX_MULTIPLY",function(){return i}),a.export(r,"BinaryOpComplexProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},c=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=o.backend_util.assertAndGetBroadcastShape(r,n),this.userCode="\n float binaryOpComplex(\n float areal, float aimag, float breal, float bimag) {\n ".concat(t,"\n }\n\n void main() {\n float areal = getARealAtOutCoords();\n float aimag = getAImagAtOutCoords();\n float breal = getBRealAtOutCoords();\n float bimag = getBImagAtOutCoords();\n setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"65neR":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reshape",function(){return c}),a.export(r,"reshapeConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/reshape"),i=e("../webgl_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.shape,u=s.util.sizeFromShape(a.shape),l=s.util.inferFromImplicitShape(c,u),p=s.util.sizeFromShape(l);s.util.assert(u===p,function(){return"The new shape (".concat(l,") has ").concat(p," elements and the old ")+"shape (".concat(a.shape,") has ").concat(u," elements. The new shape and old ")+"shape must have the same number of elements."});var f=r.texData.get(a.dataId);return!f.isPacked||(0,i.isReshapeFree)(a.shape,l)||null!==f.texture&&(0,i.isReshapeFree)(f.shape,l)?(r.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype}):(0,o.packedReshape)(a,l,r)}var u={kernelName:s.Reshape,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/reshape":"9RRH3","../webgl_util":"4eDDt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9RRH3":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"packedReshape",function(){return c});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("../reshape_packed_gpu"),i=e("../webgl_util");function c(e,t,r){var n=[(0,i.getBatchDim)(e.shape)].concat((0,s._)((0,i.getRowsCols)(e.shape))),a={dtype:e.dtype,shape:n,dataId:e.dataId},c=[(0,i.getBatchDim)(t)].concat((0,s._)((0,i.getRowsCols)(t))),u=new(0,o.ReshapePackedProgram)(c,n),l=r.runWebGLProgram(u,[a],e.dtype,[n],!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","../reshape_packed_gpu":"bEUJk","../webgl_util":"4eDDt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6Fx5y":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sum",function(){return i}),a.export(r,"sumConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Sum_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.axis,i=n.keepDims;return(0,o.sumImpl)(a,s,i,r)}var c={kernelName:s.Sum,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Sum_impl":"905ab","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"905ab":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sumImpl",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("./Reshape"),u=e("./Transpose_impl");function l(e,t,r,n){var a=e.shape.length,l=o.util.parseAxisParam(t,e.shape),p=l,f=o.backend_util.getAxesPermutation(p,a),d=null!=f,h=e;d&&(h=(0,u.transposeImpl)(e,f,n),p=o.backend_util.getInnerMostAxes(p.length,a)),o.backend_util.assertAxesAreInnerMostDims("sum",p,a);var m=(0,s._)(o.backend_util.computeOutAndReduceShapes(h.shape,p),2),g=m[0],v=m[1],_=g;r&&(_=o.backend_util.expandShapeToKeepDim(g,l));var x=o.util.sizeFromShape(v),y=o.util.sizeFromShape(e.shape),b=(0,c.reshape)({inputs:{x:h},attrs:{shape:[y/x,x]},backend:n}),k=(0,o.sumOutType)(e.dtype),j=(0,i.reduce)(b,k,"sum",n),w=(0,c.reshape)({inputs:{x:j},attrs:{shape:_},backend:n});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(j),d&&n.disposeIntermediateTensorInfo(h),w}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/reduce":"bBPIE","./Reshape":"65neR","./Transpose_impl":"4U2p6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bBPIE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reduce",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../mean_gpu"),i=e("../reduce_gpu");function c(e,t,r,n){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var r=t.length?t[t.length-1].outSize:e[1],n=s.backend_util.computeOptimalWindowSize(r);t.push({inSize:r,windowSize:n,outSize:Math.ceil(r/n)})}return t}(e.shape),c=e,u=0;u<a.length;u++){var l=a[u],p=l.inSize,f=l.windowSize,d=l.outSize,h=void 0,m=void 0;h="mean"===r?0===u?new(0,o.MeanProgram)({windowSize:f,inSize:p,batchSize:e.shape[0],outSize:d},p):new(0,o.MeanProgram)({windowSize:f,inSize:p,batchSize:e.shape[0],outSize:d}):new(0,i.ReduceProgram)({windowSize:f,inSize:p,batchSize:e.shape[0],outSize:d},r),m=c,c=n.runWebGLProgram(h,[c],t),m.dataId!==e.dataId&&n.disposeIntermediateTensorInfo(m)}return c}},{"@tensorflow/tfjs-core":"aOH7b","../mean_gpu":"hE3aD","../reduce_gpu":"4nOhw","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hE3aD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MeanProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["x"];var n=t.windowSize,a=t.batchSize,i=t.inSize,c=t.outSize;this.outputShape=[a,c];var u=4*Math.floor(n/4),l=n%4,p="sumValue += dot(values, ones);";if(null!=r){var f=1/r;p="sumValue += dot(values * ".concat(o.util.isInt(f)?f.toPrecision(2):f,", ones);")}var d="";i%n>0&&(d="\n if (inIdx< 0 || inIdx >= ".concat(i,") {\n return 0.0;\n }\n ")),this.userCode="\n const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n float getValue(int batch, int inIdx) {\n ".concat(d,"\n return getX(batch, inIdx);\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int outIdx = coords[1];\n int inOffset = outIdx * ").concat(n,";\n\n float sumValue = 0.0;\n\n for (int i = 0; i< ").concat(u,"; i += 4) {\n int inIdx = inOffset + i;\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n getValue(batch, inIdx + 3)\n );\n\n ").concat(p,"\n }\n\n int inIdx = inOffset + ").concat(u,";\n if (").concat(1===l,") {\n vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n ").concat(p,"\n } else if (").concat(2===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1), 0.0, 0.0);\n\n ").concat(p,"\n } else if (").concat(3===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2), 0.0);\n\n ").concat(p,"\n }\n setOutput(sumValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4nOhw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ReduceProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["x"];var n=t.windowSize,a=t.batchSize,o=t.inSize,i=t.outSize;this.outputShape=[a,i];var c="0.0",u="";"prod"===r?c="1.0":"min"===r?(c="1.0 / 1e-20",u="min"):"max"===r&&(c="-1.0 / 1e-20",u="max");var l="".concat(r,"(").concat(r,"(").concat(r,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===r?l="sumValue":"prod"===r?l="prodValue":"all"===r?l="allValue":"any"===r&&(l="anyValue");var p=4*Math.floor(n/4),f=n%4,d="\n if (".concat("sum"===r,") {\n sumValue += dot(values, ones);\n } else if (").concat("prod"===r,") {\n vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n prodValue *= tmp[0] * tmp[1];\n } else {\n minMaxValue = ").concat(u,"(values, minMaxValue);\n if (").concat("min"===r," || ").concat("max"===r,") {\n minMaxValue = ").concat(u,"(values, minMaxValue);\n bvec4 isNaN = isnan(values);\n if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n minMaxValue = vec4(NAN);\n }\n }\n }\n "),h="vec4";"all"===r?(c="1.0",d="\n bool reducedAllValue = all(values);\n float floatedReducedAllValue = float(reducedAllValue);\n allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n ",h="bvec4"):"any"===r&&(c="0.0",d="\n bool reducedAnyValue = any(values);\n float floatedReducedAnyValue = float(reducedAnyValue);\n anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n ",h="bvec4");var m="";o%n>0&&(m="\n if (inIdx< 0 || inIdx >= ".concat(o,") {\n return initializationValue;\n }\n ")),this.userCode="\n const float initializationValue = ".concat(c,";\n const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n float getValue(int batch, int inIdx) {\n ").concat(m,"\n return getX(batch, inIdx);\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int outIdx = coords[1];\n int inOffset = outIdx * ").concat(n,";\n\n vec4 minMaxValue = vec4(").concat(c,");\n float prodValue = 1.0;\n float sumValue = 0.0;\n float allValue = 1.0;\n float anyValue = 0.0;\n\n for (int i = 0; i< ").concat(p,"; i += 4) {\n int inIdx = inOffset + i;\n ").concat(h," values = ").concat(h,"(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n getValue(batch, inIdx + 3)\n );\n\n ").concat(d,"\n }\n\n int inIdx = inOffset + ").concat(p,";\n if (").concat(1===f,") {\n ").concat(h," values = ").concat(h,"(\n getValue(batch, inIdx),\n initializationValue,\n initializationValue,\n initializationValue\n );\n\n ").concat(d,"\n } else if (").concat(2===f,") {\n ").concat(h," values = ").concat(h,"(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n initializationValue,\n initializationValue\n );\n\n ").concat(d,"\n } else if (").concat(3===f,") {\n ").concat(h," values = ").concat(h,"(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n initializationValue\n );\n\n ").concat(d,"\n }\n setOutput(").concat(l,");\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4U2p6":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transposeImpl",function(){return u}),a.export(r,"transposeImplCPU",function(){return o.transposeImplCPU});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared"),i=e("../transpose_gpu"),c=e("../transpose_packed_gpu");function u(e,t,r){var n=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,c.TransposePackedProgram)(e.shape,t):new(0,i.TransposeProgram)(e.shape,t);return r.runWebGLProgram(n,[e],e.dtype)}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","../transpose_gpu":"1joNP","../transpose_packed_gpu":"hEEpU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1joNP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TransposeProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["A"];for(var n=Array(t.length),a=0;a<n.length;a++)n[a]=t[r[a]];this.outputShape=n,this.rank=n.length;var i=(0,o.getCoordsDataType)(this.rank),c=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],n=Array(t),a=0;a<e.length;a++)n[e[a]]=r[a];return n.join()}(r);this.userCode="\n void main() {\n ".concat(i," resRC = getOutputCoords();\n setOutput(getA(").concat(c,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hEEpU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TransposePackedProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./packing_util"),i=e("./shader_compiler"),c=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=Array(t.length),a=0;a<n.length;a++)n[a]=t[r[a]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var c=(0,i.getCoordsDataType)(this.rank),u=(0,o.getVecChannels)("rc",this.rank),l=Array(this.rank),p=0;p<r.length;p++)l[r[p]]=u[p];var f="vec2(".concat(l.slice(-2).join(),")"),d="++".concat(u[this.rank-1]," < ").concat(n[this.rank-1]),h="getChannel(getA(".concat(l.join(),"), ").concat(f,")");this.userCode="\n void main() {\n ".concat(c," rc = getOutputCoords();\n vec4 result = vec4(0.);\n result[0] = ").concat(h,";\n if(").concat(d,") {\n result[1] = ").concat(h,";\n }\n --").concat(u[this.rank-1],";\n if(++").concat(u[this.rank-2]," < ").concat(n[this.rank-2],") {\n result[2] = ").concat(h,";\n if(").concat(d,") {\n result[3] = ").concat(h,";\n }\n }\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aDPRZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transpose",function(){return i}),a.export(r,"transposeConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Transpose_impl");function i(e){for(var t,r=e.inputs,n=e.backend,a=e.attrs,s=r.x,i=a.perm,c=Array(s.shape.length),u=0;u<c.length;u++)c[u]=s.shape[i[u]];if(n.shouldExecuteOnCPU([s])){var l=n.texData.get(s.dataId).values,p=(0,o.transposeImplCPU)(l,s.shape,s.dtype,i,c);t=n.makeTensorInfo(c,s.dtype),n.texData.get(t.dataId).values=p}else t=(0,o.transposeImpl)(s,i,n);return t}var c={kernelName:s.Transpose,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Transpose_impl":"4U2p6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5tF6f":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"abs",function(){return l}),a.export(r,"absConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared"),i=e("../unaryop_gpu"),c=e("../unaryop_packed_gpu"),u="return abs(x);";function l(e){var t,r=e.inputs,n=e.backend,a=r.x;if(n.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var l=n.texData.get(a.dataId),p=(0,o.simpleAbsImplCPU)(l.values);return n.makeTensorInfo(a.shape,a.dtype,p)}return t=(0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new(0,c.UnaryOpPackedProgram)(a.shape,u):new(0,i.UnaryOpProgram)(a.shape,u),n.runWebGLProgram(t,[a],a.dtype)}var p={kernelName:s.Abs,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","../unaryop_gpu":"66B4A","../unaryop_packed_gpu":"jwqfd","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],k61CH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acos",function(){return c}),a.export(r,"acosConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n if (abs(x) >1.) {\n return NAN;\n }\n return acos(x);\n",c=(0,o.unaryKernelFunc)({opSnippet:i}),u={kernelName:s.Acos,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"86pd9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acosh",function(){return c}),a.export(r,"acoshConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n if (x< 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));",c=(0,o.unaryKernelFunc)({opSnippet:i}),u={kernelName:s.Acosh,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gE2jw:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addKernelFunc",function(){return u}),a.export(r,"addConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return a + b;",u=(0,o.binaryKernelFunc)({opSnippet:c,packedOpSnippet:c,supportsComplex:!0,cpuKernelImpl:i.addImplCPU}),l={kernelName:s.Add,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4di4Y":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addN",function(){return u}),a.export(r,"addNConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../addn_gpu"),i=e("../addn_packed_gpu"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend;if(1===t.length)return(0,c.identity)({inputs:{x:t[0]},backend:r});if(t.length>(0,s.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var n=Math.floor(t.length/2),a=u({inputs:t.slice(0,n),backend:r}),l=u({inputs:t.slice(n),backend:r});return u({inputs:[a,l],backend:r})}var p=t.map(function(e){return e.dtype}).reduce(function(e,t){return(0,s.upcastType)(e,t)}),f=t.map(function(e){return e.shape}),d=(0,s.env)().getBool("WEBGL_PACK")?new(0,i.AddNPackedProgram)(t[0].shape,f):new(0,o.AddNProgram)(t[0].shape,f);return r.runWebGLProgram(d,t,p)}var l={kernelName:s.AddN,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../addn_gpu":"lJzMO","../addn_packed_gpu":"djWj2","./Identity":"8GOL4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lJzMO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AddNProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r){"use strict";(0,s._)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=r.map(function(e,t){return"T".concat(t)});var n=[];this.variableNames.forEach(function(e){n.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))});var a=this.variableNames.map(function(e){return"v".concat(e)}).join(" + ");this.userCode="\n void main() {\n ".concat(n.join("\n "),"\n\n float result = ").concat(a,";\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],djWj2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AddNPackedProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r){"use strict";(0,s._)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=r.map(function(e,t){return"T".concat(t)});var n=[];this.variableNames.forEach(function(e){n.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))});var a=this.variableNames.map(function(e){return"v".concat(e)}).join(" + ");this.userCode="\n void main() {\n ".concat(n.join("\n "),"\n\n vec4 result = ").concat(a,";\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6GEj5":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"all",function(){return l}),a.export(r,"allConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.axis,f=a.keepDims,d=l.shape.length,h=o.util.parseAxisParam(p,l.shape),m=h,g=o.backend_util.getAxesPermutation(m,d),v=l;null!=g&&(v=(0,u.transpose)({inputs:{x:l},backend:n,attrs:{perm:g}}),m=o.backend_util.getInnerMostAxes(m.length,d)),o.backend_util.assertAxesAreInnerMostDims("all",m,d);var _=(0,s._)(o.backend_util.computeOutAndReduceShapes(v.shape,m),2),x=_[0],y=_[1],b=o.util.sizeFromShape(y),k=(0,c.reshape)({inputs:{x:v},backend:n,attrs:{shape:[-1,b]}}),j=(0,i.reduce)(k,k.dtype,"all",n);if(f){var w=o.backend_util.expandShapeToKeepDim(x,h);t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:w}})}else t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:x}});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(j),null!=g&&n.disposeIntermediateTensorInfo(v),t}var p={kernelName:o.All,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/reduce":"bBPIE","./Reshape":"65neR","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gJ8CC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"any",function(){return l}),a.export(r,"anyConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.axis,f=a.keepDims,d=l.shape.length,h=o.util.parseAxisParam(p,l.shape),m=h,g=o.backend_util.getAxesPermutation(m,d),v=l;null!=g&&(v=(0,u.transpose)({inputs:{x:l},backend:n,attrs:{perm:g}}),m=o.backend_util.getInnerMostAxes(m.length,d)),o.backend_util.assertAxesAreInnerMostDims("any",m,d);var _=(0,s._)(o.backend_util.computeOutAndReduceShapes(v.shape,m),2),x=_[0],y=_[1],b=o.util.sizeFromShape(y),k=(0,c.reshape)({inputs:{x:v},backend:n,attrs:{shape:[-1,b]}}),j=(0,i.reduce)(k,k.dtype,"any",n);if(f){var w=o.backend_util.expandShapeToKeepDim(x,h);t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:w}})}else t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:x}});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(j),null!=g&&n.disposeIntermediateTensorInfo(v),t}var p={kernelName:o.Any,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/reduce":"bBPIE","./Reshape":"65neR","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bDQAO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMax",function(){return c}),a.export(r,"argMaxConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/arg_min_max"),i=e("./Transpose");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.axis,u=s.util.parseAxisParam(c,a.shape),l=s.backend_util.getAxesPermutation(u,a.shape.length),p=a,f=[];null!=l&&(f.push(p=(0,i.transpose)({inputs:{x:a},backend:r,attrs:{perm:l}})),u=s.backend_util.getInnerMostAxes(u.length,p.shape.length)),s.backend_util.assertAxesAreInnerMostDims("argMax",[u[0]],p.shape.length);var d=(0,o.argMinMaxReduce)(r,p,u[0],"max");return f.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),d}var u={kernelName:s.ArgMax,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/arg_min_max":"cejXS","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cejXS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMinMaxReduce",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../argminmax_gpu"),c=e("../argminmax_packed_gpu"),u=e("../kernels/Reshape");function l(e,t,r,n){var a=[r];if(o.backend_util.assertAxesAreInnerMostDims("arg"+n.charAt(0).toUpperCase()+n.slice(1),a,t.shape.length),!(0,o.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var l=[],p=e.texData.get(t.dataId),f=null!==p&&p.isPacked,d=t;f&&l.push(d=e.unpackTensor(t));var h=(0,s._)(o.backend_util.computeOutAndReduceShapes(d.shape,a),2),m=h[0],g=h[1],v=o.util.sizeFromShape(g),_=(0,u.reshape)({inputs:{x:d},backend:e,attrs:{shape:[-1,v]}});l.push(_);var x=function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=r.shape[0],c=r.shape[1];null!=a&&(s=a.shape[0],c=a.shape[1]);var u=o.backend_util.computeOptimalWindowSize(c),l={windowSize:u,inSize:c,batchSize:s,outSize:Math.ceil(c/u)},p=new(0,i.ArgMinMaxProgram)(l,n,null==a),f=[r];null!=a&&f.push(a);var d=t.runWebGLProgram(p,f,"int32");if(1===d.shape[1])return d;var h=e(t,r,n,d);return t.disposeIntermediateTensorInfo(d),h}(e,_,n);l.push(x);var y=(0,u.reshape)({inputs:{x:x},backend:e,attrs:{shape:m}});return l.forEach(function(t){return e.disposeIntermediateTensorInfo(t)}),y}return function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=null!=a?a.shape:r.shape,i=s[s.length-1],u=o.backend_util.computeOptimalWindowSize(i),l=new(0,c.ArgMinMaxPackedProgram)(s,u,n,null==a),p=null==a?[r]:[r,a],f=t.runWebGLProgram(l,p,"int32");if(f.shape.length===r.shape.length){var d=e(t,r,n,f);return t.disposeIntermediateTensorInfo(f),d}return f}(e,t,n)}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../argminmax_gpu":"aOOTk","../argminmax_packed_gpu":"2BSqc","../kernels/Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aOOTk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ArgMinMaxProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["A"];var a=t.windowSize,o=t.batchSize,i=t.outSize;n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i],this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int outIdx = coords[1];\n int inOffset = outIdx * ".concat(a,";\n\n int bestIndex = inOffset;\n float bestValue = getA(batch, bestIndex);\n\n for (int i = 0; i< ").concat(a,"; i++) {\n int inIdx = ").concat(n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));",";\n float candidate = getA(batch, inIdx);\n if (candidate ").concat("max"===r?">":"<"," bestValue) {\n bestValue = candidate;\n bestIndex = inIdx;\n }\n }\n setOutput(float(bestIndex));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2BSqc":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ArgMinMaxPackedProgram",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./packing_util"),c=e("./shader_compiler"),u=function e(t,r,n,a){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,o.util.assert(t.length>2,function(){return"Packed arg".concat(n.charAt(0).toUpperCase()+n.slice(1)," supports only inputs with rank above 2.")});var u,l,p=Math.ceil(t[t.length-1]/r);this.outputShape=t.slice(0,-1),p>1&&this.outputShape.push(p),a||this.variableNames.push("bestIndicesA");var f=this.outputShape,d=f.length,h=(0,c.getCoordsDataType)(d),m=(0,i.getChannels)("coords",d);if(1===p){l=d+1;var g=(0,c.getCoordsDataType)(l);u="\n ".concat(g," sourceLocR = ").concat(g,"(").concat(m.join(),", 0);\n ++").concat(m[d-1],";\n ").concat(g," sourceLocG = ").concat(g,"(").concat(m.join(),", 0);\n ++").concat(m[d-2],";\n ").concat(g," sourceLocA = ").concat(g,"(").concat(m.join(),", 0);\n --").concat(m[d-1],";\n ").concat(g," sourceLocB = ").concat(g,"(").concat(m.join(),", 0);\n --").concat(m[d-2],";")}else l=d,u="\n ".concat(h," sourceLocR = coords;\n ++").concat(m[d-1],";\n ").concat(h," sourceLocG = coords;\n ++").concat(m[d-2],";\n ").concat(h," sourceLocA = coords;\n --").concat(m[d-1],";\n ").concat(h," sourceLocB = coords;\n --").concat(m[d-2],";");var v=["x","y","z","w","u","v"].slice(0,l),_="."+v[l-1],x=v.map(function(e){return"int "+e}),y=(0,i.getChannels)("sourceLocR",l-1).concat("inIdx.r"),b=(0,i.getChannels)("sourceLocG",l-1).concat("inIdx.g"),k=(0,i.getChannels)("sourceLocB",l-1).concat("inIdx.b"),j=(0,i.getChannels)("sourceLocA",l-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",I=a?"":"\n inIdx = round(vec4(getBestIndicesAChannel(".concat(y.join(),"),\n getBestIndicesAChannel(").concat(b.join(),"),\n getBestIndicesAChannel(").concat(k.join(),"),\n getBestIndicesAChannel(").concat(j.join(),")));"),T="vec4(\n getAChannel(".concat(y.join(),"),\n hasNextCol ? getAChannel(").concat(b.join(),") : 0.,\n hasNextRow ? getAChannel(").concat(k.join(),") : 0.,\n hasNextRow && hasNextCol ? getAChannel(").concat(j.join(),") : 0.)"),S=a?"":"\n float getBestIndicesAChannel(".concat(x.join(),") {\n return getChannel(getBestIndicesA(").concat(v.join(),"),\n vec2(").concat(v.slice(-2).join(),"));\n }");this.userCode="\n float getAChannel(".concat(x.join(),") {\n return getChannel(getA(").concat(v.join(),"),\n vec2(").concat(v.slice(-2).join(),"));\n }\n ").concat(S,"\n void main() {\n ").concat(h," coords = getOutputCoords();\n bool hasNextCol = ").concat(m[d-1],"< ").concat(f[d-1]-1,";\n bool hasNextRow = ").concat(m[d-2]," < ").concat(f[d-2]-1,";\n ").concat(u,"\n ivec4 srcIdx = ivec4(sourceLocR").concat(_,", sourceLocG").concat(_,",\n sourceLocB").concat(_,", sourceLocA").concat(_,") * ").concat(r,";\n ivec4 inIdx = srcIdx;\n vec4 bestIndex = vec4(inIdx);\n vec4 bestValue = ").concat(T,";\n\n for (int i = 0; i < ").concat(r,"; i++) {\n inIdx = srcIdx;\n ").concat(I,"\n vec4 candidate = ").concat(T,";\n bvec4 nan = isnan(candidate);\n bvec4 replace = bvec4(\n vec4(").concat(w,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n bestValue = vec4(replace.x ? candidate.x : bestValue.x,\n replace.y ? candidate.y : bestValue.y,\n replace.z ? candidate.z : bestValue.z,\n replace.w ? candidate.w : bestValue.w);\n bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n srcIdx++;\n }\n setOutput(bestIndex);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kPvCd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMin",function(){return c}),a.export(r,"argMinConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/arg_min_max"),i=e("./Transpose");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.axis,u=s.util.parseAxisParam(c,a.shape),l=s.backend_util.getAxesPermutation(u,a.shape.length),p=a,f=[];null!=l&&(f.push(p=(0,i.transpose)({inputs:{x:a},backend:r,attrs:{perm:l}})),u=s.backend_util.getInnerMostAxes(u.length,p.shape.length)),s.backend_util.assertAxesAreInnerMostDims("argMin",[u[0]],p.shape.length);var d=(0,o.argMinMaxReduce)(r,p,u[0],"min");return f.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),d}var u={kernelName:s.ArgMin,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/arg_min_max":"cejXS","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6QXCP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asin",function(){return c}),a.export(r,"asinConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n if (abs(x) >1.) {\n return NAN;\n }\n return asin(x);\n",c=(0,o.unaryKernelFunc)({opSnippet:i}),u={kernelName:s.Asin,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3l0Xi":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asinh",function(){return c}),a.export(r,"asinhConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"return log(x + sqrt(x * x + 1.0));",c=(0,o.unaryKernelFunc)({opSnippet:i}),u={kernelName:s.Asinh,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2bBfV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan",function(){return c}),a.export(r,"atanConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n return atan(x);\n",c=(0,o.unaryKernelFunc)({opSnippet:i}),u={kernelName:s.Atan,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gT9Go:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan2",function(){return p}),a.export(r,"atan2Config",function(){return f});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=o.CHECK_NAN_SNIPPET+"\n return atan(a, b);\n",l="\n vec4 result = atan(a, b);\n bvec4 isNaNA = isnan(a);\n bvec4 isNaNB = isnan(b);\n bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n "+i.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",p=(0,c.binaryKernelFunc)({opSnippet:u,packedOpSnippet:l}),f={kernelName:s.Atan2,backendName:"webgl",kernelFunc:p}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_gpu":"khC4O","../binaryop_packed_gpu":"hSRNa","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6NE1C":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atanh",function(){return c}),a.export(r,"atanhConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n if ((x< -1.0) || (x >1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;",c=(0,o.unaryKernelFunc)({opSnippet:i}),u={kernelName:s.Atanh,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8S4Mt":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool",function(){return u}),a.export(r,"avgPoolConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../pool_gpu"),i=e("../webgl_util"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x;(0,i.assertNotComplex)(a,"avgPool");var u=n.filterSize,l=n.strides,p=n.pad,f=n.dimRoundingMode;s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(l,1),function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(l," and dilations '").concat(1,"'")});var d=s.backend_util.computePool2DInfo(a.shape,u,l,1,p,f);if(1===d.filterWidth&&1===d.filterHeight&&s.util.arraysEqual(d.inShape,d.outShape))return(0,c.identity)({inputs:{x:a},backend:r});var h=new(0,o.Pool2DProgram)(d,"avg",!1);return r.runWebGLProgram(h,[a],"float32")}var l={kernelName:s.AvgPool,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../pool_gpu":"hwopl","../webgl_util":"4eDDt","./Identity":"8GOL4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hwopl:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Pool2DProgram",function(){return o}),a.export(r,"Pool3DProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r,n){"use strict";var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,s._)(this,e),this.variableNames=["x"],"avg"===r&&n)throw Error("Cannot compute positions for average pool.");var i=t.filterWidth,c=t.strideHeight,u=t.strideWidth,l=t.dilationHeight,p=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,m=t.padInfo.left;this.outputShape=t.outShape;var g="avg"===r,v="((batch * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),_="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),x="0.0";if(g||(x="-1.0 / 1e-20"),n){this.userCode="\n const ivec2 strides = ivec2(".concat(c,", ").concat(u,");\n const ivec2 pads = ivec2(").concat(h,", ").concat(m,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d = coords[3];\n\n ivec2 xRCCorner = coords.yz * strides - pads;\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n // max/min x(?, ?, d) to get y(yR, yC, d).\n // ? = to be determined\n float minMaxValue = 0.0;\n float minMaxValueFound = 0.0;\n int minMaxPosition = 0;\n float avgValue = 0.0;\n\n for (int wR = 0; wR< ").concat(f,";\n wR += ").concat(l,") {\n int xR = xRCorner + wR;\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(d,";\n wC += ").concat(p,") {\n int xC = xCCorner + wC;\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n float value = getX(batch, xR, xC, d);\n\n // If a min / max value has already been found, use it. If not,\n // use the current value.\n float currMinMaxValue = mix(\n value, minMaxValue, minMaxValueFound);\n if (value ").concat(">="," currMinMaxValue) {\n minMaxValue = value;\n minMaxValueFound = 1.0;\n minMaxPosition = ").concat(a?o?v:_:"wR * ".concat(d," + wC"),";\n }\n }\n }\n setOutput(float(minMaxPosition));\n }\n ");return}var y="".concat(r,"(").concat(r,"(").concat(r,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===r&&(y="avgValue / max(count, 1.0)");var b=4*Math.floor(i/4),k=i%4,j="\n if (".concat(g,") {\n avgValue += dot(values, ones);\n } else {\n minMaxValue = ").concat("max","(values, minMaxValue);\n }\n ");this.userCode="\n const ivec2 strides = ivec2(".concat(c,", ").concat(u,");\n const ivec2 pads = ivec2(").concat(h,", ").concat(m,");\n const float initializationValue = ").concat(x,";\n const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n float count = 0.0;\n\n float getValue(int batch, int xR, int xC, int d) {\n if (xC< 0 || xC >= ").concat(t.inWidth,") {\n return initializationValue;\n }\n count += 1.0;\n return getX(batch, xR, xC, d);\n }\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d = coords[3];\n\n ivec2 xRCCorner = coords.yz * strides - pads;\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n // max/min x(?, ?, d) to get y(yR, yC, d).\n // ? = to be determined\n vec4 minMaxValue = vec4(").concat(x,");\n float avgValue = 0.0;\n count = 0.0;\n\n for (int wR = 0; wR< ").concat(f,";\n wR += ").concat(l,") {\n int xR = xRCorner + wR;\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(b,"; wC += 4) {\n int xC = xCCorner + wC * ").concat(p,";\n\n vec4 values = vec4(\n getValue(batch, xR, xC, d),\n getValue(batch, xR, xC + ").concat(p,", d),\n getValue(batch, xR, xC + 2 * ").concat(p,", d),\n getValue(batch, xR, xC + 3 * ").concat(p,", d)\n );\n\n ").concat(j,"\n }\n\n int xC = xCCorner + ").concat(b,";\n if (").concat(1===k,") {\n vec4 values = vec4(\n getValue(batch, xR, xC, d),\n initializationValue,\n initializationValue,\n initializationValue\n );\n\n ").concat(j,"\n } else if (").concat(2===k,") {\n vec4 values = vec4(\n getValue(batch, xR, xC, d),\n getValue(batch, xR, xC + ").concat(p,", d),\n initializationValue,\n initializationValue\n );\n\n ").concat(j,"\n } else if (").concat(3===k,") {\n vec4 values = vec4(\n getValue(batch, xR, xC, d),\n getValue(batch, xR, xC + ").concat(p,", d),\n getValue(batch, xR, xC + 2 * ").concat(p,", d),\n initializationValue\n );\n\n ").concat(j,"\n }\n }\n setOutput(").concat(y,");\n }\n ")},i=function e(t,r,n){"use strict";var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,s._)(this,e),this.variableNames=["x"],"avg"===r&&n)throw Error("Cannot compute positions for average pool.");var i=t.filterWidth,c=t.strideDepth,u=t.strideHeight,l=t.strideWidth,p=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,m=t.effectiveFilterHeight,g=t.effectiveFilterWidth,v=t.padInfo.front,_=t.padInfo.top,x=t.padInfo.left;this.outputShape=t.outShape;var y="avg"===r,b="0.0";if(y||(b="-1.0 / 1e-20"),n){this.userCode="\n const ivec3 strides =\n ivec3(".concat(c,", ").concat(u,", ").concat(l,");\n const ivec3 pads = ivec3(").concat(v,", ").concat(_,", ").concat(x,");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int ch = coords.u;\n\n ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n int xDCorner = xCorner.x;\n int xRCorner = xCorner.y;\n int xCCorner = xCorner.z;\n\n // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n // ? = to be determined\n float minMaxValue = 0.0;\n float minMaxValueFound = 0.0;\n int minMaxPosition = 0;\n\n for (int wD = 0; wD< ").concat(h,";\n wD += ").concat(p,") {\n int xD = xDCorner + wD;\n\n if (xD < 0 || xD >= ").concat(t.inDepth,") {\n continue;\n }\n\n for (int wR = 0; wR< ").concat(m,";\n wR += ").concat(f,") {\n int xR = xRCorner + wR;\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(g,";\n wC += ").concat(d,") {\n int xC = xCCorner + wC;\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n float value = getX(batch, xD, xR, xC, ch);\n\n // If a min / max value has already been found, use it. If not,\n // use the current value.\n float currMinMaxValue = mix(\n value, minMaxValue, minMaxValueFound);\n if (value ").concat(">="," currMinMaxValue) {\n minMaxValue = value;\n minMaxValueFound = 1.0;\n minMaxPosition = ").concat(a?o?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(m," * ").concat(g," +\n wR * ").concat(g," + wC"),";\n }\n }\n }\n }\n setOutput(float(minMaxPosition));\n }\n ");return}var k="".concat(r,"(").concat(r,"(").concat(r,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===r&&(k="avgValue / max(count, 1.0)");var j=4*Math.floor(i/4),w=i%4,I="\n if (".concat(y,") {\n avgValue += dot(values, ones);\n } else {\n minMaxValue = ").concat("max","(values, minMaxValue);\n }\n ");this.userCode="\n const ivec3 strides =\n ivec3(".concat(c,", ").concat(u,", ").concat(l,");\n const ivec3 pads = ivec3(").concat(v,", ").concat(_,", ").concat(x,");\n const float initializationValue = ").concat(b,";\n const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n float count = 0.0;\n\n float getValue(int batch, int xD, int xR, int xC, int ch) {\n if (xC< 0 || xC >= ").concat(t.inWidth,") {\n return initializationValue;\n }\n count += 1.0;\n return getX(batch, xD, xR, xC, ch);\n }\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int ch = coords.u;\n\n ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n int xDCorner = xCorner.x;\n int xRCorner = xCorner.y;\n int xCCorner = xCorner.z;\n\n // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n // ? = to be determined\n vec4 minMaxValue = vec4(").concat(b,");\n float avgValue = 0.0;\n count = 0.0;\n\n for (int wD = 0; wD< ").concat(h,";\n wD += ").concat(p,") {\n int xD = xDCorner + wD;\n\n if (xD < 0 || xD >= ").concat(t.inDepth,") {\n continue;\n }\n\n for (int wR = 0; wR< ").concat(m,";\n wR += ").concat(f,") {\n int xR = xRCorner + wR;\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(j,"; wC += 4) {\n int xC = xCCorner + wC * ").concat(d,";\n\n vec4 values = vec4(\n getValue(batch, xD, xR, xC, ch),\n getValue(batch, xD, xR, xC + ").concat(d,", ch),\n getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n );\n\n ").concat(I,"\n }\n\n int xC = xCCorner + ").concat(j,";\n if (").concat(1===w,") {\n vec4 values = vec4(\n getValue(batch, xD, xR, xC, ch),\n initializationValue,\n initializationValue,\n initializationValue\n );\n\n ").concat(I,"\n } else if (").concat(2===w,") {\n vec4 values = vec4(\n getValue(batch, xD, xR, xC, ch),\n getValue(batch, xD, xR, xC + ").concat(d,", ch),\n initializationValue,\n initializationValue\n );\n\n ").concat(I,"\n } else if (").concat(3===w,") {\n vec4 values = vec4(\n getValue(batch, xD, xR, xC, ch),\n getValue(batch, xD, xR, xC + ").concat(d,", ch),\n getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n initializationValue\n );\n\n ").concat(I,"\n }\n }\n }\n setOutput(").concat(k,");\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lcts5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3D",function(){return i}),a.export(r,"avgPool3DConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../pool_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.filterSize,c=n.strides,u=n.pad,l=n.dimRoundingMode,p=n.dataFormat,f=s.backend_util.computePool3DInfo(a.shape,i,c,[1,1,1],u,l,p),d=new(0,o.Pool3DProgram)(f,"avg",!1);return r.runWebGLProgram(d,[a],"float32")}var c={kernelName:s.AvgPool3D,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../pool_gpu":"hwopl","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gR3H7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3DGrad",function(){return i}),a.export(r,"avgPool3DGradConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../avg_pool_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.input,c=n.filterSize,u=n.strides,l=n.pad,p=n.dimRoundingMode,f=s.backend_util.computePool3DInfo(i.shape,c,u,[1,1,1],l,p),d=new(0,o.AvgPool3DBackpropProgram)(f);return r.runWebGLProgram(d,[a],i.dtype)}var c={kernelName:s.AvgPool3DGrad,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../avg_pool_backprop_gpu":"3lMmh","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3lMmh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AvgPool2DBackpropProgram",function(){return o}),a.export(r,"AvgPool3DBackpropProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var r=t.filterHeight,n=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,c=t.dilationWidth,u=t.effectiveFilterHeight,l=t.effectiveFilterWidth,p=u-1-t.padInfo.top,f=l-1-t.padInfo.left;this.userCode="\n const ivec2 pads = ivec2(".concat(p,", ").concat(f,");\n const float avgMultiplier = float(").concat(1/(r*n),");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n\n ivec2 dyRCCorner = coords.yz - pads;\n int dyRCorner = dyRCCorner.x;\n int dyCCorner = dyRCCorner.y;\n\n // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n for (int wR = 0; wR < ").concat(u,";\n wR += ").concat(i,") {\n float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n for (int wC = 0; wC< ").concat(l,";\n wC+= ").concat(c,") {\n float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n float dyValue = getDy(b, idyR, idyC, d);\n\n dotProd += dyValue * avgMultiplier;\n }\n }\n setOutput(dotProd);\n }\n ")},i=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var r=t.filterDepth,n=t.filterHeight,a=t.filterWidth,o=t.strideDepth,i=t.strideHeight,c=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,p=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,m=f-1-t.padInfo.front,g=d-1-t.padInfo.top,v=h-1-t.padInfo.left;this.userCode="\n const ivec3 pads = ivec3(".concat(m,", ").concat(g,", ").concat(v,");\n const float avgMultiplier = float(").concat(1/(r*n*a),");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int ch = coords.u;\n\n ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n int dyDCorner = dyCorner.x;\n int dyRCorner = dyCorner.y;\n int dyCCorner = dyCorner.z;\n\n // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n // dx(xD, xR, xC, ch).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n\n for (int wD = 0; wD< ").concat(f,";\n wD += ").concat(u,") {\n float dyD = float(dyDCorner + wD) / ").concat(o,".0;\n\n if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n continue;\n }\n int idyD = int(dyD);\n\n for (int wR = 0; wR< ").concat(d,";\n wR += ").concat(l,") {\n float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n for (int wC = 0; wC< ").concat(h,";\n wC += ").concat(p,") {\n float dyC = float(dyCCorner + wC) / ").concat(c,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n dotProd += dyValue * avgMultiplier;\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ciA5b:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPoolGrad",function(){return c}),a.export(r,"avgPoolGradConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../avg_pool_backprop_gpu"),i=e("../webgl_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.input;(0,i.assertNotComplex)([a,c],"avgPoolGrad");var u=n.filterSize,l=n.strides,p=n.pad,f=s.backend_util.computePool2DInfo(c.shape,u,l,1,p),d=new(0,o.AvgPool2DBackpropProgram)(f);return r.runWebGLProgram(d,[a],c.dtype)}var u={kernelName:s.AvgPoolGrad,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../avg_pool_backprop_gpu":"3lMmh","../webgl_util":"4eDDt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bZAgI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchMatMul",function(){return i}),a.export(r,"batchMatMulConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./BatchMatMul_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.a,s=t.b,i=n.transposeA,c=n.transposeB;return(0,o.batchMatMulImpl)({a:a,b:s,transposeA:i,transposeB:c,backend:r})}var c={kernelName:s.BatchMatMul,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./BatchMatMul_impl":"6QuVj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gRLiF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm",function(){return c}),a.export(r,"batchNormConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../batchnorm_gpu"),i=e("../batchnorm_packed_gpu"),c=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=t.mean,u=t.variance,l=t.offset,p=t.scale;s.util.assert(c.shape.length===u.shape.length,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),s.util.assert(null==l||c.shape.length===l.shape.length,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),s.util.assert(null==p||c.shape.length===p.shape.length,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var f=n.varianceEpsilon;null==f&&(f=.001);var d=[a,c,u],h=null;null!=l&&(h=l.shape,d.push(l));var m=null;null!=p&&(m=p.shape,d.push(p));var g=(0,s.env)().getBool("WEBGL_PACK_NORMALIZATION")?new(0,i.BatchNormPackedProgram)(a.shape,c.shape,u.shape,h,m,f):new(0,o.BatchNormProgram)(a.shape,c.shape,u.shape,h,m,f);return r.runWebGLProgram(g,d,d[0].dtype)},u={kernelName:s.FusedBatchNorm,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../batchnorm_gpu":"5yNuj","../batchnorm_packed_gpu":"aPtpG","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5yNuj":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BatchNormProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=function e(t,r,n,a,i,c){"use strict";(0,s._)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],o.backend_util.assertAndGetBroadcastShape(t,r),o.backend_util.assertAndGetBroadcastShape(t,n);var u="0.0";null!=a&&(o.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var l="1.0";null!=i&&(o.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n void main() {\n float x = getXAtOutCoords();\n float mean = getMeanAtOutCoords();\n float variance = getVarianceAtOutCoords();\n float offset = ".concat(u,";\n float scale = ").concat(l,";\n float inv = scale * inversesqrt(variance + float(").concat(c,"));\n setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aPtpG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BatchNormPackedProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=function e(t,r,n,a,i,c){"use strict";(0,s._)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],o.backend_util.assertAndGetBroadcastShape(t,r),o.backend_util.assertAndGetBroadcastShape(t,n);var u="vec4(0.0)";null!=a&&(o.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var l="vec4(1.0)";null!=i&&(o.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n void main() {\n vec4 offset = ".concat(u,";\n vec4 scale = ").concat(l,";\n\n vec4 x = getXAtOutCoords();\n vec4 mean = getMeanAtOutCoords();\n vec4 variance = getVarianceAtOutCoords();\n\n vec4 inv = scale * inversesqrt(variance + vec4(").concat(c,"));\n\n setOutput((x - mean) * inv + offset);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8U5CD":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchToSpaceND",function(){return u}),a.export(r,"batchToSpaceNDConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("./Reshape"),i=e("./Slice"),c=e("./Transpose"),u=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.blockShape,l=n.crops;s.util.assert(a.shape.length<=4,function(){return"batchToSpaceND for rank >4 with a WebGL backend not implemented yet"});var p=u.reduce(function(e,t){return e*t}),f=s.backend_util.getReshaped(a.shape,u,p),d=s.backend_util.getPermuted(f.length,u.length),h=s.backend_util.getReshapedPermuted(a.shape,u,p),m=s.backend_util.getSliceBeginCoords(l,u.length),g=s.backend_util.getSliceSize(h,l,u.length),v=[],_=(0,o.reshape)({inputs:{x:a},backend:r,attrs:{shape:f}}),x=(0,c.transpose)({inputs:{x:_},backend:r,attrs:{perm:d}}),y=(0,o.reshape)({inputs:{x:x},backend:r,attrs:{shape:h}}),b=(0,i.slice)({inputs:{x:y},backend:r,attrs:{begin:m,size:g}});return v.push(_),v.push(x),v.push(y),v.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),b},l={kernelName:s.BatchToSpaceND,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","./Reshape":"65neR","./Slice":"ak8BR","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ak8BR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice",function(){return l}),a.export(r,"sliceConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("../slice_gpu"),u=e("../slice_packed_gpu");function l(e){var t,r,n,a,l,p=e.inputs,f=e.backend,d=e.attrs,h=p.x,m=d.begin,g=d.size,v=(0,s._)(o.slice_util.parseSliceParams(h,m,g),2),_=v[0],x=v[1];if(o.slice_util.assertParamsValid(h,_,x),0===o.util.sizeFromShape(x))return f.makeTensorInfo(x,h.dtype,[]);if(f.shouldExecuteOnCPU([h])||"string"===h.dtype){var y=f.texData.get(h.dataId),b=(0,i.sliceImplCPU)(y.values,_,x,h.shape,h.dtype);return f.makeTensorInfo(x,h.dtype,b)}var k=f.texData.get(h.dataId).isPacked,j=o.slice_util.isSliceContinous(h.shape,_,x);if(k||!j){var w=(0,o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,u.SlicePackedProgram)(x):new(0,c.SliceProgram)(x),I=[_];return f.runWebGLProgram(w,[h],h.dtype,I)}return f.uploadToGPU(h.dataId),t=f.texData.get(h.dataId),r=f.makeTensorInfo(x,h.dtype),Object.assign(n=f.texData.get(r.dataId),t),n.refCount=1,n.shape=x,n.dtype=h.dtype,a=o.slice_util.computeFlatOffset(_,o.util.computeStrides(h.shape)),t.slice&&(a+=t.slice.flatOffset),n.slice={flatOffset:a,origDataId:t.slice&&t.slice.origDataId||h.dataId},l=f.dataRefCount.get(n.slice.origDataId)||1,f.dataRefCount.set(n.slice.origDataId,l+1),r}var p={kernelName:o.Slice,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","../slice_gpu":"ki5y0","../slice_packed_gpu":"bzmDg","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ki5y0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SliceProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var r,n=(0,o.getCoordsDataType)(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var a=function(e){if(1===e)return"sourceLoc";if(e<=6)return c.slice(0,e).map(function(e){return"sourceLoc."+e}).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),i=t.map(function(e,t){return"sourceLoc.".concat(c[t]," = start[").concat(t,"] + coords.").concat(c[t],";")});r="\n ".concat(n," sourceLoc;\n ").concat(n," coords = getOutputCoords();\n ").concat(i.join("\n"),"\n "),this.userCode="\n void main() {\n ".concat(r,"\n setOutput(getSource(").concat(a,"));\n }\n ")},c=["x","y","z","w","u","v"]},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bzmDg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SlicePackedProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./packing_util"),i=e("./shader_compiler"),c=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r=(0,i.getCoordsDataType)(this.rank),n=(0,o.getChannels)("coords",this.rank),a=(0,o.getChannels)("sourceLoc",this.rank),c=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),u="getChannel(getSource(".concat(a.join(),"), ").concat(c,")"),l="\n result.x = ".concat(u,";\n if (++").concat(n[this.rank-1]," < ").concat(t[this.rank-1],") {\n ++").concat(a[this.rank-1],";\n result.y = ").concat(u,";\n --").concat(a[this.rank-1],";\n }\n "),p=1===this.rank?"":"\n --".concat(n[this.rank-1],";\n if (++").concat(n[this.rank-2]," < ").concat(t[this.rank-2],") {\n ++").concat(a[this.rank-2],";\n result.z = ").concat(u,";\n if (++").concat(n[this.rank-1]," < ").concat(t[this.rank-1],") {\n ++").concat(a[this.rank-1],";\n result.w = ").concat(u,";\n }\n }\n "),f=this.rank<=4?"sourceLoc = coords +\n ".concat(r,"(").concat(t.map(function(e,t){return"start[".concat(t,"]")}).join(),");"):t.map(function(e,t){return"".concat(a[t]," = ").concat(n[t]," + start[").concat(t,"];")}).join("\n");this.userCode="\n void main() {\n ".concat(r," coords = getOutputCoords();\n ").concat(r," sourceLoc;\n ").concat(f,"\n vec4 result = vec4(0.);\n ").concat(l,"\n ").concat(p,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7teok":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bincount",function(){return i}),a.export(r,"bincountConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.weights,i=n.size,c=r.readSync(a.dataId),u=r.readSync(s.dataId),l=(0,o.bincountImplCPU)(c,u,s.dtype,s.shape,i);return r.makeTensorInfo([i],s.dtype,l)}var c={kernelName:s.Bincount,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6hkAP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BITWISEAND",function(){return l}),a.export(r,"BITWISEAND_UNPACKED",function(){return p}),a.export(r,"bitwiseAnd",function(){return f}),a.export(r,"bitwiseAndConfig",function(){return d});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../binaryop_gpu"),c=e("../binaryop_packed_gpu"),u=e("../kernel_utils/shared"),l="\n int r = int(a.r) & int(b.r);\n int g = int(a.g) & int(b.g);\n int rb = int(a.b) & int(b.b);\n int ra = int(a.a) & int(b.a);\n return vec4(r, g, rb, ra);\n",p="\n return float(int(a.r) & int(b.r));\n";function f(e){var t,r=e.inputs,n=e.backend,a=r.a,f=r.b,d=(0,o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"),h=(0,o.env)().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([a,f])||1===h){var m=n.texData.get(a.dataId).values,g=n.texData.get(f.dataId).values,v=(0,s._)((0,u.bitwiseAndImplCPU)(a.shape,f.shape,m,g,a.dtype),2),_=v[0],x=v[1],y=n.makeTensorInfo(x,a.dtype);return n.texData.get(y.dataId).values=_,y}return t=d?new(0,c.BinaryOpPackedProgram)(l,a.shape,f.shape,!1):new(0,i.BinaryOpProgram)(p,a.shape,f.shape),n.runWebGLProgram(t,[a,f],a.dtype)}var d={kernelName:o.BitwiseAnd,backendName:"webgl",kernelFunc:f}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../binaryop_gpu":"khC4O","../binaryop_packed_gpu":"hSRNa","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bQ3B0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"broadcastArgs",function(){return o}),a.export(r,"broadcastArgsConfig",function(){return i});var s=e("@tensorflow/tfjs-core");function o(e){var t=e.inputs,r=e.backend,n=t.s0,a=t.s1,o=r.readSync(n.dataId),i=r.readSync(a.dataId),c=s.backend_util.assertAndGetBroadcastShape(Array.from(o),Array.from(i));return r.makeTensorInfo([c.length],"int32",Int32Array.from(c))}var i={kernelName:s.BroadcastArgs,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6wWtC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cast",function(){return d}),a.export(r,"castConfig",function(){return h});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("./Complex"),u=e("./Identity"),l=e("./NotEqual"),p=e("./Real"),f=e("../kernel_utils/int");function d(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,h=n.dtype;if("complex64"===h){if("complex64"===a.dtype)return(0,u.identity)({inputs:{x:a},backend:r});var m=o.zeros(a.shape),g=d({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),v=(0,c.complex)({inputs:{real:g,imag:m},backend:r});return m.dispose(),r.disposeIntermediateTensorInfo(g),v}if("complex64"===a.dtype){var _=(0,p.real)({inputs:{input:a},backend:r}),x=d({inputs:{x:_},backend:r,attrs:{dtype:h}});return r.disposeIntermediateTensorInfo(_),x}if(!o.util.hasEncodingLoss(a.dtype,h)){var y=(0,u.identity)({inputs:{x:a},backend:r});return{dataId:y.dataId,shape:y.shape,dtype:h}}if(r.shouldExecuteOnCPU([a])){var b=r.texData.get(a.dataId).values,k=(0,s._)((0,i.castImplCPU)(b,a.shape,a.dtype,h),3),j=k[0],w=k[1],I=k[2];return r.makeTensorInfo(j,w,I)}if("int32"===h)return(0,f.int)(a,r);if("bool"===h){var T=r.makeTensorInfo([],"bool",o.util.getTypedArrayFromDType("bool",1)),S=(0,l.notEqual)({inputs:{a:a,b:T},backend:r});return r.disposeIntermediateTensorInfo(T),S}throw Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(h))}var h={kernelName:o.Cast,backendName:"webgl",kernelFunc:d}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","./Complex":"lTWvu","./Identity":"8GOL4","./NotEqual":"hhT6X","./Real":"1tX1n","../kernel_utils/int":"hqZ0Q","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hhT6X:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"notEqual",function(){return c}),a.export(r,"notEqualConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,o.binaryKernelFunc)({opSnippet:"return float(a != b);",cpuKernelImpl:i.notEqualImplCPU,dtype:"bool"}),u={kernelName:s.NotEqual,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1tX1n":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"real",function(){return i}),a.export(r,"realConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Identity");function i(e){var t=e.inputs,r=e.backend,n=t.input,a=r.texData.get(n.dataId);return(0,o.identity)({inputs:{x:a.complexTensorInfos.real},backend:r})}var c={kernelName:s.Real,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Identity":"8GOL4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hqZ0Q:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"int",function(){return o});var s=e("../unaryop_gpu");function o(e,t){var r=new(0,s.UnaryOpProgram)(e.shape,"return float(int(x));"),n=t.runWebGLProgram(r,[e],"int32");return{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}},{"../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2CKVo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ceil",function(){return u}),a.export(r,"ceilConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return ceil(x);",u=(0,o.unaryKernelFunc)({opSnippet:c,packedOpSnippet:c,cpuKernelImpl:i.ceilImplCPU}),l={kernelName:s.Ceil,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4y9Vo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clipByValue",function(){return c}),a.export(r,"clipByValueConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../clip_gpu"),i=e("../clip_packed_gpu");function c(e){var t,r=e.inputs,n=e.backend,a=e.attrs,c=r.x,u=a.clipValueMin,l=a.clipValueMax;return t=(0,s.env)().getBool("WEBGL_PACK_CLIP")?new(0,i.ClipPackedProgram)(c.shape):new(0,o.ClipProgram)(c.shape),n.runWebGLProgram(t,[c],c.dtype,[[u],[l]])}var u={kernelName:s.ClipByValue,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../clip_gpu":"hN7W0","../clip_packed_gpu":"ietj7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hN7W0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ClipProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n void main() {\n float value = getAAtOutCoords();\n if (isnan(value)) {\n setOutput(value);\n return;\n }\n\n setOutput(clamp(value, minVal, maxVal));\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ietj7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ClipPackedProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n void main() {\n vec4 value = getAAtOutCoords();\n\n if (any(isnan(value))) {\n setOutput(value);\n return;\n }\n\n setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hXihc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"complexAbs",function(){return c}),a.export(r,"complexAbsConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../complex_abs_gpu");function i(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}function c(e){var t=e.inputs,r=e.backend,n=t.x,a=r.texData.get(n.dataId),s=new(0,o.ComplexAbsProgram)(n.shape),c=[i(n,a.complexTensorInfos.real),i(n,a.complexTensorInfos.imag)];return r.runWebGLProgram(s,c,c[0].dtype)}var u={kernelName:s.ComplexAbs,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../complex_abs_gpu":"bDchG","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bDchG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ComplexAbsProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n void main() {\n float re = abs(getRealAtOutCoords());\n float im = abs(getImagAtOutCoords());\n float mx = max(re, im);\n\n // sadly the length function in glsl is not underflow-safe\n // (at least not on Intel GPUs). So the safe solution is\n // to ensure underflow-safety in all cases.\n setOutput(\n mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n );\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6SYfN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat",function(){return c}),a.export(r,"concatConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("./Concat_impl"),i=e("./Identity");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.axis,a=s.util.parseAxisParam(n,t[0].shape)[0],c=t.map(function(e){return e.shape});s.backend_util.assertParamsConsistent(c,a);var u=s.backend_util.computeOutShape(t.map(function(e){return e.shape}),a);if(0===s.util.sizeFromShape(u))return r.makeTensorInfo(u,t[0].dtype,[]);var l=t.filter(function(e){return s.util.sizeFromShape(e.shape)>0});return 1===l.length?(0,i.identity)({inputs:{x:l[0]},backend:r}):(0,o.concatImpl)(l,a,r)}var u={kernelName:s.Concat,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","./Concat_impl":"aYfEc","./Identity":"8GOL4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aYfEc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concatImpl",function(){return function e(t,r,n){var a,m,g,v,_=t[0].dtype;if("complex64"===_){var x=t.map(function(e){return(0,d.real)({inputs:{input:e},backend:n})}),y=t.map(function(e){return(0,f.imag)({inputs:{input:e},backend:n})}),b=e(x,r,n),k=e(y,r,n),j=(0,p.complex)({inputs:{real:b,imag:k},backend:n});return x.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),y.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(k),j}var w=n.shouldExecuteOnCPU(t);if("string"===_&&(w=!0),w){var I=t.map(function(e){var t=s.util.sizeFromShape(e.shape.slice(r));return(0,h.reshape)({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})}),T=I.map(function(e){return{vals:n.readSync(e.dataId),shape:e.shape}}),S=s.backend_util.computeOutShape(I.map(function(e){return e.shape}),1),N=1===I[0].shape[0],M=(0,c.concatImplCPU)(T,S,_,N),C=s.backend_util.computeOutShape(t.map(function(e){return e.shape}),r),E=n.makeTensorInfo(C,_,M);return I.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),E}var F=t.filter(function(e){return s.util.sizeFromShape(e.shape)>0}),A=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&F[0].shape.length>1;if(1===F.length){var R=A?new(0,u.UnaryOpProgram)(t[0].shape,u.CLONE):new(0,l.UnaryOpPackedProgram)(t[0].shape,u.CLONE);return n.runWebGLProgram(R,t,_)}var P=(0,s.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(F.length>P){for(var O=[],D=0;D<F.length;D+=P){var B=F.slice(D,D+P);O.push(e(B,r,n))}var V=e(O,r,n),G=!0,L=!1,q=void 0;try{for(var z,U=O[Symbol.iterator]();!(G=(z=U.next()).done);G=!0){var H=z.value;n.disposeIntermediateTensorInfo(H)}}catch(e){L=!0,q=e}finally{try{G||null==U.return||U.return()}finally{if(L)throw q}}return V}if(A){var W=new(0,i.ConcatPackedProgram)(F.map(function(e){return e.shape}),r);return n.runWebGLProgram(W,F,_)}var K=(a=F,m=r,g=n,v=s.backend_util.computeOutShape(a.map(function(e){return e.shape}),m),{tensors2D:a.map(function(e){return(0,h.reshape)({inputs:{x:e},attrs:{shape:[-1,s.util.sizeFromShape(e.shape.slice(m))]},backend:g})}),outShape:v}),X=K.tensors2D,Z=K.outShape,Q=new(0,o.ConcatProgram)(X.map(function(e){return e.shape})),J=n.runWebGLProgram(Q,X,_);X.forEach(function(e){return n.disposeIntermediateTensorInfo(e)});var Y=(0,h.reshape)({inputs:{x:J},attrs:{shape:Z},backend:n});return n.disposeIntermediateTensorInfo(J),Y}});var s=e("@tensorflow/tfjs-core"),o=e("../concat_gpu"),i=e("../concat_packed_gpu"),c=e("../kernel_utils/shared"),u=e("../unaryop_gpu"),l=e("../unaryop_packed_gpu"),p=e("./Complex"),f=e("./Imag"),d=e("./Real"),h=e("./Reshape")},{"@tensorflow/tfjs-core":"aOH7b","../concat_gpu":"hAaxc","../concat_packed_gpu":"4qK1T","../kernel_utils/shared":"gN7B4","../unaryop_gpu":"66B4A","../unaryop_packed_gpu":"jwqfd","./Complex":"lTWvu","./Imag":"cxwlA","./Real":"1tX1n","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hAaxc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ConcatProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=function e(t){"use strict";(0,s._)(this,e),this.outputShape=[],this.outputShape=o.backend_util.computeOutShape(t,1),this.variableNames=t.map(function(e,t){return"T".concat(t)});var r=Array(t.length-1);r[0]=t[0][1];for(var n=1;n<r.length;n++)r[n]=r[n-1]+t[n][1];for(var a=["if (yC < ".concat(r[0],") setOutput(getT0(yR, yC));")],i=1;i<r.length;i++){var c=r[i-1];a.push("else if (yC < ".concat(r[i],") ")+"setOutput(getT".concat(i,"(yR, yC-").concat(c,"));"))}var u=r.length,l=r[r.length-1];a.push("else setOutput(getT".concat(u,"(yR, yC-").concat(l,"));")),this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int yR = coords.x;\n int yC = coords.y;\n\n ".concat(a.join("\n "),"\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4qK1T":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ConcatPackedProgram",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./packing_util"),c=e("./shader_compiler"),u=function e(t,r){"use strict";(0,s._)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=o.backend_util.computeOutShape(t,r);var n=this.outputShape,a=n.length,u=(0,c.getCoordsDataType)(a),p=(0,i.getChannels)("coords",a),f=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map(function(e,t){return"T".concat(t)});var d=Array(t.length-1);d[0]=t[0][r];for(var h=1;h<d.length;h++)d[h]=d[h-1]+t[h][r];for(var m=f[r],g=f.slice(-2),v=f.join(),_="if (".concat(m," < ").concat(d[0],") {\n return getChannel(\n getT0(").concat(v,"), vec2(").concat(g.join(),"));\n }"),x=1;x<d.length;x++){var y=d[x-1];_+="\n if (".concat(m," < ").concat(d[x]," && ").concat(m," >= ").concat(d[x-1],") {\n return getChannel(\n getT").concat(x,"(").concat(l(f,m,y),"),\n vec2(").concat(l(g,m,y),"));\n }")}var b=d.length,k=d[d.length-1];_+="\n return getChannel(\n getT".concat(b,"(").concat(l(f,m,k),"),\n vec2(").concat(l(g,m,k),"));"),this.userCode="\n float getValue(".concat(f.map(function(e){return"int "+e}),") {\n ").concat(_,"\n }\n\n void main() {\n ").concat(u," coords = getOutputCoords();\n vec4 result = vec4(getValue(").concat(p,"), 0., 0., 0.);\n\n ").concat(p[a-1]," = ").concat(p[a-1]," + 1;\n if (").concat(p[a-1],"< ").concat(n[a-1],") {\n result.g = getValue(").concat(p,");\n }\n\n ").concat(p[a-2]," = ").concat(p[a-2]," + 1;\n if (").concat(p[a-2]," < ").concat(n[a-2],") {\n result.a = getValue(").concat(p,");\n }\n\n ").concat(p[a-1]," = ").concat(p[a-1]," - 1;\n if (").concat(p[a-2]," < ").concat(n[a-2]," &&\n ").concat(p[a-1]," < ").concat(n[a-1],") {\n result.b = getValue(").concat(p,");\n }\n setOutput(result);\n }\n ")};function l(e,t,r){var n=e.indexOf(t);return e.map(function(e,t){return t===n?"".concat(e," - ").concat(r):e}).join()}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cxwlA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"imag",function(){return i}),a.export(r,"imagConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Identity");function i(e){var t=e.inputs,r=e.backend,n=t.input,a=r.texData.get(n.dataId);return(0,o.identity)({inputs:{x:a.complexTensorInfos.imag},backend:r})}var c={kernelName:s.Imag,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Identity":"8GOL4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4hK3M":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2d",function(){return l}),a.export(r,"conv2DConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../conv_gpu"),i=e("../conv_packed_gpu"),c=e("./Conv2D_impl"),u=e("./Reshape");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=r.filter,f=a.strides,d=a.pad,h=a.dataFormat,m=a.dilations,g=a.dimRoundingMode,v=s.backend_util.convertConv2DDataFormat(h),_=s.backend_util.computeConv2DInfo(l.shape,p.shape,f,m,d,g,!1,v);if(1===_.filterHeight&&1===_.filterWidth&&1===_.dilationHeight&&1===_.dilationWidth&&1===_.strideHeight&&1===_.strideWidth&&("SAME"===_.padInfo.type||"VALID"===_.padInfo.type))t=(0,c.conv2dByMatMul)({x:l,filter:p,convInfo:_,backend:n});else if(_.strideWidth<=2&&"channelsLast"===v&&(0,s.env)().getBool("WEBGL_EXP_CONV")){var x=new(0,i.Conv2DPackedProgram)(_),y=[[_.padInfo.top,_.padInfo.left],[_.strideHeight,_.strideWidth],[_.dilationHeight,_.dilationWidth],[_.inHeight,_.inWidth]];t=n.runWebGLProgram(x,[l,p],"float32",y)}else if((0,s.env)().getBool("WEBGL_CONV_IM2COL"))t=(0,c.conv2dWithIm2Row)({x:l,filter:p,convInfo:_,backend:n});else{var b=new(0,o.Conv2DProgram)(_);t=n.runWebGLProgram(b,[l,p],"float32")}var k=(0,u.reshape)({inputs:{x:t},backend:n,attrs:{shape:_.outShape}});return n.disposeIntermediateTensorInfo(t),k}var p={kernelName:s.Conv2D,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../conv_gpu":"bj2DE","../conv_packed_gpu":"cOZV4","./Conv2D_impl":"E5JcV","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bj2DE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Conv2DProgram",function(){return o}),a.export(r,"Conv3DProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,s._)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var i=t.padInfo.top,c=t.padInfo.left,u=t.strideHeight,l=t.strideWidth,p=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),g=t.inChannels%4,v="channelsLast"===t.dataFormat,_=v?1:2,x=v?2:3,y=v?3:1,b="",k="";n&&(b=a?"float activation(float a) {\n float b = getPreluActivationWeightsAtOutCoords();\n ".concat(n,"\n }"):o?"float activation(float a) {\n float b = getLeakyreluAlphaAtOutCoords();\n ".concat(n,"\n }"):"\n float activation(float x) {\n ".concat(n,"\n }\n "),k="result = activation(result);"),r&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n ".concat(b,"\n\n const ivec2 strides = ivec2(").concat(u,", ").concat(l,");\n const ivec2 pads = ivec2(").concat(i,", ").concat(c,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d2 = coords[").concat(y,"];\n\n ivec2 xRCCorner =\n ivec2(coords[").concat(_,"], coords[").concat(x,"]) * strides - pads;\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n for (int wR = 0; wR< ").concat(d,"; wR++) {\n int xR = xRCorner + wR * ").concat(p,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(h,"; wC++) {\n int xC = xCCorner + wC * ").concat(f,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n for (int d1 = 0; d1< ").concat(m,"; d1 += 4) {\n vec4 wValues = vec4(\n getW(wR, wC, d1, d2),\n getW(wR, wC, d1 + 1, d2),\n getW(wR, wC, d1 + 2, d2),\n getW(wR, wC, d1 + 3, d2)\n );\n\n if (").concat(v,") {\n vec4 xValues = vec4(\n getX(batch, xR, xC, d1),\n getX(batch, xR, xC, d1 + 1),\n getX(batch, xR, xC, d1 + 2),\n getX(batch, xR, xC, d1 + 3)\n );\n dotProd += dot(xValues, wValues);\n } else {\n vec4 xValues = vec4(\n getX(batch, d1, xR, xC),\n getX(batch, d1 + 1, xR, xC),\n getX(batch, d1 + 2, xR, xC),\n getX(batch, d1 + 3, xR, xC)\n );\n dotProd += dot(xValues, wValues);\n }\n }\n\n if (").concat(1===g,") {\n\n if (").concat(v,") {\n dotProd +=\n getX(batch, xR, xC, ").concat(m,") *\n getW(wR, wC, ").concat(m,", d2);\n } else {\n dotProd +=\n getX(batch, ").concat(m,", xR, xC) *\n getW(wR, wC, ").concat(m,", d2);\n }\n\n } else if (").concat(2===g,") {\n vec2 wValues = vec2(\n getW(wR, wC, ").concat(m,", d2),\n getW(wR, wC, ").concat(m," + 1, d2)\n );\n\n if (").concat(v,") {\n vec2 xValues = vec2(\n getX(batch, xR, xC, ").concat(m,"),\n getX(batch, xR, xC, ").concat(m," + 1)\n );\n dotProd += dot(xValues, wValues);\n } else {\n vec2 xValues = vec2(\n getX(batch, ").concat(m,", xR, xC),\n getX(batch, ").concat(m," + 1, xR, xC)\n );\n dotProd += dot(xValues, wValues);\n }\n\n } else if (").concat(3===g,") {\n vec3 wValues = vec3(\n getW(wR, wC, ").concat(m,", d2),\n getW(wR, wC, ").concat(m," + 1, d2),\n getW(wR, wC, ").concat(m," + 2, d2)\n );\n\n if (").concat(v,") {\n vec3 xValues = vec3(\n getX(batch, xR, xC, ").concat(m,"),\n getX(batch, xR, xC, ").concat(m," + 1),\n getX(batch, xR, xC, ").concat(m," + 2)\n );\n dotProd += dot(xValues, wValues);\n } else {\n vec3 xValues = vec3(\n getX(batch, ").concat(m,", xR, xC),\n getX(batch, ").concat(m," + 1, xR, xC),\n getX(batch, ").concat(m," + 2, xR, xC)\n );\n dotProd += dot(xValues, wValues);\n }\n\n }\n }\n }\n\n float result = dotProd;\n ").concat(r?"result += getBiasAtOutCoords();":"","\n ").concat(k,"\n setOutput(result);\n }\n ")},i=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var r=t.padInfo.front,n=t.padInfo.top,a=t.padInfo.left,o=t.strideDepth,i=t.strideHeight,c=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,p=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),g=t.inChannels%4;this.userCode="\n const ivec3 strides = ivec3(".concat(o,", ").concat(i,", ").concat(c,");\n const ivec3 pads = ivec3(").concat(r,", ").concat(n,", ").concat(a,");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int d2 = coords.u;\n\n ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n int xFCorner = xFRCCorner.x;\n int xRCorner = xFRCCorner.y;\n int xCCorner = xFRCCorner.z;\n\n // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n // y(yF, yR, yC, d2). ? = to be determined. : = across all\n // values in that axis.\n float dotProd = 0.0;\n for (int wF = 0; wF < ").concat(f,"; wF++) {\n int xF = xFCorner + wF * ").concat(u,";\n\n if (xF < 0 || xF >= ").concat(t.inDepth,") {\n continue;\n }\n\n for (int wR = 0; wR< ").concat(d,"; wR++) {\n int xR = xRCorner + wR * ").concat(l,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(h,"; wC++) {\n int xC = xCCorner + wC * ").concat(p,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n for (int d1 = 0; d1< ").concat(m,"; d1 += 4) {\n vec4 xValues = vec4(\n getX(batch, xF, xR, xC, d1),\n getX(batch, xF, xR, xC, d1 + 1),\n getX(batch, xF, xR, xC, d1 + 2),\n getX(batch, xF, xR, xC, d1 + 3)\n );\n vec4 wValues = vec4(\n getW(wF, wR, wC, d1, d2),\n getW(wF, wR, wC, d1 + 1, d2),\n getW(wF, wR, wC, d1 + 2, d2),\n getW(wF, wR, wC, d1 + 3, d2)\n );\n\n dotProd += dot(xValues, wValues);\n }\n\n if (").concat(1===g,") {\n dotProd +=\n getX(batch, xF, xR, xC, ").concat(m,") *\n getW(wF, wR, wC, ").concat(m,", d2);\n } else if (").concat(2===g,") {\n vec2 xValues = vec2(\n getX(batch, xF, xR, xC, ").concat(m,"),\n getX(batch, xF, xR, xC, ").concat(m," + 1)\n );\n vec2 wValues = vec2(\n getW(wF, wR, wC, ").concat(m,", d2),\n getW(wF, wR, wC, ").concat(m," + 1, d2)\n );\n dotProd += dot(xValues, wValues);\n } else if (").concat(3===g,") {\n vec3 xValues = vec3(\n getX(batch, xF, xR, xC, ").concat(m,"),\n getX(batch, xF, xR, xC, ").concat(m," + 1),\n getX(batch, xF, xR, xC, ").concat(m," + 2)\n );\n vec3 wValues = vec3(\n getW(wF, wR, wC, ").concat(m,", d2),\n getW(wF, wR, wC, ").concat(m," + 1, d2),\n getW(wF, wR, wC, ").concat(m," + 2, d2)\n );\n dotProd += dot(xValues, wValues);\n }\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cOZV4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Conv2DPackedProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./gpgpu_math"),c=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,s._)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);for(var u=t.padInfo.left,l=t.strideWidth,p=t.dilationWidth,f=t.filterHeight,d=t.filterWidth,h="\n int xR; int xC; int xCOffset;\n vec4 wTexel; vec4 previous; vec4 final;",m=0;m<d;m++)h+="\n vec4 xTexelC".concat(2*m,";\n int xTexelC").concat(2*m,"Ready;\n vec4 xTexelC").concat(2*m+1,";\n int xTexelC").concat(2*m+1,"Ready;\n vec4 xC").concat(m,";");h+="\n for (int r = 0; r < ".concat(f,"; r++) {\n for (int d1 = 0; d1 < ").concat(t.inChannels,"; d1 += 2) {\n ");for(var g=0;g<d;g++)h+="\n xTexelC".concat(2*g," = vec4(0.0);\n xTexelC").concat(2*g,"Ready = 0;\n xTexelC").concat(2*g+1," = vec4(0.0);\n xTexelC").concat(2*g+1,"Ready = 0;\n xC").concat(g," = vec4(0.0);");h+="\n xR = xRCorner + r * dilations[0];\n if (xR >=0 && xR< inDims[0]) {\n ";for(var v=0;v<(d+1)/2;v++){var _=2*v;if(h+="\n xC = xCCorner + ".concat(_*p,";\n "),1===l){if(_<d&&(u%2==1?(h+="\n xCOffset = xC + 1;\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC".concat(_,"Ready == 0) {\n xTexelC").concat(_," = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_,".zw = vec2(0.0);\n }\n xTexelC").concat(_,"Ready = 1;\n }\n "),1===p&&_>0?h+="\n xC".concat(_," = vec4(xTexelC").concat(_-2,".zw, xTexelC").concat(_,".xy);\n "):h+="\n xCOffset = xC + 1 - 2;\n\n if (xCOffset >= 0 && xCOffset< inDims[1]) {\n previous = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n previous.zw = vec2(0.0);\n }\n\n xC".concat(_," = vec4(previous.zw, xTexelC").concat(_,".xy);\n } else {\n xC").concat(_," = vec4(0.0, 0.0, xTexelC").concat(_,".xy);\n }\n ")):h+="\n if (xC >= 0 && xC< inDims[1] && xTexelC".concat(_,"Ready == 0) {\n xTexelC").concat(_," = getX(batch, xR, xC, d1);\n if (xC + 1 >= inDims[1]) {\n xTexelC").concat(_,".zw = vec2(0.0);\n }\n xTexelC").concat(_,"Ready = 1;\n }\n\n xC").concat(_," = xTexelC").concat(_,";\n "),_+1<d)){var x=u%2==0?o.util.nearestLargerEven(p):p;p%2==0&&u%2==1||p%2!=0&&u%2!=1?(h+="\n xCOffset = xC + imod(pads[1], 2) + ".concat(x,";\n\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(_+1,"Ready == 0) {\n xTexelC").concat(_+1," = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_+1,".zw = vec2(0.0);\n }\n xTexelC").concat(_+1,"Ready = 1;\n }\n "),p>1?h+="\n xCOffset -= 2;\n if (xCOffset >= 0 && xCOffset< inDims[1]) {\n previous = getX(batch, xR, xCOffset, d1);\n xC".concat(_+1," = vec4(previous.zw, xTexelC").concat(_+1,".xy);\n } else {\n xC").concat(_+1," = vec4(0.0, 0.0, xTexelC").concat(_+1,".xy);\n }\n "):h+="\n xC".concat(_+1," = vec4(xTexelC").concat(_,".zw, xTexelC").concat(_+1,".xy);\n ")):1===x?h+="\n xC".concat(_+1," = xTexelC").concat(_,";\n "):h+="\n xCOffset = xC + ".concat(x,";\n\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(_+1,"Ready == 0) {\n xTexelC").concat(_+1," = getX(batch, xR, xCOffset, d1);\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_+1,".zw = vec2(0.0);\n }\n xTexelC").concat(_+1,"Ready = 1;\n }\n\n xC").concat(_+1," = xTexelC").concat(_+1,";\n ")}}else _<d&&(u%2==1?(h+="\n xCOffset = xC + 1 - strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1] && xTexelC".concat(_,"Ready == 0) {\n xTexelC").concat(_," = getX(batch, xR, xCOffset, d1);\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_,".zw = vec2(0.0);\n }\n xTexelC").concat(_,"Ready = 1;\n }\n\n if(xC + 1 >= 0 && xC + 1< inDims[1] && xTexelC").concat(_+1,"Ready == 0) {\n xTexelC").concat(_+1," = getX(batch, xR, xC + 1, d1);\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xC + 2 >= inDims[1]) {\n xTexelC").concat(_+1,".zw = vec2(0.0);\n }\n xTexelC").concat(_+1,"Ready = 1;\n }\n\n xC").concat(_," = vec4(xTexelC").concat(_,".zw, xTexelC").concat(_+1,".zw);\n "),_+1<d&&(h+="\n final = vec4(0.0);\n xCOffset = xC + 1 + strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1]) {\n final = getX(batch, xR, xCOffset, d1);\n }\n xC".concat(_+1," = vec4(xTexelC").concat(_+1,".xy, final.xy);\n "))):(h+="\n if(xC >= 0 && xC< inDims[1] && xTexelC".concat(_,"Ready == 0) {\n xTexelC").concat(_," = getX(batch, xR, xC, d1);\n if (xC + 1 >= inDims[1]) {\n xTexelC").concat(_,".zw = vec2(0.0);\n }\n xTexelC").concat(_,"Ready = 1;\n }\n\n xCOffset = xC + strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(_+1,"Ready == 0) {\n xTexelC").concat(_+1," = getX(batch, xR, xCOffset, d1);\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_+1,".zw = vec2(0.);\n }\n xTexelC").concat(_+1,"Ready = 1;\n }\n\n xC").concat(_," = vec4(\n xTexelC").concat(_,".xy, xTexelC").concat(_+1,".xy);\n "),_+1<d&&(h+="\n xC".concat(_+1," = vec4(xTexelC").concat(_,".zw, xTexelC").concat(_+1,".zw);\n "))));_<d&&(h+="\n wTexel = getW(r, ".concat(_,", d1, d2);\n dotProd += xC").concat(_,".xxzz * vec4(wTexel.xy, wTexel.xy);\n if(d1 + 1 < ").concat(t.inChannels,") {\n dotProd += xC").concat(_,".yyww * vec4(wTexel.zw, wTexel.zw);\n }\n "),_+1<d&&(h+="\n wTexel = getW(r, ".concat(_+1,", d1, d2);\n dotProd += xC").concat(_+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n if(d1 + 1 < ").concat(t.inChannels,") {\n dotProd += xC").concat(_+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n }\n ")))}h+="\n }\n ",h+="\n }\n ",h+="\n }\n ";var y="",b="";n&&(y=a?"vec4 activation(vec4 a) {\n vec4 b = getPreluActivationWeightsAtOutCoords();\n ".concat(n,"\n }"):c?"vec4 activation(vec4 a) {\n vec4 b = getLeakyreluAlphaAtOutCoords();\n ".concat(n,"\n }"):"vec4 activation(vec4 x) {\n ".concat(n,"\n }"),b="result = activation(result);"),r&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n ".concat(y,"\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords.x;\n ivec2 xRCCorner = coords.yz * strides - pads;\n int d2 = coords.w;\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n vec4 dotProd = vec4(0.000000000000001);\n\n ").concat(h,"\n\n vec4 result = dotProd - vec4(0.000000000000001);\n ").concat(r?"result += getBiasAtOutCoords();":"","\n ").concat(b,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","./gpgpu_math":"7KkpX","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],E5JcV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2dByMatMul",function(){return m}),a.export(r,"conv2dWithIm2Row",function(){return g});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../im2col_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=e("../mulmat_packed_gpu"),l=e("../webgl_util"),p=e("./BatchMatMul_impl"),f=e("./Identity"),d=e("./Reshape");function h(e,t){var r=e.length;return r>=3?t?(0,s._)(e.slice(0,-3)).concat([e[r-3]*e[r-2],e[r-1]]):(0,s._)(e.slice(0,-3)).concat([e[r-3],e[r-2]*e[r-1]]):!t&&1===r&&e[0]>1?[e[0],1]:null}function m(e){var t=e.x,r=e.filter,n=e.convInfo,a=e.backend,s=e.bias,i=void 0===s?null:s,c=e.preluActivationWeights,u=void 0===c?null:c,m=e.leakyreluAlpha,g=void 0===m?0:m,v=e.activation,_=void 0===v?null:v,x=t.shape,y=a.texData.get(t.dataId),b=n.inChannels,k=x[0]*x[1]*x[2],j=n.outChannels,w="channelsLast"===n.dataFormat,I=[];if(null!=u){var T=h(u.shape,w);null!=T&&(u=(0,d.reshape)({inputs:{x:u},backend:a,attrs:{shape:T}}),I.push(u))}if(null!=i){var S=h(i.shape,w);null!=S&&(i=(0,d.reshape)({inputs:{x:i},backend:a,attrs:{shape:S}}),I.push(i))}if(!((1===k||1===j)&&b>p.MATMUL_SHARED_DIM_THRESHOLD)&&y.isPacked&&w&&null!=y.texture&&x[2]%2!=0&&o.util.arraysEqual(y.shape.slice(-3),x.slice(-3))){var N=x[0]*x[1]*(x[2]+1),M={dataId:t.dataId,shape:[1,N,n.inChannels],dtype:t.dtype},C=y.shape;y.shape=y.shape.slice(),y.shape[y.shape.length-2]++,o.util.assert(l.isReshapeFree(y.shape,M.shape),function(){return"packed reshape ".concat(y.shape," to ").concat(M.shape," isn't free")});var E=(0,d.reshape)({inputs:{x:r},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}});I.push(E);var F=(0,p.batchMatMulImpl)({a:M,b:E,backend:a,transposeA:!1,transposeB:!1,bias:i,activation:_,preluActivationWeights:u,leakyreluAlpha:g}),A=a.texData.get(F.dataId);o.util.assert(A.isPacked,function(){return"batchMatMul result is expected to be packed"}),y.shape=C,A.shape=n.outShape,(L=(0,f.identity)({inputs:{x:F},backend:a})).shape=n.outShape,I.push(F)}else{var R=n.outHeight*n.outWidth,P=(0,d.reshape)({inputs:{x:t},backend:a,attrs:{shape:w?[n.batchSize,R,n.inChannels]:[n.batchSize,n.inChannels,R]}}),O=(0,d.reshape)({inputs:{x:r},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}}),D=(0,p.batchMatMulImpl)({a:w?P:O,b:w?O:P,transposeA:!w,transposeB:!1,backend:a,bias:i,activation:_,preluActivationWeights:u,leakyreluAlpha:g});L=(0,d.reshape)({inputs:{x:D},backend:a,attrs:{shape:n.outShape}}),I.push(P),I.push(O),I.push(D)}var B=!0,V=!1,G=void 0;try{for(var L,q,z=I[Symbol.iterator]();!(B=(q=z.next()).done);B=!0){var U=q.value;a.disposeIntermediateTensorInfo(U)}}catch(e){V=!0,G=e}finally{try{B||null==z.return||z.return()}finally{if(V)throw G}}return L}function g(e){var t=e.x,r=e.filter,n=e.convInfo,a=e.backend,s=e.bias,l=void 0===s?null:s,p=e.preluActivationWeights,f=void 0===p?null:p,m=e.leakyreluAlpha,g=e.activation,v=void 0===g?null:g,_=n.filterWidth,x=n.filterHeight,y=n.inChannels,b=n.outWidth,k=n.outHeight,j="channelsLast"===n.dataFormat,w=_*x*y,I=k*b,T=[n.batchSize,w,I],S=[];if(null!=f){var N=h(f.shape,j);null!=N&&(f=(0,d.reshape)({inputs:{x:f},backend:a,attrs:{shape:N}}),S.push(f))}if(null!=l){var M=h(l.shape,j);null!=M&&(l=(0,d.reshape)({inputs:{x:l},backend:a,attrs:{shape:M}}),S.push(l))}var C=(0,d.reshape)({inputs:{x:r},backend:a,attrs:{shape:[1,w,o.util.sizeFromShape(r.shape)/w]}});S.push(C);var E=new(0,i.Im2ColPackedProgram)(T,n),F=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],A=a.runWebGLProgram(E,[t],"float32",F),R=(0,d.reshape)({inputs:{x:A},backend:a,attrs:{shape:T}});S.push(A),S.push(R);var P=null!=l,O=null!=f,D="leakyrelu"===v,B=v?(0,c.mapActivationToShaderProgram)(v,!0):null,V=new(0,u.MatMulPackedProgram)(j?R.shape:C.shape,j?C.shape:R.shape,j?[n.batchSize,I,n.outChannels]:[n.batchSize,n.outChannels,I],!0,!1,P,B,O,D),G=j?[R,C]:[C,R];if(l&&G.push(l),O&&G.push(f),D){var L=a.makeTensorInfo([],"float32",o.util.createScalarValue(void 0===m?0:m,"float32"));G.push(L),S.push(L)}var q=a.runWebGLProgram(V,G,"float32"),z=(0,d.reshape)({inputs:{x:q},backend:a,attrs:{shape:n.outShape}});S.push(q);var U=!0,H=!1,W=void 0;try{for(var K,X=S[Symbol.iterator]();!(U=(K=X.next()).done);U=!0){var Z=K.value;a.disposeIntermediateTensorInfo(Z)}}catch(e){H=!0,W=e}finally{try{U||null==X.return||X.return()}finally{if(H)throw W}}return z}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","../im2col_packed_gpu":"kne06","../kernel_utils/kernel_funcs_utils":"hHZZj","../mulmat_packed_gpu":"hKDtF","../webgl_util":"4eDDt","./BatchMatMul_impl":"6QuVj","./Identity":"8GOL4","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kne06:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Im2ColPackedProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./glsl_version"),i=e("./gpgpu_math"),c=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);for(var n=r.dataFormat,a=(0,o.getGlslDifferences)(),c="channelsLast"===n,u=c?1:2,l=c?2:3,p=this.enableShapeUniforms?"if(blockIndex< outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(t[2]," && pos < ").concat(t[1],") {"),f="",d=0;d<=1;d++)for(var h=0;h<=1;h++)f+="\n blockIndex = rc.z + ".concat(h,";\n pos = rc.y + ").concat(d,";\n\n ").concat(p,"\n offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n if(d0 < inputShape[").concat(u,"] && d0 >= 0) {\n // Use custom imod instead mod. On Intel GPU, mod may generate\n // unexpected value.\n // https://github.com/tensorflow/tfjs/issues/5447\n offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n inChannels);\n\n if(d1< inputShape[").concat(l,"] && d1 >= 0) {\n\n ch = imod(pos, inChannels);\n\n if (").concat(c,") {\n innerDims = vec2(d1, ch);\n result[").concat(2*d+h,"] = getChannel(\n getA(rc.x, d0, int(innerDims.x),\n int(innerDims.y)), innerDims);\n } else {\n innerDims = vec2(d0, d1);\n result[").concat(2*d+h,"] = getChannel(\n getA(rc.x, ch, int(innerDims.x),\n int(innerDims.y)), innerDims);\n }\n }\n }\n }\n ");this.userCode="\n void main() {\n ivec3 rc = getOutputCoords();\n\n vec4 result = vec4(0);\n\n int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n vec2 innerDims;\n\n ".concat(f,"\n\n ").concat(a.output," = result;\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./glsl_version":"7QlJN","./gpgpu_math":"7KkpX","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kt7xT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropFilter",function(){return i}),a.export(r,"conv2DBackpropFilterConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../conv_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.pad,l=n.dataFormat,p=n.dimRoundingMode,f=n.filterShape,d=s.backend_util.convertConv2DDataFormat(l),h=s.backend_util.computeConv2DInfo(a.shape,f,c,1,u,p,!1,d),m=new(0,o.Conv2DDerFilterProgram)(h);return r.runWebGLProgram(m,[a,i],"float32")}var c={kernelName:s.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../conv_backprop_gpu":"cBAtJ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cBAtJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Conv2DDerFilterProgram",function(){return o}),a.export(r,"Conv2DDerInputProgram",function(){return i}),a.export(r,"Conv3DDerFilterProgram",function(){return c}),a.export(r,"Conv3DDerInputProgram",function(){return u});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var r=t.strideHeight,n=t.strideWidth,a=t.padInfo.top,o=t.padInfo.left,i="channelsLast"===t.dataFormat;this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int wR = coords.x;\n int wC = coords.y;\n int d1 = coords.z;\n int d2 = coords.w;\n\n // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n\n for (int b = 0; b< ".concat(t.batchSize,"; b++) {\n for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n int xR = wR + yR * ").concat(r," - ").concat(a,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int yC = 0; yC< ").concat(t.outWidth,"; yC++) {\n int xC = wC + yC * ").concat(n," - ").concat(o,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n ").concat(i?"float dyValue = getDy(b, yR, yC, d2);\n float xValue = getX(b, xR, xC, d1);\n dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n float xValue = getX(b, d1, xR, xC);\n dotProd += (xValue * dyValue);","\n }\n }\n }\n setOutput(dotProd);\n }\n ")},i=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var r=t.filterHeight,n=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i="channelsLast"===t.dataFormat,c=r-1-t.padInfo.top,u=n-1-t.padInfo.left;this.userCode="\n const ivec2 pads = ivec2(".concat(c,", ").concat(u,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d1 = coords[").concat(i?3:1,"];\n\n ivec2 dyCorner = ivec2(coords[").concat(i?1:2,"], coords[").concat(i?2:3,"]) - pads;\n int dyRCorner = dyCorner.x;\n int dyCCorner = dyCorner.y;\n\n // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n for (int wR = 0; wR< ").concat(r,"; wR++) {\n float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n int wRPerm = ").concat(r," - 1 - wR;\n\n for (int wC = 0; wC< ").concat(n,"; wC++) {\n float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n int wCPerm = ").concat(n," - 1 - wC;\n\n for (int d2 = 0; d2< ").concat(t.outChannels,"; d2++) {\n\n if (").concat(i,") {\n float xValue = getDy(batch, idyR, idyC, d2);\n float wValue = getW(wRPerm, wCPerm, d1, d2);\n dotProd += xValue * wValue;\n } else {\n float xValue = getDy(batch, d2, idyR, idyC);\n float wValue = getW(wRPerm, wCPerm, d1, d2);\n dotProd += xValue * wValue;\n }\n\n }\n }\n }\n setOutput(dotProd);\n }\n ")},c=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var r=t.strideDepth,n=t.strideHeight,a=t.strideWidth,o=t.padInfo.front,i=t.padInfo.top,c=t.padInfo.left;this.userCode="\n void main() {\n ivec5 coords = getOutputCoords();\n int wF = coords.x;\n int wR = coords.y;\n int wC = coords.z;\n int d1 = coords.w;\n int d2 = coords.u;\n\n float dotProd = 0.0;\n\n for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n int xF = wF + yF * ").concat(r," - ").concat(o,";\n\n if (xF < 0 || xF >= ").concat(t.inDepth,") {\n continue;\n }\n\n for (int yR = 0; yR< ").concat(t.outHeight,"; yR++) {\n int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int yC = 0; yC< ").concat(t.outWidth,"; yC++) {\n int xC = wC + yC * ").concat(a," - ").concat(c,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n float dyValue = getDy(b, yF, yR, yC, d2);\n float xValue = getX(b, xF, xR, xC, d1);\n dotProd += (xValue * dyValue);\n }\n }\n }\n }\n setOutput(dotProd);\n }\n ")},u=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var r=t.filterDepth,n=t.filterHeight,a=t.filterWidth,o=t.strideDepth,i=t.strideHeight,c=t.strideWidth,u=r-1-t.padInfo.front,l=n-1-t.padInfo.top,p=a-1-t.padInfo.left;this.userCode="\n const ivec3 pads = ivec3(".concat(u,", ").concat(l,", ").concat(p,");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int d1 = coords.u;\n\n\n ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n int dyFCorner = dyCorner.x;\n int dyRCorner = dyCorner.y;\n int dyCCorner = dyCorner.z;\n\n float dotProd = 0.0;\n for (int wF = 0; wF< ").concat(r,"; wF++) {\n float dyF = float(dyFCorner + wF) / ").concat(o,".0;\n\n if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n continue;\n }\n int idyF = int(dyF);\n\n int wFPerm = ").concat(r," - 1 - wF;\n\n for (int wR = 0; wR< ").concat(n,"; wR++) {\n float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n int wRPerm = ").concat(n," - 1 - wR;\n\n for (int wC = 0; wC< ").concat(a,"; wC++) {\n float dyC = float(dyCCorner + wC) / ").concat(c,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n int wCPerm = ").concat(a," - 1 - wC;\n\n for (int d2 = 0; d2< ").concat(t.outChannels,"; d2++) {\n float xValue = getDy(batch, idyF, idyR, idyC, d2);\n float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n dotProd += xValue * wValue;\n }\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"43wKw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropInput",function(){return c}),a.export(r,"conv2DBackpropInputConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../conv_backprop_gpu"),i=e("../conv_backprop_packed_gpu");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.filter,u=n.inputShape,l=n.strides,p=n.pad,f=n.dataFormat,d=n.dimRoundingMode,h=s.backend_util.convertConv2DDataFormat(f),m=s.backend_util.computeConv2DInfo(u,c.shape,l,1,p,d,!1,h);if((0,s.env)().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===h){var g=[[m.strideHeight,m.strideWidth]],v=new(0,i.Conv2DDerInputPackedProgram)(m);return r.runWebGLProgram(v,[a,c],"float32",g)}var _=new(0,o.Conv2DDerInputProgram)(m);return r.runWebGLProgram(_,[a,c],"float32")}var u={kernelName:s.Conv2DBackpropInput,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../conv_backprop_gpu":"cBAtJ","../conv_backprop_packed_gpu":"1Z4LT","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1Z4LT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Conv2DDerInputPackedProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./gpgpu_math"),i=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=(0,o.useShapeUniforms)(this.outputShape.length);var r=t.filterHeight,n=t.filterWidth,a=r-1-t.padInfo.top,i=n-1-t.padInfo.left;this.userCode="\n const ivec2 pads = ivec2(".concat(a,", ").concat(i,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d1 = coords[3];\n\n ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n int dyRCorner = dyCorner.x;\n int dyCCorner = dyCorner.y;\n\n vec4 result = vec4(0.);\n for (int wR = 0; wR < ").concat(r,"; wR++) {\n float dyR = float(dyRCorner + wR) / strides[0];\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n int wRPerm = ").concat(r," - 1 - wR;\n\n for (int wC = 0; wC< ").concat(n,"; wC++) {\n int wCPerm = ").concat(n," - 1 - wC;\n\n float dyC = float(dyCCorner + wC) / strides[1];\n bool idyCVal = (dyC >= 0.0) && (dyC< ").concat(t.outWidth,".0)\n && (fract(dyC) == 0.0);\n int idyC = int(dyC);\n\n float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n bool idyCVal2 = (dyC2 >= 0.0) && (dyC2< ").concat(t.outWidth,".0)\n && (fract(dyC2) == 0.0);\n int idyC2 = int(dyC2);\n\n if (idyCVal && idyCVal2) {\n for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n vec4 dySample = getDy(batch, idyR, idyC, d2);\n vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n dySample : getDy(batch, idyR, idyC2, d2);\n\n vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n dySample.xy : dySample.zw;\n result.xy += vec2(dot(dyValue, wValue.xy),\n dot(dyValue, wValue.zw));\n\n dyValue = mod(float(idyC2), 2.) == 0. ?\n dySample2.xy : dySample2.zw;\n result.zw += vec2(dot(dyValue, wValue.xy),\n dot(dyValue, wValue.zw));\n }\n } else if (idyCVal) {\n for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n vec4 dySample = getDy(batch, idyR, idyC, d2);\n vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n dySample.xy : dySample.zw;\n result.xy += vec2(dot(dyValue, wValue.xy),\n dot(dyValue, wValue.zw));\n }\n } else if (idyCVal2) {\n for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n vec4 dySample = getDy(batch, idyR, idyC2, d2);\n vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n dySample.xy : dySample.zw;\n result.zw += vec2(dot(dyValue, wValue.xy),\n dot(dyValue, wValue.zw));\n }\n }\n }\n }\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./gpgpu_math":"7KkpX","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hnoCI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3D",function(){return i}),a.export(r,"conv3DConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../conv_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.filter,c=n.strides,u=n.pad,l=n.dilations,p=s.backend_util.computeConv3DInfo(a.shape,i.shape,c,l,u),f=new(0,o.Conv3DProgram)(p);return r.runWebGLProgram(f,[a,i],"float32")}var c={kernelName:s.Conv3D,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../conv_gpu":"bj2DE","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gfQ8P:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropFilterV2",function(){return i}),a.export(r,"conv3DBackpropFilterV2Config",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../conv_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.pad,l=n.filterShape,p=s.backend_util.computeConv3DInfo(a.shape,l,c,1,u),f=new(0,o.Conv3DDerFilterProgram)(p);return r.runWebGLProgram(f,[a,i],"float32")}var c={kernelName:s.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../conv_backprop_gpu":"cBAtJ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4D4Fc":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropInput",function(){return i}),a.export(r,"conv3DBackpropInputConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../conv_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.filter,c=n.pad,u=n.strides,l=n.inputShape,p=s.backend_util.computeConv3DInfo(l,i.shape,u,1,c),f=new(0,o.Conv3DDerInputProgram)(p);return r.runWebGLProgram(f,[a,i],"float32")}var c={kernelName:s.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../conv_backprop_gpu":"cBAtJ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9tLmT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cos",function(){return l}),a.export(r,"cosConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_packed_gpu"),i=e("../kernel_utils/kernel_funcs_utils"),c=i.CHECK_NAN_SNIPPET_UNARY+"\n return cos(x);\n",u="\n vec4 result = cos(x);\n bvec4 isNaN = isnan(x);\n ".concat(o.CHECK_NAN_SNIPPET_PACKED,"\n return result;\n"),l=(0,i.unaryKernelFunc)({opSnippet:c,packedOpSnippet:u}),p={kernelName:s.Cos,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_packed_gpu":"hSRNa","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iF5ag:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cosh",function(){return o}),a.export(r,"coshConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n float e2x = exp(-x);\n return (e2x + 1.0 / e2x) / 2.0;\n"}),i={kernelName:s.Cosh,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],antt7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cropAndResize",function(){return i}),a.export(r,"cropAndResizeConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../crop_and_resize_gpu"),i=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.image,s=t.boxes,i=t.boxInd,c=n.cropSize,u=n.method,l=n.extrapolationValue,p=new(0,o.CropAndResizeProgram)(a.shape,s.shape,c,u,l);return r.runWebGLProgram(p,[a,s,i],"float32")},c={kernelName:s.CropAndResize,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../crop_and_resize_gpu":"epBO3","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],epBO3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CropAndResizeProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,s._)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var c=(0,o._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3],d=(0,o._)(r,1)[0],h=(0,o._)(n,2),m=h[0],g=h[1];this.outputShape=[d,m,g,f];var v=["".concat(l-1,".0"),"".concat(p-1,".0")],_=v[0],x=v[1],y=(0,o._)(m>1?["".concat((l-1)/(m-1)),"(y2-y1) * height_ratio","y1*".concat(_," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(_)],3),b=y[0],k=y[1],j=y[2],w=(0,o._)(g>1?["".concat((p-1)/(g-1)),"(x2-x1) * width_ratio","x1*".concat(x," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(x)],3),I=w[0],T=w[1],S=w[2];this.userCode="\n const float height_ratio = float(".concat(b,");\n const float width_ratio = float(").concat(I,");\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int y = coords[1];\n int x = coords[2];\n int d = coords[3];\n\n // get box vals\n float y1 = getBoxes(b,0);\n float x1 = getBoxes(b,1);\n float y2 = getBoxes(b,2);\n float x2 = getBoxes(b,3);\n\n // get image in batch index\n int bInd = round(getBoxInd(b));\n if(bInd< 0 || bInd >= ").concat(u,") {\n return;\n }\n\n float height_scale = ").concat(k,";\n float width_scale = ").concat(T,";\n\n float in_y = ").concat(j,";\n if( in_y< 0.0 || in_y >").concat(_," ) {\n setOutput(float(").concat(i,"));\n return;\n }\n float in_x = ").concat(S,";\n if( in_x< 0.0 || in_x >").concat(x," ) {\n setOutput(float(").concat(i,"));\n return;\n }\n\n vec2 sourceFracIndexCR = vec2(in_x,in_y);\n if(").concat(+("bilinear"===a)," == 1) {\n // Compute the four integer indices.\n ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n float top = topLeft + (topRight - topLeft) * fracCR.x;\n float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n float newValue = top + (bottom - top) * fracCR.y;\n setOutput(newValue);\n } else {\n // Compute the coordinators of nearest neighbor point.\n ivec2 sourceNearestCR = ivec2(floor(\n sourceFracIndexCR + vec2(0.5,0.5)));\n float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n setOutput(newValue);\n }\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],l8BOR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumprod",function(){return c}),a.export(r,"cumprodConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cum_gpu"),i=e("./Cum_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.axis,c=n.exclusive,u=n.reverse;return(0,i.cumImpl)(o.CumOpType.Prod,a,r,s,c,u)}var u={kernelName:s.Cumprod,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cum_gpu":"gNS4i","./Cum_impl":"lrxMB","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gNS4i:[function(e,t,r,n){var a,s,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CumOpType",function(){return s}),o.export(r,"CumProgram",function(){return u});var i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("./shader_compiler");(a=s||(s={})).Prod="*",a.Sum="+";var u=function e(t,r,n,a){"use strict";(0,i._)(this,e),this.op=t,this.outputShape=r,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var o=this.outputShape.length,u=this.op===s.Prod?"1.0":"0.0",f=n?u:"getX(".concat(l(o,"coords",this.op),")"),d=this.outputShape[this.outputShape.length-1],h="",m="";n?(h=a?"end != ".concat(d-1):"end != 0",m=a?"end + 1":"end - 1"):(h=a?"end + pow2< ".concat(d):"end >= pow2",m=a?"end + pow2":"end - pow2"),this.userCode="\n void main() {\n ".concat((0,c.getCoordsDataType)(o)," coords = getOutputCoords();\n int end = ").concat(p(o,"coords",this.op),";\n float val = ").concat(f,";\n int pow2 = int(pow(2.0, index));\n if (").concat(h,") {\n int idx = ").concat(m,";\n ").concat(p(o,"coords",this.op)," = idx;\n val ").concat(this.op,"= getX(").concat(l(o,"coords",this.op),");\n }\n setOutput(val);\n }\n ")};function l(e,t,r){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw Error("Cumulative ".concat(r," for rank ").concat(e," is not yet supported"))}function p(e,t,r){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw Error("Cumulative ".concat(r," for rank ").concat(e," is not yet supported"))}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lrxMB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumImpl",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cum_gpu"),i=e("./Identity"),c=e("./Transpose");function u(e,t,r,n,a,u){var l=t.shape.length,p=s.backend_util.getAxesPermutation([n],l),f=t;null!=p&&(f=(0,c.transpose)({inputs:{x:t},backend:r,attrs:{perm:p}}));var d=s.backend_util.getInnerMostAxes(1,l)[0];if(d!==l-1)throw Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(n));for(var h=f.shape[d],m=(0,i.identity)({inputs:{x:f},backend:r}),g=0;g<=Math.ceil(Math.log2(h))-1;g++){var v=new(0,o.CumProgram)(e,f.shape,!1,u),_=[[g]],x=m;m=r.runWebGLProgram(v,[m],m.dtype,_),r.disposeIntermediateTensorInfo(x)}if(a){var y=new(0,o.CumProgram)(e,f.shape,a,u),b=m;m=r.runWebGLProgram(y,[m],m.dtype),r.disposeIntermediateTensorInfo(b)}if(null!=p){var k=s.backend_util.getUndoAxesPermutation(p),j=(0,c.transpose)({inputs:{x:m},backend:r,attrs:{perm:k}});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(f),j}return m}},{"@tensorflow/tfjs-core":"aOH7b","../cum_gpu":"gNS4i","./Identity":"8GOL4","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],avoxh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumsum",function(){return c}),a.export(r,"cumsumConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cum_gpu"),i=e("./Cum_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.axis,c=n.exclusive,u=n.reverse;return(0,i.cumImpl)(o.CumOpType.Sum,a,r,s,c,u)}var u={kernelName:s.Cumsum,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cum_gpu":"gNS4i","./Cum_impl":"lrxMB","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],h3ykr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"denseBincount",function(){return i}),a.export(r,"denseBincountConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.weights,i=n.size,c=n.binaryOutput;if(1===a.shape.length){var u=r.readSync(a.dataId),l=r.readSync(s.dataId),p=(0,o.bincountImplCPU)(u,l,s.dtype,s.shape,i);return r.makeTensorInfo([i],s.dtype,p)}if(2===a.shape.length){var f=r.bufferSync(a),d=r.bufferSync(s),h=(0,o.bincountReduceImplCPU)(f,d,i,c);return r.makeTensorInfo(h.shape,s.dtype,h.values)}throw Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}var c={kernelName:s.DenseBincount,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6pHmt":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthToSpace",function(){return i}),a.export(r,"depthToSpaceConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../depth_to_space_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.blockSize,i=n.dataFormat,c=a.shape[0],u="NHWC"===i?a.shape[1]:a.shape[2],l="NHWC"===i?a.shape[2]:a.shape[3],p="NHWC"===i?a.shape[3]:a.shape[1],f=u*s,d=l*s,h=p/(s*s),m=new(0,o.DepthToSpaceProgram)("NHWC"===i?[c,f,d,h]:[c,h,f,d],s,i);return r.runWebGLProgram(m,[a],a.dtype)}var c={kernelName:s.DepthToSpace,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../depth_to_space_gpu":"4NVEN","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4NVEN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DepthToSpaceProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_create_class.cjs"),i=function(){"use strict";function e(t,r,n){(0,s._)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=r,this.dataFormat=n,this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int h = ".concat(this.getHeightCoordString(),";\n int w = ").concat(this.getWidthCoordString(),";\n int d = ").concat(this.getDepthCoordString(),";\n\n int in_h = h / ").concat(r,";\n int offset_h = imod(h, ").concat(r,");\n int in_w = w / ").concat(r,";\n int offset_w = imod(w, ").concat(r,");\n int offset_d = (offset_h * ").concat(r," + offset_w) *\n ").concat(this.getOutputDepthSize(),";\n int in_d = d + offset_d;\n\n float result = ").concat(this.getInputSamplingString(),";\n setOutput(result);\n }\n ")}return(0,o._)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"64Ltp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNative",function(){return c}),a.export(r,"depthwiseConv2dNativeConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../conv_gpu_depthwise"),i=e("../conv_packed_gpu_depthwise");function c(e){var t,r=e.inputs,n=e.backend,a=e.attrs,c=r.x,u=r.filter,l=a.strides,p=a.pad,f=a.dilations,d=a.dimRoundingMode,h=f;null==h&&(h=[1,1]),s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(l,h),function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(h,"'")});var m=s.backend_util.computeConv2DInfo(c.shape,u.shape,l,h,p,d,!0);t=(0,s.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&m.strideWidth<=2&&m.outChannels/m.inChannels==1?new(0,i.DepthwiseConvPacked2DProgram)(m):new(0,o.DepthwiseConv2DProgram)(m);var g=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]];return n.runWebGLProgram(t,[c,u],"float32",g)}var u={kernelName:s.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../conv_gpu_depthwise":"dtw9U","../conv_packed_gpu_depthwise":"2vGSW","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dtw9U:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DepthwiseConv2DProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./gpgpu_math"),i=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,s._)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=(0,o.useShapeUniforms)(this.outputShape.length);var c=t.filterHeight,u=t.filterWidth,l=t.outChannels/t.inChannels,p="",f="";n&&(p=a?"float activation(float a) {\n float b = getPreluActivationWeightsAtOutCoords();\n ".concat(n,"\n }"):i?"float activation(float a) {\n float b = getLeakyreluAlphaAtOutCoords();\n ".concat(n,"\n }"):"\n float activation(float x) {\n ".concat(n,"\n }\n "),f="result = activation(result);"),r&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n ".concat(p,"\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords.x;\n ivec2 xRCCorner = coords.yz * strides - pads;\n int d2 = coords.w;\n int d1 = d2 / ").concat(l,";\n int q = d2 - d1 * ").concat(l,";\n\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n for (int wR = 0; wR< ").concat(c,"; wR++) {\n int xR = xRCorner + wR * dilations[0];\n\n if (xR < 0 || xR >= inDims[0]) {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(u,"; wC++) {\n int xC = xCCorner + wC * dilations[1];\n\n if (xC < 0 || xC >= inDims[1]) {\n continue;\n }\n\n float xVal = getX(batch, xR, xC, d1);\n float wVal = getW(wR, wC, d1, q);\n dotProd += xVal * wVal;\n }\n }\n\n float result = dotProd;\n ").concat(r?"result += getBiasAtOutCoords();":"","\n ").concat(f,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./gpgpu_math":"7KkpX","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2vGSW":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DepthwiseConvPacked2DProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./gpgpu_math"),c=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,s._)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);for(var u=t.outChannels/t.inChannels,l=t.padInfo.left,p=t.strideWidth,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,m="\n int xR; int xC; int xCOffset;\n vec4 wTexel; vec4 previous; vec4 final;",g=0;g<h;g++)m+="\n vec4 xTexelC".concat(2*g,";\n int xTexelC").concat(2*g,"Ready;\n vec4 xTexelC").concat(2*g+1,";\n int xTexelC").concat(2*g+1,"Ready;\n vec4 xC").concat(g,";");m+="\n for (int r = 0; r < ".concat(d,"; r++) {\n ");for(var v=0;v<h;v++)m+="\n xTexelC".concat(2*v," = vec4(0.0);\n xTexelC").concat(2*v,"Ready = 0;\n xTexelC").concat(2*v+1," = vec4(0.0);\n xTexelC").concat(2*v+1,"Ready = 0;\n xC").concat(v," = vec4(0.0);");m+="\n xR = xRCorner + r * dilations[0];\n if (xR >=0 && xR< inDims[0]) {\n ";for(var _=0;_<(h+1)/2;_++){var x=2*_;if(m+="\n xC = xCCorner + ".concat(x*f,";\n "),1===p){if(x<h&&(l%2==1?(m+="\n xCOffset = xC + 1;\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC".concat(x,"Ready == 0) {\n xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x,".zw = vec2(0.0);\n }\n xTexelC").concat(x,"Ready = 1;\n }\n "),1===f&&x>0?m+="\n xC".concat(x," = vec4(xTexelC").concat(x-2,".zw, xTexelC").concat(x,".xy);\n "):m+="\n xCOffset = xC + 1 - 2;\n\n if (xCOffset >= 0 && xCOffset< inDims[1]) {\n previous = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n previous.zw = vec2(0.0);\n }\n\n xC".concat(x," = vec4(previous.zw, xTexelC").concat(x,".xy);\n } else {\n xC").concat(x," = vec4(0.0, 0.0, xTexelC").concat(x,".xy);\n }\n ")):m+="\n if (xC >= 0 && xC< inDims[1] && xTexelC".concat(x,"Ready == 0) {\n xTexelC").concat(x," = getX(batch, xR, xC, d1);\n if (xC + 1 >= inDims[1]) {\n xTexelC").concat(x,".zw = vec2(0.0);\n }\n xTexelC").concat(x,"Ready = 1;\n }\n\n xC").concat(x," = xTexelC").concat(x,";\n "),x+1<h)){var y=l%2==0?o.util.nearestLargerEven(f):f;f%2==0&&l%2==1||f%2!=0&&l%2!=1?(m+="\n xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x+1,".zw = vec2(0.0);\n }\n xTexelC").concat(x+1,"Ready = 1;\n }\n "),f>1?m+="\n xCOffset -= 2;\n if (xCOffset >= 0 && xCOffset< inDims[1]) {\n previous = getX(batch, xR, xCOffset, d1);\n xC".concat(x+1," = vec4(previous.zw, xTexelC").concat(x+1,".xy);\n } else {\n xC").concat(x+1," = vec4(0.0, 0.0, xTexelC").concat(x+1,".xy);\n }\n "):m+="\n xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".xy);\n ")):1===y?m+="\n xC".concat(x+1," = xTexelC").concat(x,";\n "):m+="\n xCOffset = xC + ".concat(y,";\n\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x+1,".zw = vec2(0.0);\n }\n xTexelC").concat(x+1,"Ready = 1;\n }\n\n xC").concat(x+1," = xTexelC").concat(x+1,";\n ")}}else x<h&&(l%2==1?(m+="\n xCOffset = xC + 1 - strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1] && xTexelC".concat(x,"Ready == 0) {\n xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x,".zw = vec2(0.0);\n }\n xTexelC").concat(x,"Ready = 1;\n }\n\n if(xC + 1 >= 0 && xC + 1< inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n xTexelC").concat(x+1," = getX(batch, xR, xC + 1, d1);\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xC + 2 >= inDims[1]) {\n xTexelC").concat(x+1,".zw = vec2(0.0);\n }\n xTexelC").concat(x+1,"Ready = 1;\n }\n\n xC").concat(x," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n "),x+1<h&&(m+="\n final = vec4(0.0);\n xCOffset = xC + 1 + strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1]) {\n final = getX(batch, xR, xCOffset, d1);\n }\n xC".concat(x+1," = vec4(xTexelC").concat(x+1,".xy, final.xy);\n "))):(m+="\n if(xC >= 0 && xC< inDims[1] && xTexelC".concat(x,"Ready == 0) {\n xTexelC").concat(x," = getX(batch, xR, xC, d1);\n if (xC + 1 >= inDims[1]) {\n xTexelC").concat(x,".zw = vec2(0.0);\n }\n xTexelC").concat(x,"Ready = 1;\n }\n\n xCOffset = xC + strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x+1,".zw = vec2(0.);\n }\n xTexelC").concat(x+1,"Ready = 1;\n }\n\n xC").concat(x," = vec4(\n xTexelC").concat(x,".xy, xTexelC").concat(x+1,".xy);\n "),x+1<h&&(m+="\n xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n "))));x<h&&(m+="\n wTexel = getW(r, ".concat(x,", d1, q);\n dotProd += xC").concat(x," * vec4(wTexel.xz, wTexel.xz);\n "),x+1<h&&(m+="\n wTexel = getW(r, ".concat(x+1,", d1, q);\n dotProd += xC").concat(x+1," * vec4(wTexel.xz, wTexel.xz);\n ")))}m+="\n }\n ",m+="\n }\n ";var b="",k="";n&&(b=a?"vec4 activation(vec4 a) {\n vec4 b = getPreluActivationWeightsAtOutCoords();\n ".concat(n,"\n }"):c?"vec4 activation(vec4 a) {\n vec4 b = getLeakyreluAlphaAtOutCoords();\n ".concat(n,"\n }"):"vec4 activation(vec4 x) {\n ".concat(n,"\n }"),k="result = activation(result);"),r&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n ".concat(b,"\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords.x;\n ivec2 xRCCorner = coords.yz * strides - pads;\n int d2 = coords.w;\n int d1 = d2 / ").concat(u,";\n int q = d2 - d1 * ").concat(u,";\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n vec4 dotProd = vec4(0.000000000000001);\n\n ").concat(m,"\n\n vec4 result = dotProd - vec4(0.000000000000001);\n ").concat(r?"result += getBiasAtOutCoords();":"","\n ").concat(k,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","./gpgpu_math":"7KkpX","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5rCsQ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropFilter",function(){return i}),a.export(r,"depthwiseConv2dNativeBackpropFilterConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../conv_backprop_gpu_depthwise");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.dilations,l=n.pad,p=n.dimRoundingMode,f=n.filterShape,d=s.backend_util.computeConv2DInfo(a.shape,f,c,u,l,p,!0),h=new(0,o.DepthwiseConv2DDerFilterProgram)(d);return r.runWebGLProgram(h,[a,i],"float32")}var c={kernelName:s.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../conv_backprop_gpu_depthwise":"eudmZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eudmZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DepthwiseConv2DDerFilterProgram",function(){return o}),a.export(r,"DepthwiseConv2DDerInputProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var r=t.strideHeight,n=t.strideWidth,a=t.padInfo.top,o=t.padInfo.left,i=t.outChannels/t.inChannels;this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int wR = coords.x;\n int wC = coords.y;\n int d1 = coords.z;\n int dm = coords.w;\n int d2 = d1 * ".concat(i," + dm;\n\n float dotProd = 0.0;\n\n // TO DO: Vec4 over the batch size\n for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n int xR = wR + yR * ").concat(r," - ").concat(a,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int yC = 0; yC< ").concat(t.outWidth,"; yC++) {\n int xC = wC + yC * ").concat(n," - ").concat(o,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n float dyValue = getDy(b, yR, yC, d2);\n float xValue = getX(b, xR, xC, d1);\n dotProd += (xValue * dyValue);\n }\n }\n }\n setOutput(dotProd);\n }\n ")},i=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var r=t.filterHeight,n=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i=r-1-t.padInfo.top,c=n-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n const ivec2 pads = ivec2(".concat(i,", ").concat(c,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d1 = coords[3];\n ivec2 dyCorner = coords.yz - pads;\n int dyRCorner = dyCorner.x;\n int dyCCorner = dyCorner.y;\n\n float dotProd = 0.0;\n\n for (int wR = 0; wR< ").concat(r,"; wR++) {\n float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n int wRPerm = ").concat(r," - 1 - wR;\n\n for (int wC = 0; wC< ").concat(n,"; wC++) {\n float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n int wCPerm = ").concat(n," - 1 - wC;\n\n // TO DO: Vec4 over the channelMul\n for (int dm = 0; dm< ").concat(u,"; dm++) {\n int d2 = d1 * ").concat(u," + dm;\n float xValue = getDy(batch, idyR, idyC, d2);\n float wValue = getW(wRPerm, wCPerm, d1, dm);\n dotProd += xValue * wValue;\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dOacj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropInput",function(){return i}),a.export(r,"depthwiseConv2dNativeBackpropInputConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../conv_backprop_gpu_depthwise");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.filter,c=n.strides,u=n.dilations,l=n.pad,p=n.dimRoundingMode,f=n.inputShape,d=s.backend_util.computeConv2DInfo(f,i.shape,c,u,l,p,!0),h=new(0,o.DepthwiseConv2DDerInputProgram)(d);return r.runWebGLProgram(h,[a,i],"float32")}var c={kernelName:s.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../conv_backprop_gpu_depthwise":"eudmZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hnJuE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"diag",function(){return u}),a.export(r,"diagConfig",function(){return l});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../diag_gpu"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=t.x,a=(0,s._)(n.shape).concat((0,s._)(n.shape)),u=o.util.sizeFromShape(n.shape),l=(0,c.reshape)({inputs:{x:n},backend:r,attrs:{shape:[u]}}),p=new(0,i.DiagProgram)(u),f=r.runWebGLProgram(p,[l],l.dtype),d=(0,c.reshape)({inputs:{x:f},backend:r,attrs:{shape:a}});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(f),d}var l={kernelName:o.Diag,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","../diag_gpu":"cdO9W","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cdO9W:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DiagProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n setOutput(val);\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2DoEs":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2D",function(){return c}),a.export(r,"dilation2DConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../dilation_gpu"),i=e("./Reshape");function c(e){var t,r=e.inputs,n=e.backend,a=e.attrs,c=r.x,u=r.filter,l=a.strides,p=a.pad,f=a.dilations,d=s.backend_util.computeDilation2DInfo(c.shape,u.shape,l,p,"NHWC",f),h=new(0,o.Dilation2DProgram)(d);t=n.runWebGLProgram(h,[c,u],"float32");var m=(0,i.reshape)({inputs:{x:t},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(t),m}var u={kernelName:s.Dilation2D,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../dilation_gpu":"cK7cC","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cK7cC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Dilation2DProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var r=t.inHeight,n=t.inWidth,a=t.padInfo,o=t.strideHeight,i=t.strideWidth,c=t.filterHeight,u=t.filterWidth,l=t.dilationHeight,p=t.dilationWidth,f=a.top,d=a.left;this.userCode="\n const ivec2 strides = ivec2(".concat(o,", ").concat(i,");\n const ivec2 pads = ivec2(").concat(f,", ").concat(d,");\n const float neg_infinity = -3.4e38;\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords.x;\n int d1 = coords.w;\n ivec2 outTopLeftCorner =\n coords.yz * strides - pads;\n int hBeg = outTopLeftCorner.x;\n int wBeg = outTopLeftCorner.y;\n\n float curVal = neg_infinity;\n for (int h = 0; h < ").concat(c,"; h++) {\n int hIn = hBeg + h * ").concat(l,";\n\n if (hIn >= 0 && hIn< ").concat(r,") {\n for (int w = 0; w < ").concat(u,"; w++) {\n int wIn = wBeg + w * ").concat(p,";\n\n if (wIn >= 0 && wIn< ").concat(n,") {\n float xVal = getX(batch, hIn, wIn, d1);\n float wVal = getW(h, w, d1);\n\n float val = xVal + wVal;\n if (val >curVal) {\n curVal = val;\n }\n }\n }\n }\n }\n\n float result = curVal;\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3x287":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"einsum",function(){return l}),a.export(r,"einsumConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("./Multiply"),i=e("./Reshape"),c=e("./Sum"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs.equation,a=s.backend_util.decodeEinsumEquation(n,t.length),l=a.allDims,p=a.summedDims,f=a.idDims;s.backend_util.checkEinsumDimSizes(l.length,f,t);for(var d=s.backend_util.getEinsumComputePath(p,f),h=d.path,m=d.steps,g=m.length,v=null,_=l.length,x=[],y=0;y<g;++y){var b=!0,k=!1,j=void 0;try{for(var w,I=m[y][Symbol.iterator]();!(b=(w=I.next()).done);b=!0){var T=w.value,S=s.backend_util.getEinsumPermutation(_,f[T]),N=S.permutationIndices,M=S.expandDims,C=void 0;s.backend_util.isIdentityPermutation(N)?C=t[T]:(C=(0,u.transpose)({inputs:{x:t[T]},backend:r,attrs:{perm:N}}),x.push(C));for(var E=C.shape.slice(),F=0;F<M.length;++F)E.splice(M[F],0,1);s.util.arraysEqual(C.shape,E)||(C=(0,i.reshape)({inputs:{x:C},backend:r,attrs:{shape:E}}),x.push(C)),null===v?v=C:(v=(0,o.multiply)({inputs:{a:C,b:v},backend:r}),x.push(v))}}catch(e){k=!0,j=e}finally{try{b||null==I.return||I.return()}finally{if(k)throw j}}y<g-1&&(h[y]>=0&&(v=(0,c.sum)({inputs:{x:v},backend:r,attrs:{axis:h[y]-(l.length-_),keepDims:!1}}),x.push(v)),_--)}var A=!0,R=!1,P=void 0;try{for(var O,D=x[Symbol.iterator]();!(A=(O=D.next()).done);A=!0){var B=O.value;B!==v&&r.disposeIntermediateTensorInfo(B)}}catch(e){R=!0,P=e}finally{try{A||null==D.return||D.return()}finally{if(R)throw P}}return v}var p={kernelName:s.Einsum,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","./Multiply":"hIm8x","./Reshape":"65neR","./Sum":"6Fx5y","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kFBIo:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"eluConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n vec4 result;\n\n result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n return result;\n"}),i={kernelName:s.Elu,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"42tDp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"eluGrad",function(){return c}),a.export(r,"eluGradConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c=function(e){var t=e.inputs,r=e.backend,n=t.dy,a=t.y,c=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new(0,i.BinaryOpPackedProgram)("\n vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",n.shape,a.shape):new(0,o.BinaryOpProgram)("return (b >= 0.0) ? a : a * (b + 1.0);",n.shape,a.shape);return r.runWebGLProgram(c,[n,a],n.dtype)},u={kernelName:s.EluGrad,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_gpu":"khC4O","../binaryop_packed_gpu":"hSRNa","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ai7Hy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"equal",function(){return c}),a.export(r,"equalConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,o.binaryKernelFunc)({opSnippet:"return float(a == b);",packedOpSnippet:"\n return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:i.equalImplCPU}),u={kernelName:s.Equal,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],LM2OA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"erf",function(){return c}),a.export(r,"erfConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i='\n // Error function is calculated approximately with elementary function.\n // See "Handbook of Mathematical Functions with Formulas,\n // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n float p = '.concat(s.backend_util.ERF_P,";\n float a1 = ").concat(s.backend_util.ERF_A1,";\n float a2 = ").concat(s.backend_util.ERF_A2,";\n float a3 = ").concat(s.backend_util.ERF_A3,";\n float a4 = ").concat(s.backend_util.ERF_A4,";\n float a5 = ").concat(s.backend_util.ERF_A5,";\n\n float sign = sign(x);\n x = abs(x);\n float t = 1.0 / (1.0 + p * x);\n return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n"),c=(0,o.unaryKernelFunc)({opSnippet:i}),u={kernelName:s.Erf,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2d63c":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EXP",function(){return c}),a.export(r,"exp",function(){return u}),a.export(r,"expConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=o.CHECK_NAN_SNIPPET_UNARY+"\n return exp(x);\n",u=(0,o.unaryKernelFunc)({opSnippet:c,packedOpSnippet:"\n vec4 result = exp(x);\n bvec4 isNaN = isnan(x);\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n",cpuKernelImpl:i.expImplCPU,dtype:"float32"}),l={kernelName:s.Exp,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5YiyO":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expandDims",function(){return i}),a.export(r,"expandDimsConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Reshape");function i(e){var t=e.inputs,r=e.attrs,n=e.backend,a=r.dim,i=t.input,c=i.shape.length,u=i.shape.slice(),l=a;return a<0&&(s.util.assert(-(c+1)<=a,function(){return"Axis must be in the interval [".concat(-(c+1),", ").concat(c,"]")}),l=c+a+1),u.splice(l,0,1),(0,o.reshape)({inputs:{x:i},backend:n,attrs:{shape:u}})}var c={kernelName:s.ExpandDims,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bQRHY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expm1",function(){return u}),a.export(r,"expm1Config",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return exp(x) - 1.0;",u=(0,o.unaryKernelFunc)({opSnippet:c,packedOpSnippet:c,cpuKernelImpl:i.expm1ImplCPU}),l={kernelName:s.Expm1,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"645KO":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fft",function(){return i}),a.export(r,"fftConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./FFT_impl");function i(e){var t=e.inputs,r=e.backend,n=t.input;return(0,o.fftImpl)(n,!1,r)}var c={kernelName:s.FFT,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./FFT_impl":"cyyJ3","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cyyJ3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fftImpl",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../fft_gpu"),i=e("./Complex"),c=e("./Reshape");function u(e,t,r){var n=r.texData.get(e.dataId),a=s.util.sizeFromShape(e.shape),u=e.shape[e.shape.length-1],l=(0,c.reshape)({inputs:{x:e},backend:r,attrs:{shape:[a/u,u]}}),p=l.shape,f=new(0,o.FFTProgram)("real",p,t),d=new(0,o.FFTProgram)("imag",p,t),h=[{dataId:n.complexTensorInfos.real.dataId,dtype:n.complexTensorInfos.real.dtype,shape:p},{dataId:n.complexTensorInfos.imag.dataId,dtype:n.complexTensorInfos.imag.dtype,shape:p}],m=r.runWebGLProgram(f,h,"float32"),g=r.runWebGLProgram(d,h,"float32"),v=(0,i.complex)({inputs:{real:m,imag:g},backend:r});r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g);var _=(0,c.reshape)({inputs:{x:v},backend:r,attrs:{shape:e.shape}});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(v),_}},{"@tensorflow/tfjs-core":"aOH7b","../fft_gpu":"dAbkT","./Complex":"lTWvu","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dAbkT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FFTProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["real","imag"];var a,o=r[1];this.outputShape=r;var i=n?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),c=n?"".concat(o,".0"):"1.0";if("real"===t)a="return real * expR - imag * expI;";else if("imag"===t)a="return real * expI + imag * expR;";else throw Error('FFT component must be either "real" or "imag", got '.concat(t,"."));this.userCode="\n const float exponentMultiplier = ".concat(i,";\n\n float unaryOpComplex(float real, float expR, float imag, float expI) {\n ").concat(a,"\n }\n\n float mulMatDFT(int batch, int index) {\n float indexRatio = float(index) / float(").concat(o,");\n float exponentMultiplierTimesIndexRatio =\n exponentMultiplier * indexRatio;\n\n float result = 0.0;\n\n for (int i = 0; i < ").concat(o,"; i++) {\n // x = (-2|2 * PI / N) * index * i;\n float x = exponentMultiplierTimesIndexRatio * float(i);\n float expR = cos(x);\n float expI = sin(x);\n float real = getReal(batch, i);\n float imag = getImag(batch, i);\n\n result +=\n unaryOpComplex(real, expR, imag, expI) / ").concat(c,";\n }\n\n return result;\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n setOutput(mulMatDFT(coords[0], coords[1]));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kk0tE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fill",function(){return i}),a.export(r,"fillConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../fill_gpu");function i(e){var t=e.backend,r=e.attrs,n=r.shape,a=r.value,i=r.dtype;if("string"===(i=i||s.util.inferDtype(a))){var c=s.util.getArrayFromDType(i,s.util.sizeFromShape(n));return c.fill(a),t.makeTensorInfo(n,i,c)}var u=new(0,o.FillProgram)(n,a),l=[[a]];return t.runWebGLProgram(u,[],i,l)}var c={kernelName:s.Fill,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../fill_gpu":"4XYA0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4XYA0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FillProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r){"use strict";(0,s._)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n void main() {\n // Input can be obtained from uniform value.\n setOutput(value);\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"220Le":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"flipLeftRightConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=e("../flip_left_right_gpu"),i={kernelName:s.FlipLeftRight,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t.image,a=new(0,o.FlipLeftRightProgram)(n.shape);return r.runWebGLProgram(a,[n],n.dtype)}}},{"@tensorflow/tfjs-core":"aOH7b","../flip_left_right_gpu":"avzwp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],avzwp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FlipLeftRightProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["Image"],this.outputShape=[];var r=t[2];this.outputShape=t,this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int x = coords[2];\n\n int coordX = ".concat(r," - x - 1;\n float outputValue;\n if(coordX >= 0 && coordX< ").concat(r,") {\n outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n } else {\n outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n }\n setOutput(outputValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7tgdv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floor",function(){return u}),a.export(r,"floorConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return floor(x);",u=(0,o.unaryKernelFunc)({opSnippet:c,packedOpSnippet:c,cpuKernelImpl:i.floorImplCPU}),l={kernelName:s.Floor,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dOvnI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floorDiv",function(){return o}),a.export(r,"floorDivConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").binaryKernelFunc)({opSnippet:"\n float s = sign(a) * sign(b);\n int ia = round(a);\n int ib = round(b);\n if (ib != 0) {\n // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n return float(idiv(ia, ib, s));\n } else {\n return NAN;\n }\n",packedOpSnippet:"\n ivec4 ia = round(a);\n ivec4 ib = round(b);\n bvec4 cond = notEqual(ib, ivec4(0));\n ivec4 result = ivec4(0);\n vec4 s = sign(a) * sign(b);\n\n // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n if (cond[0]) {\n result[0] = idiv(ia[0], ib[0], s[0]);\n }\n if (cond[1]) {\n result[1] = idiv(ia[1], ib[1], s[1]);\n }\n if (cond[2]) {\n result[2] = idiv(ia[2], ib[2], s[2]);\n }\n if (cond[3]) {\n result[3] = idiv(ia[3], ib[3], s[3]);\n }\n return vec4(result);\n",dtype:"int32"}),i={kernelName:s.FloorDiv,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lsbT5:[function(e,t,r,n){var a,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"fromPixelsConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("@tensorflow/tfjs-core"),c=e("../tex_util"),u=e("./FromPixels_utils/from_pixels_gpu"),l=e("./FromPixels_utils/from_pixels_packed_gpu"),p={kernelName:i.FromPixels,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,s=t.pixels,p=n.numChannels,d="undefined"!=typeof HTMLVideoElement&&s instanceof HTMLVideoElement,h="undefined"!=typeof HTMLImageElement&&s instanceof HTMLImageElement,m=(0,o._)(d?[s.videoWidth,s.videoHeight]:[s.width,s.height],2),g=m[0],v=m[1],_=[v,g],x=[v,g,p];if(h||d){var y=(0,i.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(null==a||y!==f)&&(f=y,a=document.createElement("canvas").getContext("2d",{willReadFrequently:f})),a.canvas.width=g,a.canvas.height=v,a.drawImage(s,0,0,g,v),s=a.canvas}var b=r.makeTensorInfo(_,"int32");r.texData.get(b.dataId).usage=c.TextureUsage.PIXELS,r.gpgpu.uploadPixelDataToTexture(r.getTexture(b.dataId),s);var k=(0,i.env)().getBool("WEBGL_PACK")?new(0,l.FromPixelsPackedProgram)(x):new(0,u.FromPixelsProgram)(x),j=r.runWebGLProgram(k,[b],"int32");return r.disposeData(b.dataId),j}},f=(0,i.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU")},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../tex_util":"fRKpU","./FromPixels_utils/from_pixels_gpu":"c5HQO","./FromPixels_utils/from_pixels_packed_gpu":"19fMP","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],c5HQO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FromPixelsProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("../../glsl_version"),c=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["A"];var r=(0,i.getGlslDifferences)(),n=(0,o._)(t,2),a=n[0],c=n[1];this.outputShape=t,this.userCode="\n void main() {\n ivec3 coords = getOutputCoords();\n int texR = coords[0];\n int texC = coords[1];\n int depth = coords[2];\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(c,".0, ").concat(a,".0);\n\n vec4 values = ").concat(r.texture2D,"(A, uv);\n float value;\n if (depth == 0) {\n value = values.r;\n } else if (depth == 1) {\n value = values.g;\n } else if (depth == 2) {\n value = values.b;\n } else if (depth == 3) {\n value = values.a;\n }\n\n setOutput(floor(value * 255.0 + 0.5));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../glsl_version":"7QlJN","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"19fMP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FromPixelsPackedProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("../../glsl_version"),c=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=(0,i.getGlslDifferences)(),n=(0,o._)(t,2),a=n[0],c=n[1];this.outputShape=t,this.userCode="\n void main() {\n ivec3 coords = getOutputCoords();\n int texR = coords[0];\n int texC = coords[1];\n int depth = coords[2];\n\n vec4 result = vec4(0.);\n\n for(int row=0; row<=1; row++) {\n for(int col=0; col<=1; col++) {\n texC = coords[1] + row;\n depth = coords[2] + col;\n\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(".concat(c,".0, ").concat(a,".0);\n vec4 values = ").concat(r.texture2D,"(A, uv);\n float value;\n if (depth == 0) {\n value = values.r;\n } else if (depth == 1) {\n value = values.g;\n } else if (depth == 2) {\n value = values.b;\n } else if (depth == 3) {\n value = values.a;\n }\n\n result[row * 2 + col] = floor(value * 255.0 + 0.5);\n }\n }\n\n ").concat(r.output," = result;\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","../../glsl_version":"7QlJN","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ayURj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fusedConv2d",function(){return p}),a.export(r,"fusedConv2DConfig",function(){return f});var s=e("@tensorflow/tfjs-core"),o=e("../conv_gpu"),i=e("../conv_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=e("./Conv2D_impl"),l=e("./Reshape");function p(e){var t,r=e.inputs,n=e.backend,a=e.attrs,p=r.x,f=r.filter,d=r.bias,h=r.preluActivationWeights,m=a.strides,g=a.pad,v=a.dataFormat,_=a.dilations,x=a.dimRoundingMode,y=a.activation,b=a.leakyreluAlpha,k=s.backend_util.convertConv2DDataFormat(v),j=s.backend_util.computeConv2DInfo(p.shape,f.shape,m,_,g,x,!1,k),w=[],I=null!=d,T=null!=h,S="leakyrelu"===y,N=function(){var e=[p,f],t=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var r=(0,l.reshape)({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return w.push(r),r}return e};if(I&&e.push(t(d,v)),T&&e.push(t(h,v)),S){var r=n.makeTensorInfo([],"float32",s.util.createScalarValue(b,"float32"));e.push(r),w.push(r)}return e};if(1===j.filterHeight&&1===j.filterWidth&&1===j.dilationHeight&&1===j.dilationWidth&&1===j.strideHeight&&1===j.strideWidth&&("SAME"===j.padInfo.type||"VALID"===j.padInfo.type))t=(0,u.conv2dByMatMul)({x:p,filter:f,convInfo:j,backend:n,bias:d,activation:y,preluActivationWeights:h,leakyreluAlpha:b});else if(j.strideWidth<=2&&"channelsLast"===k&&(0,s.env)().getBool("WEBGL_EXP_CONV")){var M=y?(0,c.mapActivationToShaderProgram)(y,!0):null,C=new(0,i.Conv2DPackedProgram)(j,I,M,T,S),E=[[j.padInfo.top,j.padInfo.left],[j.strideHeight,j.strideWidth],[j.dilationHeight,j.dilationWidth],[j.inHeight,j.inWidth]],F=N();t=n.runWebGLProgram(C,F,"float32",E)}else if((0,s.env)().getBool("WEBGL_CONV_IM2COL"))t=(0,u.conv2dWithIm2Row)({x:p,filter:f,convInfo:j,backend:n,bias:d,activation:y,preluActivationWeights:h,leakyreluAlpha:b});else{var A=y?(0,c.mapActivationToShaderProgram)(y,!1):null,R=new(0,o.Conv2DProgram)(j,I,A,T,S),P=N();t=n.runWebGLProgram(R,P,"float32")}var O=(0,l.reshape)({inputs:{x:t},backend:n,attrs:{shape:j.outShape}});return w.push(t),w.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),O}var f={kernelName:s.FusedConv2D,backendName:"webgl",kernelFunc:p}},{"@tensorflow/tfjs-core":"aOH7b","../conv_gpu":"bj2DE","../conv_packed_gpu":"cOZV4","../kernel_utils/kernel_funcs_utils":"hHZZj","./Conv2D_impl":"E5JcV","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iBSLJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fusedDepthwiseConv2D",function(){return u}),a.export(r,"fusedDepthwiseConv2DConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../conv_gpu_depthwise"),i=e("../conv_packed_gpu_depthwise"),c=e("../kernel_utils/kernel_funcs_utils");function u(e){var t,r=e.inputs,n=e.backend,a=e.attrs,u=r.x,l=r.filter,p=r.bias,f=r.preluActivationWeights,d=a.strides,h=a.pad,m=a.dilations,g=a.dimRoundingMode,v=a.activation,_=a.leakyreluAlpha,x=[],y=m;null==y&&(y=[1,1]),s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(d,y),function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(d," and dilations '").concat(y,"'")});var b=s.backend_util.computeConv2DInfo(u.shape,l.shape,d,y,h,g,!0),k=(0,s.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels==1,j=v?(0,c.mapActivationToShaderProgram)(v,k):null,w=[u,l],I=null!=p,T=null!=f,S="leakyrelu"===v;if(I&&w.push(p),T&&w.push(f),S){var N=n.makeTensorInfo([],"float32",s.util.createScalarValue(_,"float32"));w.push(N),x.push(N)}t=k?new(0,i.DepthwiseConvPacked2DProgram)(b,I,j,T,S):new(0,o.DepthwiseConv2DProgram)(b,I,j,T,S);var M=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],C=n.runWebGLProgram(t,w,"float32",M);return x.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),C}var l={kernelName:s.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../conv_gpu_depthwise":"dtw9U","../conv_packed_gpu_depthwise":"2vGSW","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"92pGc":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherNd",function(){return l}),a.export(r,"gatherNdConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../gather_nd_gpu"),c=e("../kernel_utils/shared"),u=e("./Reshape");function l(e){var t=e.inputs,r=e.backend,n=t.params,a=t.indices,l=a.shape,p=l[l.length-1],f=o.util.sizeFromShape(n.shape),d=(0,s._)(o.backend_util.prepareAndValidate(n,a),4),h=d[0],m=d[1],g=d[2],v=d[3],_=(0,u.reshape)({inputs:{x:a},backend:r,attrs:{shape:[m,p]}}),x=(0,u.reshape)({inputs:{x:n},backend:r,attrs:{shape:[o.util.sizeFromShape(n.shape)/g,g]}});if(r.shouldExecuteOnCPU([n,a])||"string"===n.dtype){var y=r.readSync(a.dataId),b=r.bufferSync(n),k=(0,c.gatherNdImplCPU)(y,b,n.dtype,m,p,g,v,n.shape,f);return r.makeTensorInfo(h,n.dtype,k.values)}var j=new(0,i.GatherNDProgram)(p,v,[m,g],n.shape),w=r.runWebGLProgram(j,[x,_],x.dtype),I=(0,u.reshape)({inputs:{x:w},backend:r,attrs:{shape:h}});return r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(w),I}var p={kernelName:o.GatherNd,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../gather_nd_gpu":"9Hizq","../kernel_utils/shared":"gN7B4","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9Hizq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GatherNDProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r,n,a){"use strict";(0,s._)(this,e),this.sliceDim=t,this.strides=r,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=n;for(var i=(0,o.getCoordsDataType)(n.length),c="\n int index;",u=0;u<this.sliceDim;u++)c+="\n index = round(getIndices(coords[0], ".concat(u,"));\n out_of_bounds = out_of_bounds || index < 0;\n out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[u],";\n flattenIndex += index * ").concat(this.strides[u],";");this.userCode="\n void main() {\n ".concat(i," coords = getOutputCoords();\n int flattenIndex = 0;\n bool out_of_bounds = false;\n\n ").concat(c,"\n\n setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],c5lq9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherV2",function(){return u}),a.export(r,"gatherV2Config",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../gather_gpu"),i=e("../kernel_utils/shared"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=t.indices,l=n.axis,p=n.batchDims,f=s.util.parseAxisParam(l,a.shape)[0];if((0,s.env)().get("DEBUG"))for(var d=r.readSync(u.dataId),h=a.shape[f],m=0;m<d.length;++m)!function(e){var t=d[e];s.util.assert(t<=h-1&&t>=0,function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(h-1,"]")})}(m);var g=s.backend_util.segment_util.collectGatherOpShapeInfo(a,u,f,p),v=s.util.sizeFromShape(u.shape),_=[],x=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:[g.batchSize,g.outerSize,g.dimSize,g.sliceSize]}}),y=(0,c.reshape)({inputs:{x:u},backend:r,attrs:{shape:[g.batchSize,v/g.batchSize]}});_.push(x),_.push(y);var b=[g.batchSize,g.outerSize,v/g.batchSize,g.sliceSize];if(r.shouldExecuteOnCPU([a,u])||"string"===a.dtype){var k=r.bufferSync(y),j=r.bufferSync(x),w=(0,i.gatherV2ImplCPU)(j,k,b);return _.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.makeTensorInfo(g.outputShape,w.dtype,w.values)}var I=new(0,o.GatherProgram)(x.shape,b),T=r.runWebGLProgram(I,[x,y],x.dtype);_.push(T);var S=(0,c.reshape)({inputs:{x:T},backend:r,attrs:{shape:g.outputShape}});return _.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),S}var l={kernelName:s.GatherV2,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../gather_gpu":"iLq8l","../kernel_utils/shared":"gN7B4","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iLq8l:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GatherProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["A","indices"],this.outputShape=r,this.rank=r.length;var n=(0,o.getCoordsDataType)(this.rank),a=function(e,t){for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[],a=0;a<e.length;a++)2===a?n.push("index"):n.push("".concat(r[a]));return n.join()}(t,0);this.userCode="\n void main() {\n ".concat(n," resRC = getOutputCoords();\n int index = int(getIndices(resRC.x, resRC.z));\n float inBounds = (index >= 0) && (index< ").concat(t[2],") ? 1.0 : 0.0;\n setOutput(inBounds * getA(").concat(a,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],axzw1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greater",function(){return c}),a.export(r,"greaterConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,o.binaryKernelFunc)({opSnippet:"return float(a >b);",packedOpSnippet:"\n return vec4(greaterThan(a, b));\n",cpuKernelImpl:i.greaterImplCPU,dtype:"bool"}),u={kernelName:s.Greater,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jgAmA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greaterEqual",function(){return c}),a.export(r,"greaterEqualConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,o.binaryKernelFunc)({opSnippet:"return float(a >= b);",packedOpSnippet:"\n return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:i.greaterEqualImplCPU}),u={kernelName:s.GreaterEqual,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5gsrx":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ifft",function(){return i}),a.export(r,"ifftConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./FFT_impl");function i(e){var t=e.inputs,r=e.backend,n=t.input;return(0,o.fftImpl)(n,!0,r)}var c={kernelName:s.IFFT,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./FFT_impl":"cyyJ3","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gIaUV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isFinite",function(){return o}),a.export(r,"isFiniteConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),i={kernelName:s.IsFinite,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cYx8p:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isInf",function(){return o}),a.export(r,"isInfConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return float(isinf(x));",dtype:"bool"}),i={kernelName:s.IsInf,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gwxMw:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isNaN",function(){return o}),a.export(r,"isNaNConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return float(isnan(x));",dtype:"bool"}),i={kernelName:s.IsNan,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cApeQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"less",function(){return c}),a.export(r,"lessConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,o.binaryKernelFunc)({opSnippet:"return float(a< b);",packedOpSnippet:"\n return vec4(lessThan(a, b));\n",cpuKernelImpl:i.lessImplCPU,dtype:"bool"}),u={kernelName:s.Less,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4sx0D":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LESS_EQUAL",function(){return c}),a.export(r,"LESS_EQUAL_PACKED",function(){return u}),a.export(r,"lessEqual",function(){return l}),a.export(r,"lessEqualConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return float(a <= b);",u="\n return vec4(lessThanEqual(a, b));\n",l=(0,o.binaryKernelFunc)({opSnippet:c,packedOpSnippet:u,cpuKernelImpl:i.lessEqualImplCPU,dtype:"bool"}),p={kernelName:s.LessEqual,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iiu5u:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"linSpace",function(){return i}),a.export(r,"linSpaceConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared");function i(e){var t=e.backend,r=e.attrs,n=r.start,a=r.stop,s=r.num,i=(0,o.linSpaceImplCPU)(n,a,s);return t.makeTensorInfo([i.length],"float32",i)}var c={kernelName:s.LinSpace,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9En03":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log",function(){return u}),a.export(r,"logConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=o.CHECK_NAN_SNIPPET_UNARY+"\n return x < 0.0 ? 0./0. : log(x);\n",u=(0,o.unaryKernelFunc)({opSnippet:c,packedOpSnippet:"\n vec4 result = log(x);\n bvec4 isNaN = isnan(x);\n result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n return result;\n",cpuKernelImpl:i.logImplCPU}),l={kernelName:s.Log,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4ISTq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log1p",function(){return c}),a.export(r,"log1pConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=o.CHECK_NAN_SNIPPET_UNARY+"\n return log(1.0 + x);\n",c=(0,o.unaryKernelFunc)({opSnippet:i}),u={kernelName:s.Log1p,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],KlLTP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalAnd",function(){return o}),a.export(r,"logicalAndConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").binaryKernelFunc)({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n return vec4(\n vec4(greaterThanEqual(a, vec4(1.0))) *\n vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),i={kernelName:s.LogicalAnd,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iHOuR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalNot",function(){return o}),a.export(r,"logicalNotConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return float(!(x >= 1.0));"}),i={kernelName:s.LogicalNot,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3Rqey":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalOr",function(){return o}),a.export(r,"logicalOrConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").binaryKernelFunc)({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n return min(\n vec4(greaterThanEqual(a, vec4(1.0))) +\n vec4(greaterThanEqual(b, vec4(1.0))),\n vec4(1.0));\n",dtype:"bool"}),i={kernelName:s.LogicalOr,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5676G":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lrn",function(){return c}),a.export(r,"LRNConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../lrn_gpu"),i=e("../lrn_packed_gpu"),c=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.depthRadius,u=n.bias,l=n.alpha,p=n.beta,f=(0,s.env)().getBool("WEBGL_PACK_NORMALIZATION")?new(0,i.LRNPackedProgram)(a.shape,c,u,l,p):new(0,o.LRNProgram)(a.shape,c,u,l,p);return r.runWebGLProgram(f,[a],a.dtype)},u={kernelName:s.LRN,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../lrn_gpu":"6B3aJ","../lrn_packed_gpu":"aVf4e","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6B3aJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LRNProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r,n,a,o){"use strict";(0,s._)(this,e),this.variableNames=["x"],this.outputShape=[];var i,c=t[3]-1;this.outputShape=t;var u="float(".concat(n,") + float(").concat(a,") * sum");i=.5===o?"inversesqrt(".concat(u,")"):1===o?"1.0/(".concat(u,")"):"exp(log(".concat(u,") * float(-").concat(o,"));"),this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int r = coords[1];\n int c = coords[2];\n int d = coords[3];\n float x = getX(b, r, c, d);\n float sum = 0.0;\n for (int j = -".concat(r,"; j<= ").concat(r,"; j++) {\n int idx = d + j;\n if (idx >= 0 && idx<= ").concat(c,") {\n float z = getX(b, r, c, idx);\n sum += z * z;\n }\n }\n float val = x * ").concat(i,";\n setOutput(val);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aVf4e:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LRNPackedProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r,n,a,o){"use strict";(0,s._)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,c=t[3]-1;this.outputShape=t;var u="float(".concat(n,") + float(").concat(a,") * sum");i=.5===o?"inversesqrt(".concat(u,")"):1===o?"1.0/(".concat(u,")"):"exp(log(".concat(u,") * float(-").concat(o,"));"),this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords.x;\n int r = coords.y;\n int c = coords.z;\n int d = coords.w;\n\n bool hasNextCol = d < ".concat(this.outputShape[3],";\n bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n vec4 sum = vec4(0.);\n vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n vec4 xAtOutputCoords = vec4(\n getChannel(xFragAtOutputCoords, vec2(c, d)),\n hasNextCol ?\n getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n hasNextRow ?\n getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n (hasNextRow && hasNextCol) ?\n getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n );\n\n int firstChannel = d - ").concat(r,";\n vec2 cache = vec2(0.);\n if(firstChannel >= 0){\n vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n if(hasNextRow){\n cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n }\n }\n\n ivec2 depth = ivec2(d, d + 1);\n for (int j = - ").concat(r,"; j<= ").concat(r,"; j++) {\n ivec2 idx = depth + j;\n bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(c,"));\n\n bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n if(depthInRange || depthPlusOneInRange){\n vec4 z = vec4(0.);\n vec4 xFragAtCurrentDepth;\n z.xz = cache.xy;\n if(depthPlusOneInRange && hasNextCol){\n xFragAtCurrentDepth = idx.y != d ?\n getX(b, r, c, idx.y) : xFragAtOutputCoords;\n z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n if(hasNextRow){\n z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n }\n }\n cache.xy = z.yw;\n sum += z * z;\n }\n }\n vec4 result = xAtOutputCoords * ").concat(i,";\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7Lmtl":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lrnGrad",function(){return i}),a.export(r,"LRNGradConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../lrn_grad_gpu"),i=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.y,i=t.dy,c=n.depthRadius,u=n.bias,l=n.alpha,p=n.beta,f=new(0,o.LRNGradProgram)(a.shape,c,u,l,p);return r.runWebGLProgram(f,[a,s,i],a.dtype)},c={kernelName:s.LRNGrad,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../lrn_grad_gpu":"bYX85","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bYX85:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LRNGradProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r,n,a,o){"use strict";(0,s._)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=r,this.bias=n,this.alpha=a,this.beta=o,this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int r = coords[1];\n int c = coords[2];\n\n float result = 0.0;\n for (int d = 0; d < ".concat(this.depth,"; ++d) {\n int depthBegin = int(max(0.0, float(d - ").concat(r,")));\n int depthEnd = int(min(float(").concat(this.depth,"),\n float(d + ").concat(r," + 1)));\n\n const int MIN_DEPTH_BEGIN = 0;\n const int MAX_DEPTH_END = ").concat(this.depth,";\n\n float norm = 0.0;\n for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n if (k < depthBegin){\n continue;\n }\n else if (k >= depthBegin && k< depthEnd) {\n norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n }\n else {\n break;\n }\n }\n\n norm = float(").concat(a,") * norm + float(").concat(n,");\n\n for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n if (k < depthBegin){\n continue;\n }\n else if (k >= depthBegin && k< depthEnd){\n float dyi = -2.0 * float(").concat(a,")\n * float(").concat(o,")\n * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n / norm;\n if (k == d) {\n dyi += pow(norm, -1.0 * ").concat(o,");\n }\n if (k == coords[3]) {\n dyi *= getDy(b, r, c, d);\n result += dyi;\n }\n }\n else {\n break;\n }\n }\n }\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bnXWV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"max",function(){return l}),a.export(r,"maxConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("./Max_impl"),u=e("./Transpose_impl");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.reductionIndices,f=a.keepDims,d=l.shape.length,h=o.util.parseAxisParam(p,l.shape),m=h,g=o.backend_util.getAxesPermutation(m,d),v=null!=g,_=n.shouldExecuteOnCPU([l]),x=l;if(v){if(_){for(var y=n.texData.get(x.dataId).values,b=Array(d),k=0;k<b.length;k++)b[k]=l.shape[g[k]];var j=(0,u.transposeImplCPU)(y,l.shape,l.dtype,g,b);x=n.makeTensorInfo(b,l.dtype),n.texData.get(x.dataId).values=j}else x=(0,u.transposeImpl)(l,g,n);m=o.backend_util.getInnerMostAxes(m.length,d)}o.backend_util.assertAxesAreInnerMostDims("max",m,d);var w=(0,s._)(o.backend_util.computeOutAndReduceShapes(x.shape,m),2),I=w[0],T=w[1],S=I;if(f&&(S=o.backend_util.expandShapeToKeepDim(I,h)),_){var N=n.texData.get(x.dataId).values,M=(0,i.maxImplCPU)(N,o.util.sizeFromShape(T),S,l.dtype);t=n.makeTensorInfo(S,l.dtype),n.texData.get(t.dataId).values=M}else t=(0,c.maxImpl)(x,T,S,n);return v&&n.disposeIntermediateTensorInfo(x),t}var p={kernelName:o.Max,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","./Max_impl":"hOtCo","./Transpose_impl":"4U2p6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hOtCo:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxImpl",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/reduce"),i=e("../kernels/Reshape");function c(e,t,r,n){var a=s.util.sizeFromShape(t),c=s.util.sizeFromShape(e.shape),u=(0,i.reshape)({inputs:{x:e},attrs:{shape:[c/a,a]},backend:n}),l=(0,o.reduce)(u,e.dtype,"max",n),p=(0,i.reshape)({inputs:{x:l},attrs:{shape:r},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(l),p}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/reduce":"bBPIE","../kernels/Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4lp7Y":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maximum",function(){return f}),a.export(r,"maximumConfig",function(){return d});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=e("../kernel_utils/shared"),l=o.CHECK_NAN_SNIPPET+"\n return max(a, b);\n",p="\n vec4 result = vec4(max(a, b));\n bvec4 isNaNA = isnan(a);\n bvec4 isNaNB = isnan(b);\n bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n "+i.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",f=(0,c.binaryKernelFunc)({opSnippet:l,packedOpSnippet:p,cpuKernelImpl:u.maximumImplCPU}),d={kernelName:s.Maximum,backendName:"webgl",kernelFunc:f}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_gpu":"khC4O","../binaryop_packed_gpu":"hSRNa","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g3JSa:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool",function(){return u}),a.export(r,"maxPoolConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../pool_gpu"),i=e("../webgl_util"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x;(0,i.assertNotComplex)(a,"maxPool");var u=n.filterSize,l=n.strides,p=n.pad,f=n.dimRoundingMode;s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(l,1),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(l," and dilations '").concat(1,"'")});var d=s.backend_util.computePool2DInfo(a.shape,u,l,1,p,f);if(1===d.filterWidth&&1===d.filterHeight&&s.util.arraysEqual(d.inShape,d.outShape))return(0,c.identity)({inputs:{x:a},backend:r});var h=new(0,o.Pool2DProgram)(d,"max",!1);return r.runWebGLProgram(h,[a],a.dtype)}var l={kernelName:s.MaxPool,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../pool_gpu":"hwopl","../webgl_util":"4eDDt","./Identity":"8GOL4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ffiA8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3d",function(){return i}),a.export(r,"maxPool3DConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../pool_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.filterSize,c=n.strides,u=n.pad,l=n.dataFormat,p=n.dimRoundingMode,f=s.backend_util.computePool3DInfo(a.shape,i,c,[1,1,1],u,p,l),d=new(0,o.Pool3DProgram)(f,"max",!1);return r.runWebGLProgram(d,[a],a.dtype)}var c={kernelName:s.MaxPool3D,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../pool_gpu":"hwopl","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2k3JZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3DGrad",function(){return c}),a.export(r,"maxPool3DGradConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../max_pool_backprop_gpu"),i=e("../pool_gpu");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.input,u=n.filterSize,l=n.strides,p=n.pad,f=n.dimRoundingMode,d=s.backend_util.computePool3DInfo(c.shape,u,l,[1,1,1],p,f),h=new(0,i.Pool3DProgram)(d,"max",!0),m=r.runWebGLProgram(h,[c],c.dtype),g=new(0,o.MaxPool3DBackpropProgram)(d),v=r.runWebGLProgram(g,[a,m],c.dtype);return r.disposeIntermediateTensorInfo(m),v}var u={kernelName:s.MaxPool3DGrad,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../max_pool_backprop_gpu":"90umW","../pool_gpu":"hwopl","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"90umW":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MaxPool2DBackpropProgram",function(){return o}),a.export(r,"MaxPool3DBackpropProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var r=t.strideHeight,n=t.strideWidth,a=t.dilationHeight,o=t.effectiveFilterHeight,i=t.effectiveFilterWidth,c=o-1-t.padInfo.top,u=i-1-t.padInfo.left,l=o*i-1;this.userCode="\n const ivec2 pads = ivec2(".concat(c,", ").concat(u,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n\n ivec2 dyRCCorner = coords.yz - pads;\n int dyRCorner = dyRCCorner.x;\n int dyCCorner = dyRCCorner.y;\n\n // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n for (int wR = 0; wR < ").concat(o,";\n wR += ").concat(a,") {\n float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n for (int wC = 0; wC< ").concat(i,"; wC++) {\n float dyC = float(dyCCorner + wC) / ").concat(n,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n float dyValue = getDy(b, idyR, idyC, d);\n int maxPosValue = ").concat(l," - int(getMaxPos(b, idyR, idyC, d));\n\n // Get the current value, check it against the value from the\n // position matrix.\n int curPosValue = wR * ").concat(i," + wC;\n float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n dotProd += dyValue * mask;\n }\n }\n setOutput(dotProd);\n }\n ")},i=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var r=t.strideDepth,n=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,i=t.dilationHeight,c=t.dilationWidth,u=t.effectiveFilterDepth,l=t.effectiveFilterHeight,p=t.effectiveFilterWidth,f=u-1-t.padInfo.front,d=l-1-t.padInfo.top,h=p-1-t.padInfo.left,m=u*l*p-1;this.userCode="\n const ivec3 pads = ivec3(".concat(f,", ").concat(d,", ").concat(h,");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int ch = coords.u;\n\n ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n int dyDCorner = dyCorner.x;\n int dyRCorner = dyCorner.y;\n int dyCCorner = dyCorner.z;\n\n // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n // dx(xD, xR, xC, ch).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n\n for (int wD = 0; wD< ").concat(u,";\n wD += ").concat(o,") {\n float dyD = float(dyDCorner + wD) / ").concat(r,".0;\n\n if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n continue;\n }\n int idyD = int(dyD);\n\n for (int wR = 0; wR< ").concat(l,";\n wR += ").concat(i,") {\n float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n for (int wC = 0; wC< ").concat(p,";\n wC += ").concat(c,") {\n float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n int maxPosValue = ").concat(m," -\n int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n // Get the current value, check it against the value from the\n // position matrix.\n int curPosValue =\n wD * ").concat(l," * ").concat(p," +\n wR * ").concat(p," + wC;\n float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n dotProd += dyValue * mask;\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bSJ8I:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolGrad",function(){return u}),a.export(r,"maxPoolGradConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../max_pool_backprop_gpu"),i=e("../pool_gpu"),c=e("../webgl_util");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,u=t.input,l=t.output;(0,c.assertNotComplex)([u,l],"maxPoolGrad");var p=n.filterSize,f=n.strides,d=n.pad,h=n.dimRoundingMode,m=s.backend_util.computePool2DInfo(u.shape,p,f,1,d,h),g=new(0,i.Pool2DProgram)(m,"max",!0),v=r.runWebGLProgram(g,[u],u.dtype),_=new(0,o.MaxPool2DBackpropProgram)(m),x=r.runWebGLProgram(_,[a,v],u.dtype);return r.disposeIntermediateTensorInfo(v),x}var l={kernelName:s.MaxPoolGrad,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../max_pool_backprop_gpu":"90umW","../pool_gpu":"hwopl","../webgl_util":"4eDDt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g2koH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmaxConfig",function(){return c});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./MaxPoolWithArgmax_impl"),c={kernelName:o.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,c=r.filterSize,u=r.strides,l=r.pad,p=r.includeBatchInIndex;o.util.assert(4===a.shape.length,function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")});var f=[1,1];o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,f),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(f,"'")});var d=o.backend_util.computePool2DInfo(a.shape,c,u,f,l),h=(0,s._)((0,i.maxPoolWithArgmaxImpl)(a,p,d,n),2);return[h[0],h[1]]}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./MaxPoolWithArgmax_impl":"kCzGb","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kCzGb:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmaxImpl",function(){return o});var s=e("../pool_gpu");function o(e,t,r,n){var a=new(0,s.Pool2DProgram)(r,"max",!1),o=n.runWebGLProgram(a,[e],"float32");return a=new(0,s.Pool2DProgram)(r,"max",!0,!0,t),[o,n.runWebGLProgram(a,[e],"float32")]}},{"../pool_gpu":"hwopl","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hsZ6u:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"meanConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./Mean_impl"),c=e("./Transpose_impl"),u={kernelName:o.Mean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,u=r.keepDims,l=r.axis,p=a.shape.length,f=o.util.parseAxisParam(l,a.shape),d=f,h=o.backend_util.getAxesPermutation(d,p),m=null!=h,g=n.shouldExecuteOnCPU([a]),v=[],_=a;if(m){if(g){for(var x=n.texData.get(_.dataId).values,y=Array(p),b=0;b<y.length;b++)y[b]=a.shape[h[b]];var k=(0,c.transposeImplCPU)(x,a.shape,a.dtype,h,y);_=n.makeTensorInfo(y,a.dtype),n.texData.get(_.dataId).values=k}else _=(0,c.transposeImpl)(a,h,n);v.push(_),d=o.backend_util.getInnerMostAxes(d.length,p)}o.backend_util.assertAxesAreInnerMostDims("sum",d,p);var j=(0,s._)(o.backend_util.computeOutAndReduceShapes(_.shape,d),2),w=j[0],I=j[1],T=w;u&&(T=o.backend_util.expandShapeToKeepDim(w,f));var S=(0,i.meanImpl)(_,I,T,n),N=!0,M=!1,C=void 0;try{for(var E,F=v[Symbol.iterator]();!(N=(E=F.next()).done);N=!0){var A=E.value;n.disposeIntermediateTensorInfo(A)}}catch(e){M=!0,C=e}finally{try{N||null==F.return||F.return()}finally{if(M)throw C}}return S}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./Mean_impl":"1FVdZ","./Transpose_impl":"4U2p6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1FVdZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"meanImpl",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/reduce"),i=e("../kernels/Reshape");function c(e,t,r,n){var a=s.util.sizeFromShape(t),c=s.util.sizeFromShape(e.shape),u=(0,i.reshape)({inputs:{x:e},attrs:{shape:[c/a,a]},backend:n}),l=(0,o.reduce)(u,"float32","mean",n),p=(0,i.reshape)({inputs:{x:l},attrs:{shape:r},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(l),p}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/reduce":"bBPIE","../kernels/Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hHeeu:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"min",function(){return l}),a.export(r,"minConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.axis,f=a.keepDims,d=l.shape.length,h=o.util.parseAxisParam(p,l.shape),m=h,g=o.backend_util.getAxesPermutation(m,d),v=l;null!=g&&(v=(0,u.transpose)({inputs:{x:l},backend:n,attrs:{perm:g}}),m=o.backend_util.getInnerMostAxes(m.length,l.shape.length)),o.backend_util.assertAxesAreInnerMostDims("min",m,d);var _=(0,s._)(o.backend_util.computeOutAndReduceShapes(v.shape,m),2),x=_[0],y=_[1],b=o.util.sizeFromShape(y),k=(0,c.reshape)({inputs:{x:v},backend:n,attrs:{shape:[-1,b]}}),j=(0,i.reduce)(k,k.dtype,"min",n);if(f){var w=o.backend_util.expandShapeToKeepDim(x,h);t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:w}})}else t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:x}});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(j),null!=g&&n.disposeIntermediateTensorInfo(v),t}var p={kernelName:o.Min,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/reduce":"bBPIE","./Reshape":"65neR","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],k1HzK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"minimum",function(){return f}),a.export(r,"minimumConfig",function(){return d});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=e("../kernel_utils/shared"),l=o.CHECK_NAN_SNIPPET+"\n return min(a, b);\n",p="\n vec4 result = vec4(min(a, b));\n bvec4 isNaNA = isnan(a);\n bvec4 isNaNB = isnan(b);\n bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n "+i.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",f=(0,c.binaryKernelFunc)({opSnippet:l,packedOpSnippet:p,cpuKernelImpl:u.minimumImplCPU}),d={kernelName:s.Minimum,backendName:"webgl",kernelFunc:f}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_gpu":"khC4O","../binaryop_packed_gpu":"hSRNa","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9aTpq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mirrorPadKernelFunc",function(){return c}),a.export(r,"mirrorPadConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../mirror_pad_gpu"),i=e("../mirror_pad_packed_gpu"),c=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.paddings,u=n.mode,l=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,i.MirrorPadPackedProgram)(a.shape,c,u):new(0,o.MirrorPadProgram)(a.shape,c,u);return r.runWebGLProgram(l,[a],a.dtype)},u={kernelName:s.MirrorPad,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../mirror_pad_gpu":"2KVO7","../mirror_pad_packed_gpu":"bsjnV","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2KVO7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MirrorPadProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["x"],this.outputShape=r.map(function(e,r){return e[0]+t[r]+e[1]});var a=t.length,i=(0,o.getCoordsDataType)(a),c=r.map(function(e){return e[0]}).join(","),u=r.map(function(e,r){return e[0]+t[r]}).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),p=+("reflect"!==n);if(1===a){this.userCode="\n int start = ".concat(c,";\n int end = ").concat(u,";\n\n void main() {\n int outC = getOutputCoords();\n if (outC < start) {\n outC = start * 2 - outC - ").concat(p,";\n } else if(outC >= end) {\n outC = (end - 1) * 2 - outC + ").concat(p,";\n }\n setOutput(getX(outC - start));\n }\n ");return}this.userCode="\n ".concat(i," start = ").concat(i,"(").concat(c,");\n ").concat(i," end = ").concat(i,"(").concat(u,");\n\n void main() {\n ").concat(i," outC = getOutputCoords();\n for (int i = 0; i< ").concat(a,"; i++) {\n if (outC[i] < start[i]) {\n outC[i] = start[i] * 2 - outC[i] - ").concat(p,";\n } else if(outC[i] >= end[i]) {\n outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(p,";\n }\n }\n ").concat(i," coords = outC - start;\n setOutput(getX(").concat(l,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bsjnV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MirrorPadPackedProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./packing_util"),i=e("./shader_compiler"),c=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r.map(function(e,r){return e[0]+t[r]+e[1]});var a=t.length,c=(0,i.getCoordsDataType)(a),u=r.map(function(e){return e[0]}).join(","),l=r.map(function(e,r){return e[0]+t[r]}).join(","),p=(0,o.getChannels)("rc",a),f=(0,o.getChannels)("source",a),d="".concat(p[a-1],"< ").concat(this.outputShape[a-1]),h=1===a?"source":"vec2(".concat(f.slice(-2).join(),")"),m=+("reflect"!==n),g="";if(1===a){var v="\n ".concat(c," source = rc;\n if (source < start) {\n source = start * 2 - source - ").concat(m,";\n } else if (source >= end) {\n source = (end - 1) * 2 - source + ").concat(m,";\n }\n source -= start;\n ");g="\n ".concat(c," rc = outputLoc;\n ").concat(v,"\n result[0] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n ").concat(p[a-1]," += 1;\n if(").concat(d,") {\n ").concat(v,"\n result[1] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n }\n ")}else{var _="\n ".concat(c," source = rc;\n ").concat(c," lt = ").concat(c,"(lessThan(source, start));\n ").concat(c," gte = ").concat(c,"(greaterThanEqual(source, end));\n ").concat(c," orig = 1 - (lt + gte);\n source = orig * source +\n lt * (start * 2 - source - ").concat(m,") +\n gte * ((end - 1) * 2 - source + ").concat(m,");\n source -= start;\n ");g="\n ".concat(c," rc = outputLoc;\n ").concat(_,"\n result[0] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n ").concat(p[a-1]," += 1;\n if(").concat(d,") {\n ").concat(_,"\n result[1] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n }\n rc = outputLoc;\n ").concat(p[a-2]," += 1;\n if(").concat(p[a-2],"< ").concat(this.outputShape[a-2],") {\n ").concat(_,"\n result[2] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n ").concat(p[a-1]," += 1;\n if(").concat(d,") {\n ").concat(_,"\n result[3] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n }\n }\n ")}this.userCode="\n const ".concat(c," start = ").concat(c,"(").concat(u,");\n const ").concat(c," end = ").concat(c,"(").concat(l,");\n\n void main() {\n ").concat(c," outputLoc = getOutputCoords();\n vec4 result = vec4(0.);\n ").concat(g,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eSvk6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mod",function(){return u}),a.export(r,"modConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_packed_gpu"),i=e("../kernel_utils/kernel_funcs_utils"),c="\n vec4 result = mod(a, b);\n bvec4 isNaN = equal(b, vec4(0.0));\n "+o.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",u=(0,i.binaryKernelFunc)({opSnippet:"if (b == 0.0) return NAN;\n return mod(a, b);",packedOpSnippet:c}),l={kernelName:s.Mod,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_packed_gpu":"hSRNa","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3W2Xz":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multinomial",function(){return c}),a.export(r,"multinomialConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../multinomial_gpu"),i=e("./Softmax");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.logits,s=n.numSamples,c=n.seed,u=n.normalized,l=u?a:(0,i.softmax)({inputs:{logits:a},backend:r,attrs:{dim:a.shape.length-1}}),p=l.shape[0],f=l.shape[1],d=new(0,o.MultinomialProgram)(p,f,s),h=r.runWebGLProgram(d,[l],"int32",[[c]]);return u||r.disposeIntermediateTensorInfo(l),h}var u={kernelName:s.Multinomial,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../multinomial_gpu":"bRx8K","./Softmax":"fSKXV","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bRx8K:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MultinomialProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,n],this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n\n float r = random(seed);\n float cdf = 0.0;\n\n for (int i = 0; i < ".concat(r-1,"; i++) {\n cdf += getProbs(batch, i);\n\n if (r < cdf) {\n setOutput(float(i));\n return;\n }\n }\n\n // If no other event happened, last event happened.\n setOutput(float(").concat(r-1,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fSKXV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softmax",function(){return f}),a.export(r,"softmaxConfig",function(){return d});var s=e("@tensorflow/tfjs-core"),o=e("./Exp"),i=e("./Max"),c=e("./RealDiv"),u=e("./Reshape"),l=e("./Sub"),p=e("./Sum");function f(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.logits,f=n.dim,d=s.util.parseAxisParam([f],a.shape),h=(0,i.max)({inputs:{x:a},backend:r,attrs:{reductionIndices:d,keepDims:!1}}),m=s.backend_util.expandShapeToKeepDim(h.shape,d),g=(0,u.reshape)({inputs:{x:h},backend:r,attrs:{shape:m}}),v=(0,l.sub)({inputs:{a:a,b:g},backend:r}),_=(0,o.exp)({inputs:{x:v},backend:r}),x=(0,p.sum)({inputs:{x:_},backend:r,attrs:{axis:d,keepDims:!1}}),y=(0,u.reshape)({inputs:{x:x},backend:r,attrs:{shape:m}}),b=(0,c.realDiv)({inputs:{a:_,b:y},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),b}var d={kernelName:s.Softmax,backendName:"webgl",kernelFunc:f}},{"@tensorflow/tfjs-core":"aOH7b","./Exp":"2d63c","./Max":"bnXWV","./RealDiv":"lQ5ar","./Reshape":"65neR","./Sub":"indYt","./Sum":"6Fx5y","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lQ5ar:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"realDiv",function(){return o}),a.export(r,"realDivConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").binaryKernelFunc)({opSnippet:"\nif (a == b) {\n return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n // vec4 one = vec4(equal(a, b));\n // return one + (vec4(1.0) - one) * a / b;\n vec4 result = a / b;\n if(a.x == b.x) {\n result.x = 1.;\n }\n if(a.y == b.y) {\n result.y = 1.;\n }\n if(a.z == b.z) {\n result.z = 1.;\n }\n if(a.w == b.w) {\n result.w = 1.;\n }\n\n return result;\n",checkOutOfBounds:!0}),i={kernelName:s.RealDiv,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],indYt:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sub",function(){return u}),a.export(r,"subConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return a - b;",u=(0,o.binaryKernelFunc)({opSnippet:c,packedOpSnippet:c,supportsComplex:!0,cpuKernelImpl:i.subImplCPU}),l={kernelName:s.Sub,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kWJZ3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"neg",function(){return p}),a.export(r,"negConfig",function(){return f});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("../unaryop_gpu"),u=e("../unaryop_packed_gpu"),l=c.CHECK_NAN_SNIPPET+"\n return -x;\n";function p(e){var t,r=e.inputs,n=e.backend,a=r.x;if(n.shouldExecuteOnCPU([a])){var p=n.texData.get(a.dataId),f=(0,s._)((0,i.negImplCPU)(p.values,a.shape,a.dtype),2),d=f[0],h=f[1];return n.makeTensorInfo(h,a.dtype,d)}return t=(0,o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new(0,u.UnaryOpPackedProgram)(a.shape,"\n vec4 result = -x;\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n"):new(0,c.UnaryOpProgram)(a.shape,l),n.runWebGLProgram(t,[a],a.dtype)}var f={kernelName:o.Neg,backendName:"webgl",kernelFunc:p}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","../unaryop_gpu":"66B4A","../unaryop_packed_gpu":"jwqfd","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gPuvZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV3",function(){return i}),a.export(r,"nonMaxSuppressionV3Config",function(){return c});var s=e("@tensorflow/tfjs-core"),o=s.kernel_impls.nonMaxSuppressionV3Impl;function i(e){s.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,i=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=o(r.readSync(a.dataId),r.readSync(i.dataId),c,u,l).selectedIndices;return r.makeTensorInfo([p.length],"int32",new Int32Array(p))}var c={kernelName:s.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6CASn":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV4",function(){return i}),a.export(r,"nonMaxSuppressionV4Config",function(){return c});var s=e("@tensorflow/tfjs-core"),o=s.kernel_impls.nonMaxSuppressionV4Impl;function i(e){s.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,i=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=n.padToMaxOutputSize,f=o(r.readSync(a.dataId),r.readSync(i.dataId),c,u,l,p),d=f.selectedIndices,h=f.validOutputs;return[r.makeTensorInfo([d.length],"int32",new Int32Array(d)),r.makeTensorInfo([],"int32",new Int32Array([h]))]}var c={kernelName:s.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jQZcn:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV5",function(){return i}),a.export(r,"nonMaxSuppressionV5Config",function(){return c});var s=e("@tensorflow/tfjs-core"),o=s.kernel_impls.nonMaxSuppressionV5Impl;function i(e){s.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,i=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=n.softNmsSigma,f=o(r.readSync(a.dataId),r.readSync(i.dataId),c,u,l,p),d=f.selectedIndices,h=f.selectedScores;return[r.makeTensorInfo([d.length],"int32",new Int32Array(d)),r.makeTensorInfo([h.length],"float32",new Float32Array(h))]}var c={kernelName:s.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7LOQq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"oneHot",function(){return u}),a.export(r,"oneHotConfig",function(){return l});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../onehot_gpu"),c=e("./Reshape"),u=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.indices,u=n.dtype,l=n.depth,p=n.onValue,f=n.offValue,d=o.util.sizeFromShape(a.shape),h=new(0,i.OneHotProgram)(d,l,p,f),m=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:[d]}}),g=r.runWebGLProgram(h,[m],u);r.disposeIntermediateTensorInfo(m);var v=(0,s._)(a.shape).concat([l]),_=(0,c.reshape)({inputs:{x:g},backend:r,attrs:{shape:v}});return r.disposeIntermediateTensorInfo(g),_},l={kernelName:o.OneHot,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","../onehot_gpu":"hVWNV","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hVWNV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"OneHotProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r,n,a){"use strict";(0,s._)(this,e),this.variableNames=["indices"],this.outputShape=[t,r],this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int index = round(getIndices(coords.x));\n setOutput(mix(float(".concat(a,"), float(").concat(n,"),\n float(index == coords.y)));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eOe9m:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"onesLike",function(){return p}),a.export(r,"onesLikeConfig",function(){return f});var s=e("@tensorflow/tfjs-core"),o=e("./Complex"),i=e("./Fill"),c=e("./Imag"),u=e("./Real"),l=e("./ZerosLike");function p(e){var t=e.inputs,r=e.backend,n=t.x;if("string"===n.dtype)throw Error("onesLike is not supported under string dtype");if("complex64"!==n.dtype)return(0,i.fill)({attrs:{shape:n.shape,dtype:n.dtype,value:1},backend:r});var a=(0,u.real)({inputs:{input:n},backend:r}),s=p({inputs:{x:a},backend:r}),f=(0,c.imag)({inputs:{input:n},backend:r}),d=(0,l.zerosLike)({inputs:{x:f},backend:r}),h=(0,o.complex)({inputs:{real:s,imag:d},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(d),h}var f={kernelName:s.OnesLike,backendName:"webgl",kernelFunc:p}},{"@tensorflow/tfjs-core":"aOH7b","./Complex":"lTWvu","./Fill":"kk0tE","./Imag":"cxwlA","./Real":"1tX1n","./ZerosLike":"edC4a","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],edC4a:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zerosLike",function(){return l}),a.export(r,"zerosLikeConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("./Complex"),i=e("./Fill"),c=e("./Imag"),u=e("./Real");function l(e){var t=e.inputs,r=e.backend,n=t.x;if("complex64"!==n.dtype)return(0,i.fill)({attrs:{shape:n.shape,dtype:n.dtype,value:"string"===n.dtype?"":0},backend:r});var a=(0,u.real)({inputs:{input:n},backend:r}),s=l({inputs:{x:a},backend:r}),p=(0,c.imag)({inputs:{input:n},backend:r}),f=l({inputs:{x:p},backend:r}),d=(0,o.complex)({inputs:{real:s,imag:f},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(f),d}var p={kernelName:s.ZerosLike,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","./Complex":"lTWvu","./Fill":"kk0tE","./Imag":"cxwlA","./Real":"1tX1n","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hj87s:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pack",function(){return c}),a.export(r,"packConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("./Concat"),i=e("./ExpandDims");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.axis;if(1===t.length)return(0,i.expandDims)({inputs:{input:t[0]},backend:r,attrs:{dim:n}});var a=t[0].shape,c=t[0].dtype;t.forEach(function(e){s.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),s.util.assert(c===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var u=[],l=t.map(function(e){var t=(0,i.expandDims)({inputs:{input:e},backend:r,attrs:{dim:n}});return u.push(t),t}),p=(0,o.concat)({inputs:l,backend:r,attrs:{axis:n}});return u.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),p}var u={kernelName:s.Pack,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","./Concat":"6SYfN","./ExpandDims":"5YiyO","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],axZQy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"padV2",function(){return u}),a.export(r,"padV2Config",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../pad_gpu"),i=e("../pad_packed_gpu"),c=e("./Fill"),u=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.paddings,l=n.constantValue;if(0===s.util.sizeFromShape(a.shape)){var p=u.map(function(e,t){return e[0]+a.shape[t]+e[1]});return(0,c.fill)({backend:r,attrs:{shape:p,value:l,dtype:a.dtype}})}var f=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,i.PadPackedProgram)(a.shape,u,l):new(0,o.PadProgram)(a.shape,u,l),d=[[l]];return r.runWebGLProgram(f,[a],a.dtype,d)},l={kernelName:s.PadV2,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../pad_gpu":"ctSnU","../pad_packed_gpu":"eRPIu","./Fill":"kk0tE","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ctSnU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PadProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=r.map(function(e,r){return e[0]+t[r]+e[1]});var a=t.length,i=(0,o.getCoordsDataType)(a),c=r.map(function(e){return e[0]}).join(","),u=r.map(function(e,r){return e[0]+t[r]}).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);if(1===a){this.userCode="\n int start = ".concat(c,";\n int end = ").concat(u,";\n\n void main() {\n int outC = getOutputCoords();\n if (outC < start || outC >= end) {\n setOutput(value);\n } else {\n setOutput(getX(outC - start));\n }\n }\n ");return}this.userCode="\n ".concat(i," start = ").concat(i,"(").concat(c,");\n ").concat(i," end = ").concat(i,"(").concat(u,");\n\n void main() {\n ").concat(i," outC = getOutputCoords();\n if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n setOutput(value);\n } else {\n ").concat(i," coords = outC - start;\n setOutput(getX(").concat(l,"));\n }\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eRPIu:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PadPackedProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./packing_util"),i=e("./shader_compiler"),c=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=r.map(function(e,r){return e[0]+t[r]+e[1]});for(var a=t.length,c=(0,i.getCoordsDataType)(a),u=r.map(function(e){return e[0]}).join(","),l=r.map(function(e,r){return e[0]+t[r]}).join(","),p=(0,o.getChannels)("rc",a),f=(0,o.getChannels)("source",a),d="".concat(p[a-1],"< ").concat(this.outputShape[a-1]),h=1===a?"source":"vec2(".concat(f.slice(-2).join(),")"),m=["".concat(c," rc = outputLoc;"),"".concat(p[a-1]," += 1;\n if(").concat(d,") {\n "),1===a?"":"}\n rc = outputLoc;\n ".concat(p[a-2]," += 1;\n if(").concat(p[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":" ".concat(p[a-1]," += 1;\n if(").concat(d,") {")],g=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",v="",_=0,x=1===a?2:4;_<x;_++)v+="\n ".concat(m[_],"\n if (").concat(g,") {\n result[").concat(_,"] = float(value);\n } else {\n ").concat(c," source = rc - start;\n result[").concat(_,"] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n }\n ");v+=1===a?"} ":"}}",this.userCode="\n const ".concat(c," start = ").concat(c,"(").concat(u,");\n const ").concat(c," end = ").concat(c,"(").concat(l,");\n\n void main() {\n ").concat(c," outputLoc = getOutputCoords();\n vec4 result = vec4(0.);\n ").concat(v,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hE0Gf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pow",function(){return u}),a.export(r,"powConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_packed_gpu"),i=e("../kernel_utils/kernel_funcs_utils"),c="\n // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n vec4 result = multiplier * pow(abs(a), b);\n\n // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n bvec4 isExpZero = equal(b, vec4(0.0));\n result.r = isExpZero.r ? 1.0 : result.r;\n result.g = isExpZero.g ? 1.0 : result.g;\n result.b = isExpZero.b ? 1.0 : result.b;\n result.a = isExpZero.a ? 1.0 : result.a;\n\n bvec4 isNaN1 = lessThan(a, vec4(0.0));\n bvec4 isNaN2 = lessThan(floor(b), b);\n bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n "+o.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",u=(0,i.binaryKernelFunc)({opSnippet:"\n if(a < 0.0 && floor(b) < b){\n return NAN;\n }\n if (b == 0.0) {\n return 1.0;\n }\n return (round(mod(b, 2.0)) != 1) ?\n pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:c}),l={kernelName:s.Pow,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_packed_gpu":"hSRNa","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hogkF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prod",function(){return p}),a.export(r,"prodConfig",function(){return f});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("../kernel_utils/shared"),u=e("./Reshape"),l=e("./Transpose");function p(e){var t,r=e.inputs,n=e.backend,a=e.attrs,p=r.x,f=a.axis,d=a.keepDims,h=p.shape.length,m=[],g=o.util.parseAxisParam(f,p.shape),v=g,_=o.backend_util.getAxesPermutation(v,h),x=p;if(null!=_&&(x=(0,l.transpose)({inputs:{x:p},backend:n,attrs:{perm:_}}),v=o.backend_util.getInnerMostAxes(v.length,h),m.push(x)),o.backend_util.assertAxesAreInnerMostDims("prod",v,h),n.shouldExecuteOnCPU([x])){var y=n.texData.get(x.dataId).values,b=(0,c.prodImplCPU)(x.shape,x.dtype,y,v),k=b.outVals,j=b.outShape,w=b.outDtype;t=n.makeTensorInfo(j,w,k)}else{var I=(0,s._)(o.backend_util.computeOutAndReduceShapes(x.shape,v),2),T=I[0],S=I[1],N=o.util.sizeFromShape(S),M=(0,u.reshape)({inputs:{x:x},backend:n,attrs:{shape:[-1,N]}}),C=(0,o.sumOutType)(p.dtype),E=(0,i.reduce)(M,C,"prod",n);t=(0,u.reshape)({inputs:{x:E},backend:n,attrs:{shape:T}}),m.push(M),m.push(E)}if(d){m.push(t);var F=o.backend_util.expandShapeToKeepDim(t.shape,g);t=(0,u.reshape)({inputs:{x:t},backend:n,attrs:{shape:F}})}return m.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),t}var f={kernelName:o.Prod,backendName:"webgl",kernelFunc:p}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/reduce":"bBPIE","../kernel_utils/shared":"gN7B4","./Reshape":"65neR","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"517dT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedGather",function(){return c}),a.export(r,"raggedGatherConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.paramsNestedSplits,o=t.paramsDenseValues,c=t.indices,u=n.outputRaggedRank,l=a.map(function(e){return r.readSync(e.dataId)}),p=a.map(function(e){return e.shape}),f=r.readSync(o.dataId),d=r.readSync(c.dataId),h=(0,s._)((0,i.raggedGatherImplCPU)(l,p,f,o.shape,o.dtype,d,c.shape,u),3),m=h[0],g=h[1],v=h[2],_=m.map(function(e){return r.makeTensorInfo([e.length],"int32",e)}),x=r.makeTensorInfo(v,o.dtype,g);return _.concat([x])}var u={kernelName:o.RaggedGather,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],Yi7tr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedRange",function(){return c}),a.export(r,"raggedRangeConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.starts,a=t.limits,o=t.deltas,c=r.readSync(n.dataId),u=r.readSync(a.dataId),l=r.readSync(o.dataId),p=(0,s._)((0,i.raggedRangeImplCPU)(c,n.shape,n.dtype,u,a.shape,l,o.shape),2),f=p[0],d=p[1];return[r.makeTensorInfo([f.length],"int32",f),r.makeTensorInfo([d.length],n.dtype,d)]}var u={kernelName:o.RaggedRange,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8ixww":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedTensorToTensor",function(){return c}),a.export(r,"raggedTensorToTensorConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.shape,o=t.values,c=t.defaultValue,u=t.rowPartitionTensors,l=n.rowPartitionTypes,p=r.readSync(a.dataId),f=r.readSync(o.dataId),d=r.readSync(c.dataId),h=u.map(function(e){return r.readSync(e.dataId)}),m=u.map(function(e){return e.shape}),g=(0,s._)((0,i.raggedTensorToTensorImplCPU)(p,a.shape,f,o.shape,o.dtype,d,c.shape,h,m,l),2),v=g[0],_=g[1];return r.makeTensorInfo(v,o.dtype,_)}var u={kernelName:o.RaggedTensorToTensor,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hJGxy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"range",function(){return i}),a.export(r,"rangeConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared"),i=function(e){var t=e.backend,r=e.attrs,n=r.start,a=r.stop,s=r.step,i=r.dtype,c=(0,o.rangeImplCPU)(n,a,s,i);return t.makeTensorInfo([c.length],i,c)},c={kernelName:s.Range,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3Vhhh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reciprocal",function(){return o}),a.export(r,"reciprocalConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return 1.0 / x;"}),i={kernelName:s.Reciprocal,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jCkTz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu",function(){return c}),a.export(r,"reluConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n return (x < 0.0) ? 0.0 : x;\n",c=(0,o.unaryKernelFunc)({opSnippet:i,packedOpSnippet:"\n vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n"}),u={kernelName:s.Relu,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],glrUn:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu6",function(){return c}),a.export(r,"relu6Config",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n return (x < 0.0) ? 0.0 : min(6.0, x);\n",c=(0,o.unaryKernelFunc)({opSnippet:i,packedOpSnippet:"\n vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n"}),u={kernelName:s.Relu6,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3fMPq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinear",function(){return u}),a.export(r,"resizeBilinearConfig",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../resize_bilinear_gpu"),c=e("../resize_bilinear_packed_gpu");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,u=n.alignCorners,l=n.halfPixelCenters,p=n.size,f=(0,s._)(p,2),d=f[0],h=f[1],m=(0,o.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new(0,c.ResizeBilinearPackedProgram)(a.shape,d,h,u,l):new(0,i.ResizeBilinearProgram)(a.shape,d,h,u,l);return r.runWebGLProgram(m,[a],"float32")}var l={kernelName:o.ResizeBilinear,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../resize_bilinear_gpu":"674cz","../resize_bilinear_packed_gpu":"e2YIb","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"674cz":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeBilinearProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.outputShape=[];var c=(0,o._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3];this.outputShape=[u,r,n,f];var d=[a&&r>1?l-1:l,a&&n>1?p-1:p],h=[a&&r>1?r-1:r,a&&n>1?n-1:n];this.userCode="\n const vec2 effectiveInputOverOutputRatioRC = vec2(\n ".concat(d[0]/h[0],",\n ").concat(d[1]/h[1],");\n const vec2 inputShapeRC = vec2(").concat(l,".0, ").concat(p,".0);\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n ivec2 yRC = coords.yz;\n\n // Fractional source index.\n vec2 sourceFracIndexRC = ").concat(i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",";\n\n // Compute the four integer indices.\n ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n ivec2 sourceCeilRC = ivec2(\n min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n float top = topLeft + (topRight - topLeft) * fracRC.y;\n float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n float newValue = top + (bottom - top) * fracRC.x;\n\n setOutput(newValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],e2YIb:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeBilinearPackedProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var c=(0,o._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3];this.outputShape=[u,r,n,f];var d=[a&&r>1?l-1:l,a&&n>1?p-1:p],h=[a&&r>1?r-1:r,a&&n>1?n-1:n];this.userCode="\n const vec3 effectiveInputOverOutputRatioRC = vec3(\n ".concat(d[0]/h[0],",\n ").concat(d[1]/h[1],",\n ").concat(d[1]/h[1],");\n const vec3 inputShapeRC = vec3(").concat(l,".0, ").concat(p,".0,\n ").concat(p,".0);\n\n float getAValue(int b, int r, int c, int d) {\n return getChannel(getA(b, r, c, d), vec2(c, d));\n }\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n // Calculate values for next column in yRC.z.\n ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n // Fractional source index.\n vec3 sourceFracIndexRC = ").concat(i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",";\n\n // Compute the four integer indices.\n ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n ivec3 sourceCeilRC = ivec3(\n min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n // Should we calculate next column and row elements in 2x2 packed cell.\n bool hasNextCol = d< ").concat(f-1,";\n bool hasNextRow = coords.z < ").concat(n-1,";\n\n // In parallel, construct four corners for all four components in\n // packed 2x2 cell.\n vec4 topLeft = vec4(\n getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n vec4 bottomLeft = vec4(\n getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n vec4 topRight = vec4(\n getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n vec4 bottomRight = vec4(\n getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n vec4 newValue = mix(top, bottom, fracRC.x);\n\n setOutput(newValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g5gpk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinearGrad",function(){return i}),a.export(r,"resizeBilinearGradConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../resize_bilinear_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,s=t.dy,i=n.alignCorners,c=new(0,o.ResizeBilinearBackpropProgram)(s.shape,a.shape,i);return r.runWebGLProgram(c,[s],s.dtype)}var c={kernelName:s.ResizeBilinearGrad,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../resize_bilinear_backprop_gpu":"gHA5d","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gHA5d:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeBilinearBackpropProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=r;var a=(0,o._)(r,3),i=a[1],c=a[2],u=(0,o._)(t,3),l=u[1],p=u[2],f=[n&&l>1?i-1:i,n&&p>1?c-1:c],d=[n&&l>1?l-1:l,n&&p>1?p-1:p],h=f[0]/d[0],m=f[1]/d[1],g=1/h,v=1/m,_=2*Math.ceil(g)+2,x=2*Math.ceil(v)+2;this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n int r = coords[1];\n int c = coords[2];\n\n float accumulator = 0.0;\n\n const float heightScale = float(".concat(h,");\n const float widthScale = float(").concat(m,");\n\n const float invHeightScale = float(").concat(g,");\n const float invWidthScale = float(").concat(v,");\n\n const int winHeight = int(").concat(_,");\n const int winWidth = int(").concat(x,");\n\n // Compute bounds for where in dy we will look\n float startRLerp = floor(float(r) * invHeightScale);\n int startDyR = int(startRLerp - float(winHeight / 2));\n\n float startCLerp = floor(float(c) * invWidthScale);\n int startDyC = int(startCLerp - float(winWidth / 2));\n\n // Loop over dy\n for (int dyROffset = 0; dyROffset< winHeight; dyROffset++) {\n int dyR = dyROffset + startDyR;\n\n // Guard against the window exceeding the bounds of dy\n if (dyR < 0 || dyR >= ").concat(l,") {\n continue;\n }\n\n for (int dyCOffset = 0; dyCOffset< winWidth; dyCOffset++) {\n int dyC = dyCOffset + startDyC;\n\n // Guard against the window exceeding the bounds of dy\n if (dyC < 0 || dyC >= ").concat(p,") {\n continue;\n }\n\n float dxR = float(dyR) * heightScale;\n int topDxRIndex = int(floor(dxR));\n int bottomDxRIndex = int(min(ceil(dxR), ").concat(i-1,".0));\n float dxRLerp = dxR - float(topDxRIndex);\n float inverseDxRLerp = 1.0 - dxRLerp;\n\n float dxC = float(dyC) * widthScale;\n int leftDxCIndex = int(floor(dxC));\n int rightDxCIndex = int(min(ceil(dxC), ").concat(c-1,".0));\n float dxCLerp = dxC - float(leftDxCIndex);\n float inverseDxCLerp = 1.0 - dxCLerp;\n\n if (r == topDxRIndex && c == leftDxCIndex) {\n // topLeft\n accumulator +=\n getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n }\n\n if (r == topDxRIndex && c == rightDxCIndex) {\n // topRight\n accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n }\n\n if (r == bottomDxRIndex && c == leftDxCIndex) {\n // bottomLeft\n accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n }\n\n if (r == bottomDxRIndex && c == rightDxCIndex) {\n // bottomRight\n accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n }\n }\n }\n // End loop over dy\n\n setOutput(accumulator);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8rtib":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighbor",function(){return u}),a.export(r,"resizeNearestNeighborConfig",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../resize_nearest_neighbor_gpu"),c=e("../resize_nearest_neighbor_packed_gpu");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,u=n.alignCorners,l=n.halfPixelCenters,p=n.size,f=(0,s._)(p,2),d=f[0],h=f[1],m=(0,o.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new(0,c.ResizeNearestNeighborPackedProgram)(a.shape,d,h,u,l):new(0,i.ResizeNearestNeighborProgram)(a.shape,d,h,u,l);return r.runWebGLProgram(m,[a],a.dtype)}var l={kernelName:o.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../resize_nearest_neighbor_gpu":"jz6Uq","../resize_nearest_neighbor_packed_gpu":"6pHBe","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jz6Uq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeNearestNeighborProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.outputShape=[];var c=(0,o._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3];this.outputShape=[u,r,n,f];var d=[a&&r>1?l-1:l,a&&n>1?p-1:p],h=[a&&r>1?r-1:r,a&&n>1?n-1:n];this.userCode="\n const vec2 effectiveInputOverOutputRatioRC = vec2(\n ".concat(d[0]/h[0],",\n ").concat(d[1]/h[1],");\n const vec2 inputShapeRC = vec2(").concat(l,".0, ").concat(p,".0);\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n ivec2 yRC = coords.yz;\n\n // Fractional source index.\n vec2 sourceFracIndexRC = ").concat(i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",";\n\n // Compute the coordinators of nearest neighbor point.\n ivec2 sourceNearestRC = ivec2(\n min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(a?"0.5":"0.0",")));\n float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n setOutput(newValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6pHBe":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeNearestNeighborPackedProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,s._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var c=(0,o._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3];this.outputShape=[u,r,n,f];var d=[a&&r>1?l-1:l,a&&n>1?p-1:p],h=[a&&r>1?r-1:r,a&&n>1?n-1:n];this.userCode="\n const vec3 effectiveInputOverOutputRatioRC = vec3(\n ".concat(d[0]/h[0],",\n ").concat(d[1]/h[1],",\n ").concat(d[1]/h[1],");\n const vec3 inputShapeRC = vec3(").concat(l,".0, ").concat(p,".0,\n ").concat(p,".0);\n\n float getAValue(int b, int r, int c, int d) {\n return getChannel(getA(b, r, c, d), vec2(c, d));\n }\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n // Calculate values for next column in yRC.z.\n ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n // Fractional source index.\n vec3 sourceFracIndexRC = ").concat(i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",";\n\n // Compute the coordinators of nearest neighbor point.\n ivec3 sourceNearestRC = ivec3(\n min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(a?"0.5":"0.0",")));\n\n // Should we calculate next column and row elements in 2x2 packed cell.\n bool hasNextCol = d< ").concat(f-1,";\n bool hasNextRow = coords.z < ").concat(n-1,";\n\n vec4 newValue = vec4(\n getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n setOutput(newValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bmUXP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighborGrad",function(){return i}),a.export(r,"resizeNearestNeighborGradConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../resize_nearest_neighbor_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,s=t.dy,i=n.alignCorners,c=new(0,o.ResizeNearestNeigborBackpropProgram)(s.shape,a.shape,i);return r.runWebGLProgram(c,[s],s.dtype)}var c={kernelName:s.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../resize_nearest_neighbor_backprop_gpu":"3gUnw","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3gUnw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeNearestNeigborBackpropProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=r;var a=(0,o._)(r,3),i=a[1],c=a[2],u=(0,o._)(t,3),l=u[1],p=u[2],f=[n&&l>1?i-1:i,n&&p>1?c-1:c],d=[n&&l>1?l-1:l,n&&p>1?p-1:p],h=f[0]/d[0],m=f[1]/d[1],g=1/h,v=1/m,_=2*Math.ceil(g)+2,x=2*Math.ceil(v)+2;this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n int r = coords[1];\n int c = coords[2];\n\n float accumulator = 0.0;\n\n const float heightScale = float(".concat(h,");\n const float widthScale = float(").concat(m,");\n\n const float invHeightScale = float(").concat(g,");\n const float invWidthScale = float(").concat(v,");\n\n const int winHeight = int(").concat(_,");\n const int winWidth = int(").concat(x,");\n\n // Compute bounds for where in dy we will look\n float startRLerp = floor(float(r) * invHeightScale);\n int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n float startCLerp = floor(float(c) * invWidthScale);\n int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n // Loop over dy\n for (int dyROffset = 0; dyROffset< winHeight; dyROffset++) {\n int dyR = dyROffset + startDyR;\n\n // Guard against the window exceeding the bounds of dy\n if (dyR < 0 || dyR >= ").concat(l,") {\n continue;\n }\n\n for (int dyCOffset = 0; dyCOffset< winWidth; dyCOffset++) {\n int dyC = dyCOffset + startDyC;\n\n // Guard against the window exceeding the bounds of dy\n if (dyC < 0 || dyC >= ").concat(p,") {\n continue;\n }\n\n float sourceFracRow =\n float(").concat(f[0],") *\n (float(dyR) / float(").concat(d[0],"));\n\n float sourceFracCol =\n float(").concat(f[1],") *\n (float(dyC) / float(").concat(d[1],"));\n\n int sourceNearestRow = int(min(\n float(int(").concat(i,") - 1),\n ").concat(n," ? float(round(sourceFracRow)) :\n float(floor(sourceFracRow))));\n\n int sourceNearestCol = int(min(\n float(int(").concat(c,") - 1),\n ").concat(n," ? float(round(sourceFracCol)) :\n float(floor(sourceFracCol))));\n\n if (r == sourceNearestRow && c == sourceNearestCol) {\n accumulator += getDy(b, dyR, dyC, d);\n }\n }\n }\n // End loop over dy\n\n setOutput(accumulator);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3aQI3":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse",function(){return u}),a.export(r,"reverseConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../reverse_gpu"),i=e("../reverse_packed_gpu"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.dims,l=a.shape.length,p=s.util.parseAxisParam(u,a.shape);if(0===l)return(0,c.identity)({inputs:{x:a},backend:r});var f=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,i.ReversePackedProgram)(a.shape,p):new(0,o.ReverseProgram)(a.shape,p);return r.runWebGLProgram(f,[a],a.dtype)}var l={kernelName:s.Reverse,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../reverse_gpu":"jTARY","../reverse_packed_gpu":"etYOz","./Identity":"8GOL4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jTARY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ReverseProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["x"];var n=t.length;if(n>4)throw Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));if(this.outputShape=t,1===n){this.userCode="\n void main() {\n int coord = getOutputCoords();\n setOutput(getX(".concat(t[0]," - coord - 1));\n }\n ");return}var a=t.map(function(e,n){return -1!==r.indexOf(n)&&1!==t[n]?"".concat(t[n]," - coords[").concat(n,"] - 1"):"coords[".concat(n,"]")}).join(","),i=(0,o.getCoordsDataType)(n);this.userCode="\n void main() {\n ".concat(i," coords = getOutputCoords();\n setOutput(getX(").concat(a,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],etYOz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ReversePackedProgram",function(){return c});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./packing_util"),i=e("./shader_compiler"),c=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n,a,c,u=t.length;if(u>4)throw Error("WebGL backend: Reverse of rank-".concat(u," tensor is not yet supported"));this.outputShape=t;var l=(0,o.getChannels)("rc",u),p="".concat(l[u-1]," + 1< ").concat(this.outputShape[u-1]),f="".concat(l[u-2]," + 1 < ").concat(this.outputShape[u-2]),d=(0,i.getCoordsDataType)(u);function h(e){var n=t.map(function(n,a){var s,o;return s=a,o=e,-1!==r.indexOf(s)&&1!==t[s]?"".concat(t[s]," - ").concat(o[s]," - 1"):"".concat(o[s])}),a=n.join(","),s=n.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(s,"))")}1===u?this.userCode="\n void main(){\n int rc = getOutputCoords();\n vec4 result = vec4(0.);\n result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n ").concat(t[0]," - rc - 1);\n if(").concat(p,"){\n result.g = getChannel(getX(").concat(t[0]," - (rc + 1) - 1),\n ").concat(t[0]," - (rc + 1) - 1);\n }\n setOutput(result);\n }\n "):this.userCode="\n void main() {\n ".concat(d," rc = getOutputCoords();\n vec4 result = vec4(0.);\n result.r = ").concat(h(l.slice()),";\n if(").concat(p,"){\n result.g = ").concat(((n=l.slice())[u-1]="("+n[u-1]+" + 1)",h(n)),";\n }\n if(").concat(f,") {\n result.b = ").concat(((a=l.slice())[u-2]="("+a[u-2]+" + 1)",h(a)),";\n if(").concat(p,") {\n result.a = ").concat(((c=l.slice())[u-1]="("+c[u-1]+" + 1)",c[u-2]="("+c[u-2]+" + 1)",h(c)),";\n }\n }\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./packing_util":"iRNUv","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5tYGN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rotateWithOffsetConfig",function(){return c});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../rotate_gpu"),c={kernelName:o.RotateWithOffset,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.image,c=r.radians,u=r.fillValue,l=r.center,p=new(0,i.RotateProgram)(a.shape,u),f=(0,s._)(o.backend_util.getImageCenter(l,a.shape[1],a.shape[2]),2),d=[[f[0],f[1],Math.sin(c),Math.cos(c)]];return n.runWebGLProgram(p,[a],a.dtype,d)}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../rotate_gpu":"2SwwV","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2SwwV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"RotateProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var n=t[1],a=t[2];this.outputShape=t;var o="";o="number"==typeof r?"float outputValue = ".concat(r.toFixed(2),";"):"\n vec3 fill = vec3(".concat(r.join(","),");\n float outputValue = fill[coords[3]];"),this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int x = coords[2];\n int y = coords[1];\n float coordXFloat = (float(x) - params[0]) * params[3] -\n (float(y) - params[1]) * params[2];\n float coordYFloat = (float(x) - params[0]) * params[2] +\n (float(y) - params[1]) * params[3];\n int coordX = int(round(coordXFloat + params[0]));\n int coordY = int(round(coordYFloat + params[1]));\n ".concat(o,"\n if(coordX >= 0 && coordX< ").concat(a," && coordY >= 0 && coordY< ").concat(n,") {\n outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n }\n setOutput(outputValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bCDev:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"round",function(){return o}),a.export(r,"roundConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n // OpenGL ES does not support round function.\n // The algorithm is based on banker's rounding.\n float base = floor(x);\n if ((x - base) < 0.5) {\n return floor(x);\n } else if ((x - base) >0.5) {\n return ceil(x);\n } else {\n if (mod(base, 2.0) == 0.0) {\n return base;\n } else {\n return base + 1.0;\n }\n }\n"}),i={kernelName:s.Round,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5AG8T":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rsqrt",function(){return c}),a.export(r,"rsqrtConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,o.unaryKernelFunc)({opSnippet:"return inversesqrt(x);",cpuKernelImpl:i.rsqrtImplCPU}),u={kernelName:s.Rsqrt,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8DSvY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scatterNd",function(){return u}),a.export(r,"scatterNdConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../scatter_gpu"),i=e("../scatter_packed_gpu"),c=e("./Reshape");function u(e){var t,r=e.inputs,n=e.backend,a=e.attrs,u=r.indices,l=r.updates,p=a.shape,f=s.backend_util.calculateShapes(l,u,p),d=f.sliceRank,h=f.numUpdates,m=f.sliceSize,g=f.strides,v=f.outputSize,_=[v/m,m];if(0===v)return n.makeTensorInfo(p,u.dtype);var x=(0,c.reshape)({inputs:{x:u},backend:n,attrs:{shape:[h,d]}}),y=(0,c.reshape)({inputs:{x:l},backend:n,attrs:{shape:[h,m]}}),b=n.makeTensorInfo([],"float32",new Float32Array([0]));t=(0,s.env)().getBool("WEBGL_PACK")?new(0,i.ScatterPackedProgram)(h,d,x.shape.length,y.shape.length,g,_):new(0,o.ScatterProgram)(h,d,x.shape.length,y.shape.length,g,_);var k=n.runWebGLProgram(t,[y,x,b],y.dtype),j=(0,c.reshape)({inputs:{x:k},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(b),j}var l={kernelName:s.ScatterNd,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../scatter_gpu":"bg62W","../scatter_packed_gpu":"c8vHV","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bg62W:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ScatterProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r,n,a,i,c){"use strict";arguments.length>6&&void 0!==arguments[6]&&arguments[6];var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];(0,s._)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=c;var l=(0,o.getCoordsDataType)(i.length),p=(0,o.getCoordsDataType)(c.length),f="";1===n?f="i":2===n&&(f="i, j");var d="getIndices(".concat(f,")"),h="";1===a?h="i":2===a&&(h="i, coords[1]");var m="getUpdates(".concat(h,")"),g="";u&&(g="coords[0], coords[1]");var v="getDefaultValue(".concat(g,")");this.userCode="\n ".concat(l," strides = ").concat(l,"(").concat(i,");\n\n void main() {\n ").concat(p," coords = getOutputCoords();\n float sum = 0.0;\n bool found = false;\n for (int i = 0; i< ").concat(t,"; i++) {\n int flattenedIndex = 0;\n for (int j = 0; j < ").concat(r,"; j++) {\n int index = round(").concat(d,");\n flattenedIndex += index * ").concat(r>1?"strides[j]":"strides",";\n }\n if (flattenedIndex == coords[0]) {\n sum += ").concat(m,";\n found = true;\n }\n }\n setOutput(mix(").concat(v,", sum, float(found)));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],c8vHV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ScatterPackedProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r,n,a,i,c){"use strict";arguments.length>6&&void 0!==arguments[6]&&arguments[6];var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];(0,s._)(this,e),this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=c;var l=(0,o.getCoordsDataType)(i.length),p=(0,o.getCoordsDataType)(c.length),f="";1===n?f="i":2===n&&(f="i, j");var d="getIndices(".concat(f,")"),h="";1===a?h="i":2===a&&(h="i, coords[1]");var m="getUpdates(".concat(h,")"),g="";u&&(g="coords[0], coords[1]");var v="getDefaultValue(".concat(g,")"),_=r>1?"strides[j]":"strides",x=r>1?"strides[j + 1]":"strides";this.userCode="\n ".concat(l," strides = ").concat(l,"(").concat(i,");\n\n void main() {\n ").concat(p," coords = getOutputCoords();\n vec4 sum = vec4(0.);\n vec4 found = vec4(0.);\n for (int i = 0; i< ").concat(t,"; i+=2) {\n ivec2 flattenedIndex = ivec2(0);\n for (int j = 0; j < ").concat(r,"; j+=2) {\n ivec4 index = round(").concat(d,");\n flattenedIndex += index.xz * ").concat(_,";\n if (j + 1 < ").concat(r,") {\n flattenedIndex += index.yw * ").concat(x,";\n }\n }\n if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n vec4 updVals = ").concat(m,";\n if (flattenedIndex[0] == coords[0]) {\n sum.xy += updVals.xy;\n found.xy = vec2(1.);\n } else if (flattenedIndex[0] == coords[0] + 1) {\n sum.zw += updVals.xy;\n found.zw = vec2(1.);\n }\n if (flattenedIndex[1] == coords[0]) {\n sum.xy += updVals.zw;\n found.xy = vec2(1.);\n } else if (flattenedIndex[1] == coords[0] + 1) {\n sum.zw += updVals.zw;\n found.zw = vec2(1.);\n }\n }\n }\n setOutput(mix(").concat(v,", sum, found));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],f8x0z:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"searchSorted",function(){return i}),a.export(r,"searchSortedConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../search_sorted_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.sortedSequence,s=t.values,i=n.side,c=new(0,o.SearchSortedProgram)(a.shape[0],a.shape[1],s.shape[1],i),u=[[a.shape[1]]];return r.runWebGLProgram(c,[a,s],"int32",u)}var c={kernelName:s.SearchSorted,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../search_sorted_gpu":"5QfYx","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5QfYx":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SearchSortedProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("@tensorflow/tfjs-core"),i=function e(t,r,n,a){"use strict";(0,s._)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,n];var i="for (int i = 0; i < ".concat(Math.ceil(Math.log2(r+1)),"; ++i) { if (left >= right) break;"),c=2===(0,o.env)().getNumber("WEBGL_VERSION")?"while (left< right) {":i;this.userCode="\n int findBound(int batch, float value) {\n int left = 0;\n int right = numInputs;\n int mid;\n ".concat(c,"\n mid = (left + right) / 2;\n if (getSortedSequence(batch, mid) ").concat("left"===a?"<":"<="," value) {\n left = mid + 1;\n } else {\n right = mid;\n }\n }\n return right;\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int valueIndex = coords[1];\n\n float value = getValues(batch, valueIndex);\n\n setOutput(float(findBound(batch, value)));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fuYU4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"select",function(){return i}),a.export(r,"selectConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../select_gpu");function i(e){var t=e.inputs,r=e.backend,n=t.condition,a=t.t,i=t.e,c=new(0,o.SelectProgram)(n.shape.length,a.shape,a.shape.length);return r.runWebGLProgram(c,[n,a,i],(0,s.upcastType)(a.dtype,i.dtype))}var c={kernelName:s.Select,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../select_gpu":"jubvd","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jubvd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SelectProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r,n){"use strict";if((0,s._)(this,e),this.variableNames=["c","a","b"],this.outputShape=r,n>4)throw Error("Where for rank ".concat(n," is not yet supported"));if(1===n)i="resRC",a="resRC";else{for(var a,i,c=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],l=[],p=0;p<r.length;p++)l.push("".concat(c[p])),p<t&&u.push("".concat(c[p]));a=u.join(),i=l.join()}var f=(0,o.getCoordsDataType)(n);this.userCode="\n void main() {\n ".concat(f," resRC = getOutputCoords();\n float cVal = getC(").concat(a,");\n if (cVal >= 1.0) {\n setOutput(getA(").concat(i,"));\n } else {\n setOutput(getB(").concat(i,"));\n }\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],knkGS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"selu",function(){return c}),a.export(r,"seluConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i="\n // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n // see: https://arxiv.org/abs/1706.02515\n float scaleAlpha = ".concat(s.backend_util.SELU_SCALEALPHA,";\n float scale = ").concat(s.backend_util.SELU_SCALE,";\n return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n"),c=(0,o.unaryKernelFunc)({opSnippet:i}),u={kernelName:s.Selu,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2JXcU":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sigmoid",function(){return u}),a.export(r,"sigmoidConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=o.CHECK_NAN_SNIPPET_UNARY+"\n return 1.0 / (1.0 + exp(-1.0 * x));\n",u=(0,o.unaryKernelFunc)({opSnippet:c,packedOpSnippet:"\n vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n",cpuKernelImpl:i.sigmoidImplCPU}),l={kernelName:s.Sigmoid,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],e4edy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sign",function(){return o}),a.export(r,"signConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n if (isnan(x)) { return 0.0; }\n return sign(x);\n"}),i={kernelName:s.Sign,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3cYcY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sin",function(){return l}),a.export(r,"sinConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../binaryop_packed_gpu"),i=e("../kernel_utils/kernel_funcs_utils"),c=i.CHECK_NAN_SNIPPET_UNARY+"\n return sin(x);\n",u="\n vec4 result = sin(x);\n bvec4 isNaN = isnan(x);\n ".concat(o.CHECK_NAN_SNIPPET_PACKED,"\n return result;\n"),l=(0,i.unaryKernelFunc)({opSnippet:c,packedOpSnippet:u}),p={kernelName:s.Sin,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../binaryop_packed_gpu":"hSRNa","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bA48S:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sinh",function(){return o}),a.export(r,"sinhConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n float e2x = exp(x);\n return (e2x - 1.0 / e2x) / 2.0;\n"}),i={kernelName:s.Sinh,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9naGR":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softplus",function(){return o}),a.export(r,"softplusConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n float epsilon = 1.1920928955078125e-7;\n float threshold = log(epsilon) + 2.0;\n\n bool too_large = x > -threshold;\n bool too_small = x< threshold;\n\n float result;\n float exp_x = exp(x);\n\n if (too_large){\n result = x;\n }\n else if (too_small){\n result = exp_x;\n }\n else{\n result = log(exp_x + 1.0);\n }\n return result;\n"}),i={kernelName:s.Softplus,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7LghS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"spaceToBatchND",function(){return l}),a.export(r,"spaceToBatchNDConfig",function(){return p});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./PadV2"),c=e("./Reshape"),u=e("./Transpose"),l=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.blockShape,p=n.paddings;o.util.assert(a.shape.length<=4,function(){return"spaceToBatchND for rank >4 with a WebGL backend not implemented yet"});var f=l.reduce(function(e,t){return e*t}),d=[[0,0]];d.push.apply(d,(0,s._)(p));for(var h=1+l.length;h<a.shape.length;++h)d.push([0,0]);var m=[],g=(0,i.padV2)({inputs:{x:a},backend:r,attrs:{paddings:d,constantValue:0}}),v=o.backend_util.getReshaped(g.shape,l,f,!1),_=o.backend_util.getPermuted(v.length,l.length,!1),x=o.backend_util.getReshapedPermuted(g.shape,l,f,!1),y=(0,c.reshape)({inputs:{x:g},backend:r,attrs:{shape:v}}),b=(0,u.transpose)({inputs:{x:y},backend:r,attrs:{perm:_}}),k=(0,c.reshape)({inputs:{x:b},backend:r,attrs:{shape:x}});return m.push(g),m.push(y),m.push(b),m.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),k},p={kernelName:o.SpaceToBatchND,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","./PadV2":"axZQy","./Reshape":"65neR","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gUop4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseFillEmptyRows",function(){return c}),a.export(r,"sparseFillEmptyRowsConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.indices,a=t.values,o=t.denseShape,c=t.defaultValue;if(1!==o.shape.length)throw Error("Dense shape must be a vector, saw:\n ".concat(o.shape));if(2!==n.shape.length)throw Error("Indices must be a matrix, saw:\n ".concat(n.shape));if(1!==a.shape.length)throw Error("Values must be a vector, saw:\n ".concat(a.shape));if(0!==c.shape.length)throw Error("Default value must be a scalar, saw:\n ".concat(c.shape));var u=r.readSync(n.dataId),l=r.readSync(a.dataId),p=r.readSync(o.dataId),f=r.readSync(c.dataId)[0],d=(0,s._)((0,i.sparseFillEmptyRowsImplCPU)(u,n.shape,n.dtype,l,a.dtype,p,f),5),h=d[0],m=d[1],g=d[2],v=d[3],_=d[4];return[r.makeTensorInfo(m,n.dtype,h),r.makeTensorInfo([m[0]],a.dtype,g),r.makeTensorInfo([v.length],"bool",new Uint8Array(v.map(function(e){return Number(e)}))),r.makeTensorInfo([_.length],n.dtype,new Int32Array(_))]}var u={kernelName:o.SparseFillEmptyRows,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9dUR6":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseReshape",function(){return c}),a.export(r,"sparseReshapeConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.inputIndices,a=t.inputShape,o=t.newShape;if(2!==n.shape.length)throw Error("Input indices should be a matrix but received shape ".concat(n.shape));if(1!==a.shape.length)throw Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==o.shape.length)throw Error("Target shape should be a vector but received shape ".concat(o.shape));var c=Array.from(r.readSync(a.dataId)),u=r.readSync(n.dataId),l=Array.from(r.readSync(o.dataId)),p=(0,s._)((0,i.sparseReshapeImplCPU)(u,n.shape,n.dtype,c,l),3),f=p[0],d=p[1],h=p[2];return[r.makeTensorInfo(d,n.dtype,f),r.makeTensorInfo([h.length],o.dtype,new Int32Array(h))]}var u={kernelName:o.SparseReshape,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hRdXO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentMean",function(){return c}),a.export(r,"sparseSegmentMeanConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.data,a=t.indices,o=t.segmentIds;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw Error("Indices should be a vector but received shape\n ".concat(a.shape));if(1!==o.shape.length)throw Error("Segment ids should be a vector but received shape\n ".concat(o.shape));var c=r.readSync(n.dataId),u=r.readSync(a.dataId),l=r.readSync(o.dataId),p=(0,s._)((0,i.sparseSegmentReductionImplCPU)(c,n.shape,n.dtype,u,l,!0),2),f=p[0],d=p[1];return r.makeTensorInfo(d,n.dtype,f)}var u={kernelName:o.SparseSegmentMean,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kbZj6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentSum",function(){return c}),a.export(r,"sparseSegmentSumConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.data,a=t.indices,o=t.segmentIds;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw Error("Indices should be a vector but received shape\n ".concat(a.shape));if(1!==o.shape.length)throw Error("Segment ids should be a vector but received shape\n ".concat(o.shape));var c=r.readSync(n.dataId),u=r.readSync(a.dataId),l=r.readSync(o.dataId),p=(0,s._)((0,i.sparseSegmentReductionImplCPU)(c,n.shape,n.dtype,u,l),2),f=p[0],d=p[1];return r.makeTensorInfo(d,n.dtype,f)}var u={kernelName:o.SparseSegmentSum,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eaTOg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseToDense",function(){return u}),a.export(r,"sparseToDenseConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared"),i=e("../scatter_gpu"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.sparseIndices,u=t.sparseValues,l=t.defaultValue,p=n.outputShape,f=s.backend_util.calculateShapes(u,a,p),d=f.sliceRank,h=f.numUpdates,m=f.sliceSize,g=f.strides,v=f.outputSize;if("string"===u.dtype){var _=r.bufferSync(a),x=r.bufferSync(u),y=s.util.decodeString(r.readSync(l.dataId)[0]),b=(0,o.scatterImplCPU)(_,x,p,v,m,h,d,g,y,!1);return r.makeTensorInfo(p,b.dtype,b.values)}var k=new(0,i.ScatterProgram)(h,d,a.shape.length,u.shape.length,g,[v,1],!1),j=r.runWebGLProgram(k,[u,a,l],u.dtype),w=(0,c.reshape)({inputs:{x:j},backend:r,attrs:{shape:p}});return r.disposeIntermediateTensorInfo(j),w}var l={kernelName:s.SparseToDense,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","../scatter_gpu":"bg62W","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7FOqY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"splitV",function(){return c}),a.export(r,"splitVConfig",function(){return u});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./Slice");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.numOrSizeSplits,u=n.axis,l=o.util.parseAxisParam(u,a.shape)[0],p=o.backend_util.prepareSplitSize(a,c,l),f=Array(a.shape.length).fill(0),d=a.shape.slice();return p.map(function(e){var t=(0,s._)(d);t[l]=e;var n=(0,i.slice)({inputs:{x:a},backend:r,attrs:{begin:f,size:t}});return f[l]+=e,n})}var u={kernelName:o.SplitV,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","./Slice":"ak8BR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fcovB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sqrt",function(){return u}),a.export(r,"sqrtConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return sqrt(x);",u=(0,o.unaryKernelFunc)({opSnippet:c,packedOpSnippet:c,cpuKernelImpl:i.sqrtImplCPU}),l={kernelName:s.Sqrt,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cgV7s:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"square",function(){return o}),a.export(r,"squareConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return x * x;"}),i={kernelName:s.Square,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dlHxk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squaredDifference",function(){return c}),a.export(r,"squaredDifferenceConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/kernel_funcs_utils"),i="return (a - b) * (a - b);",c=(0,o.binaryKernelFunc)({opSnippet:i,packedOpSnippet:i}),u={kernelName:s.SquaredDifference,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ee4Oy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"staticRegexReplace",function(){return i}),a.export(r,"staticRegexReplaceConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x;if("string"!==a.dtype)throw Error("Input must be of datatype string");var i=r.readSync(a.dataId),c=s.backend_util.fromUint8ToStringArray(i),u=(0,o.staticRegexReplaceImplCPU)(c,"string",n);return r.makeTensorInfo(a.shape,"string",u)}var c={kernelName:s.StaticRegexReplace,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lnYBv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"step",function(){return i}),a.export(r,"stepConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../unaryop_gpu");function i(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,s=o.CHECK_NAN_SNIPPET+"\n return x >0.0 ? 1.0 : float(".concat(r.alpha,");\n "),i=new(0,o.UnaryOpProgram)(a.shape,s);return n.runWebGLProgram(i,[a],a.dtype)}var c={kernelName:s.Step,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../unaryop_gpu":"66B4A","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bDYiE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stridedSlice",function(){return l}),a.export(r,"stridedSliceConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared"),i=e("../strided_slice_gpu"),c=e("./Reshape"),u=e("./Slice");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.begin,f=a.end,d=a.strides,h=a.beginMask,m=a.endMask,g=a.ellipsisMask,v=a.newAxisMask,_=a.shrinkAxisMask,x=s.slice_util.sliceInfo(l.shape,p,f,d,h,m,g,v,_),y=x.finalShapeSparse,b=x.finalShape,k=x.isIdentity,j=x.sliceDim0,w=x.isSimpleSlice,I=x.begin,T=x.end,S=x.strides;if(k)t=(0,c.reshape)({inputs:{x:l},backend:n,attrs:{shape:b}});else if(j||w){s.util.assert(l.shape.length>=1,function(){return"Input must have rank at least 1, got: ".concat(l.shape.length)});var N=s.slice_util.computeOutShape(I,T,S),M=(0,u.slice)({inputs:{x:l},backend:n,attrs:{begin:I,size:N}});t=(0,c.reshape)({inputs:{x:M},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(M)}else if(n.shouldExecuteOnCPU([l])){var C=n.readSync(l.dataId),E=(0,s.buffer)(l.shape,l.dtype,C),F=(0,o.stridedSliceImplCPU)(y,E,S,I);t=n.makeTensorInfo(b,l.dtype,F.values)}else{var A=new(0,i.StridedSliceProgram)(I,S,y);t=n.runWebGLProgram(A,[l],l.dtype)}var R=(0,c.reshape)({inputs:{x:t},backend:n,attrs:{shape:b}});return n.disposeIntermediateTensorInfo(t),R}var p={kernelName:s.StridedSlice,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","../strided_slice_gpu":"8Ya80","./Reshape":"65neR","./Slice":"ak8BR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8Ya80":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"StridedSliceProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r,n){"use strict";(0,s._)(this,e),this.variableNames=["x"],this.outputShape=n;var a=n.length,i=(0,o.getCoordsDataType)(n.length),c=(0,o.getCoordsDataType)(n.length),u="";if(1===a)u="coords * strides + begin";else{var l=0;u=n.map(function(e,t){return l++,1===n.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(l-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")}).join(",")}this.userCode="\n ".concat(i," begin = ").concat(i,"(").concat(t,");\n ").concat(i," strides = ").concat(i,"(").concat(r,");\n\n void main() {\n ").concat(c," coords = getOutputCoords();\n setOutput(getX(").concat(u,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"66FCs":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringNGrams",function(){return c}),a.export(r,"stringNGramsConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=n.separator,o=n.nGramWidths,c=n.leftPad,u=n.rightPad,l=n.padWidth,p=n.preserveShortSequences,f=t.data,d=t.dataSplits,h=r.readSync(f.dataId),m=r.readSync(d.dataId),g=(0,s._)((0,i.stringNGramsImplCPU)(h,m,a,o,c,u,l,p),2),v=g[0],_=g[1];return[r.makeTensorInfo([v.length],"string",v),r.makeTensorInfo(d.shape,"int32",_)]}var u={kernelName:o.StringNGrams,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gtCdH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringSplit",function(){return c}),a.export(r,"stringSplitConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.skipEmpty,a=t.input,o=t.delimiter;if("string"!==a.dtype)throw Error("Input must be of datatype string");if(1!==a.shape.length)throw Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==o.shape.length)throw Error("Delimiter must be a scalar, got shape: ".concat(o.shape));var c=r.readSync(a.dataId),u=r.readSync(o.dataId)[0],l=(0,s._)((0,i.stringSplitImplCPU)(c,u,n),3),p=l[0],f=l[1],d=l[2],h=f.length;return[r.makeTensorInfo([h,2],"int32",p),r.makeTensorInfo([h],"string",f),r.makeTensorInfo([2],"int32",new Int32Array(d))]}var u={kernelName:o.StringSplit,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cRqZh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringToHashBucketFast",function(){return i}),a.export(r,"stringToHashBucketFastConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared");function i(e){var t=e.inputs,r=e.backend,n=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw Error("Input must be of datatype string");if(n<=0)throw Error("Number of buckets must be at least 1");var s=r.readSync(a.dataId),i=(0,o.stringToHashBucketFastImplCPU)(s,n);return r.makeTensorInfo(a.shape,"int32",i)}var c={kernelName:s.StringToHashBucketFast,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9oYty":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tan",function(){return o}),a.export(r,"tanConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return tan(x);"}),i={kernelName:s.Tan,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aPsaJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tanh",function(){return o}),a.export(r,"tanhConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n float e2x = exp(-2.0 * abs(x));\n return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),i={kernelName:s.Tanh,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/kernel_funcs_utils":"hHZZj","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2Obkm":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensorScatterUpdate",function(){return u}),a.export(r,"tensorScatterUpdateConfig",function(){return l});var s=e("@swc/helpers/cjs/_object_destructuring_empty.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../scatter_gpu"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.tensor,u=t.indices,l=t.updates;(0,s._)(n);var p=o.backend_util.calculateShapes(l,u,a.shape),f=p.sliceRank,d=p.numUpdates,h=p.sliceSize,m=p.strides,g=p.outputSize,v=[g/h,h];if(0===g)return r.makeTensorInfo(a.shape,u.dtype);var _=(0,c.reshape)({inputs:{x:u},backend:r,attrs:{shape:[d,f]}}),x=(0,c.reshape)({inputs:{x:l},backend:r,attrs:{shape:[d,h]}}),y=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:v}}),b=new(0,i.ScatterProgram)(d,f,_.shape.length,x.shape.length,m,v,!1,!0),k=r.runWebGLProgram(b,[x,_,y],y.dtype),j=(0,c.reshape)({inputs:{x:k},backend:r,attrs:{shape:a.shape}});return r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(k),j}var l={kernelName:o.TensorScatterUpdate,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_object_destructuring_empty.cjs":"hUoGc","@tensorflow/tfjs-core":"aOH7b","../scatter_gpu":"bg62W","./Reshape":"65neR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hUoGc:[function(e,t,r,n){"use strict";r._=function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}},{}],"1Z6C2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tile",function(){return c}),a.export(r,"tileConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared"),i=e("../tile_gpu");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.reps;if("string"===a.dtype||a.shape.length>5){var u=r.readSync(a.dataId),l="string"===a.dtype?u.map(function(e){return s.util.decodeString(e)}):u,p=(0,s.buffer)(a.shape,a.dtype,l),f=(0,o.tileImplCPU)(p,c);return r.makeTensorInfo(f.shape,f.dtype,f.values)}var d=new(0,i.TileProgram)(a.shape,c);return r.runWebGLProgram(d,[a],a.dtype)}var u={kernelName:s.Tile,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","../tile_gpu":"eH6mi","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eH6mi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TileProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=e("./shader_compiler"),i=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["A"];for(var n=Array(t.length),a=0;a<n.length;a++)n[a]=t[a]*r[a];this.outputShape=n,this.rank=n.length;var i=(0,o.getCoordsDataType)(this.rank),c=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],n=[],a=0;a<e.length;a++)n.push("imod(".concat(r[a],", ").concat(e[a],")"));return n.join()}(t);this.userCode="\n void main() {\n ".concat(i," resRC = getOutputCoords();\n setOutput(getA(").concat(c,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","./shader_compiler":"aJ4l7","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dq4Bc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"topK",function(){return m}),a.export(r,"topKConfig",function(){return g});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("../top_k_gpu"),u=e("./Fill"),l=e("./GatherV2"),p=e("./Reshape"),f=e("./Slice");function d(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function h(e){for(var t=1;t<e;)t*=2;return t}function m(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,m=n.k,g=n.sorted,v=(0,o.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),_=(0,o.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),x=a.shape,y=x[x.length-1];if(r.shouldExecuteOnCPU([a])||y<v||m>_){var b=r.readSync(a.dataId),k=(0,s._)((0,i.topKImplCPU)(b,x,a.dtype,m,g),2),j=k[0],w=k[1];return[r.makeTensorInfo(j.shape,j.dtype,j.values),r.makeTensorInfo(w.shape,w.dtype,w.values)]}if(0===m)return x[x.length-1]=0,[r.makeTensorInfo(x,a.dtype,[]),r.makeTensorInfo(x,"int32",[])];if(1===y)return[a,(0,u.fill)({attrs:{shape:x,dtype:"int32",value:0},backend:r})];var I=r.texData.get(a.dataId),T=null!==I&&I.isPacked,S=T?r.unpackTensor(a):a,N=o.util.sizeFromShape(x)/y,M=(0,p.reshape)({inputs:{x:S},attrs:{shape:[N,y]},backend:r});T&&d(r,S);for(var C=h(m),E=h(y),F=null,A=function(){return null===F?[M,M]:[M,F]},R=function(e,t,n){var a=A(),s=new(0,c.SwapProgram)(n),o=[[y],[+(null===F)],[-1/0],[e],[t]],i=F;F=r.runWebGLProgram(s,a,"int32",o),d(r,i)},P=1;P<C;P*=2)for(var O=2*P,D=P;D>=1;D/=2)R(O,D,[N,E]);for(var B=E;B>C;B/=2){var V=A(),G=new(0,c.MergeProgram)([N,B/2]),L=[[y],[+(null===F)],[C]],q=F;F=r.runWebGLProgram(G,V,"int32",L),d(r,q);for(var z=C/2,U=2*z,H=z;H>=1;H/=2)R(U,H,F.shape)}var W=F;F=(0,f.slice)({inputs:{x:F},backend:r,attrs:{begin:0,size:[N,m]}}),d(r,W);var K=(0,l.gatherV2)({inputs:{x:M,indices:F},backend:r,attrs:{axis:1,batchDims:1}});d(r,M);var X=x.slice(0,-1);X.push(m),W=F,F=(0,p.reshape)({inputs:{x:F},attrs:{shape:X},backend:r}),d(r,W);var Z=K;return K=(0,p.reshape)({inputs:{x:K},attrs:{shape:X},backend:r}),d(r,Z),[K,F]}var g={kernelName:o.TopK,backendName:"webgl",kernelFunc:m}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","../top_k_gpu":"jxUmd","./Fill":"kk0tE","./GatherV2":"c5lq9","./Reshape":"65neR","./Slice":"ak8BR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jxUmd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SwapProgram",function(){return o}),a.export(r,"MergeProgram",function(){return i});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int elemIdx = coords[1];\n\n // We compare elements pair-wise within a group of size 2 * inc.\n // The comparing rule for each group alternates between ascending\n // and descending. Within each group, we compare each pair at\n // positions i and i+inc. To decide whether an element at position i\n // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n // inc, it is in the first half of the group, we denote it as x0,\n // otherwise we denote it as x1.\n // For example, as shown in the Bitonic top K paper referenced above,\n // Figure5(a) shows that element[1] is in the\n // second half of the group when group size is 2, but it is in the\n // first half of the group when group size is 4.\n\n bool isFirstInPair = imod(elemIdx, 2 * inc)< inc;\n int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n // Denotes which direction indices are in (ascending or descending).\n bool reverse = imod(elemIdx, 2 * dir) >= dir;\n bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n if (reverse == isGreater) { // Elements in opposite order of direction\n int iTemp = i0;\n i0 = i1;\n i1 = iTemp;\n }\n if (isFirstInPair) {\n setOutput(float(i0));\n } else {\n setOutput(float(i1));\n }\n }\n "},i=function e(t){"use strict";(0,s._)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n void main() {\n // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int elemIdx = coords[1];\n\n // The output size is half of the previous size.\n // If the previous sequence is | | | | _ _ _ _ | | | | _ _ _ _ (k=4),\n // we only need to output the indices at positions |, the indices at\n // positions _ can be thrown away, see Figure5(b) After Phase 2\n // (Merge phase) in the Bitonic Top K paper referenced above.\n // For example, the paper shows we only need to output the orange bars.\n // The output sequence should look like this | | | | | | | |.\n // Because the sequence is halved, to map the output index back\n // to the previous sequence to find the corresponding value,\n // we need to double the index. When we double the index,\n // we basically interpolate a position, so 2i looks like\n // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n // of each 2k positions by - elemIdx % k. E.g. for output at\n // index 4,5,6,7, we want to get the corresponding element at\n // original index 8,9,10,11, for output at index 8,9,10,11,\n // we want to get the corresponding element at original index\n // 16,17,18,19, so on and so forth.\n\n int i = elemIdx< k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n float x0 = getX(batch, i0);\n float x1 = i1 < n ? getX(batch, i1) : x0;\n\n setOutput(x0 >= x1 ? float(i0) : float(i1));\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6kyYc":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transform",function(){return c}),a.export(r,"transformConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../transform_gpu");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.image,o=t.transforms,c=n.interpolation,u=n.fillMode,l=n.fillValue,p=n.outputShape,f=(0,s._)(a.shape,4),d=f[0],h=f[1],m=f[2],g=f[3],v=(0,s._)(null!=p?p:[h,m],2),_=v[0],x=v[1],y=new(0,i.TransformProgram)(h,m,c,u,l,[d,_,x,g]);return r.runWebGLProgram(y,[a,o],"float32")}var u={kernelName:o.Transform,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../transform_gpu":"gWyv0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gWyv0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TransformProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r,n,a,o,i){"use strict";var c;switch((0,s._)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=i,a){case"constant":default:c=1;break;case"reflect":c=2;break;case"wrap":c=3;break;case"nearest":c=4}this.userCode="\n float mapCoord(float outCoord, float len) {\n float inCoord = outCoord;\n if(".concat(c," == 2) {\n if (inCoord< 0.0) {\n if (len <= 1.0) {\n inCoord = 0.0;\n } else {\n float sz2 = 2.0 * len;\n if (inCoord < sz2) {\n inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n inCoord;\n }\n inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n }\n } else if (inCoord >len - 1.0) {\n if (len<= 1.0) {\n inCoord = 0.0;\n } else {\n float sz2 = 2.0 * len;\n inCoord -= sz2 * float(int(float(inCoord / sz2)));\n if (inCoord >= len) {\n inCoord = sz2 - inCoord - 1.0;\n }\n }\n }\n return clamp(inCoord, 0.0, len - 1.0);\n } else if (").concat(c," == 3) {\n if (inCoord< 0.0) {\n if (len <= 1.0) {\n inCoord = 0.0;\n } else {\n float sz = len - 1.0;\n inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n }\n } else if (inCoord >len - 1.0) {\n if (len<= 1.0) {\n inCoord = 0.0;\n } else {\n float sz = len - 1.0;\n inCoord -= len * float(int(float(inCoord / sz)));\n }\n }\n return clamp(inCoord, 0.0, len - 1.0);\n } else if (").concat(c," == 4) {\n return clamp(outCoord, 0.0, len - 1.0);\n } else {\n return outCoord;\n }\n }\n\n float readWithFillValue(int batch, int coordY, int coordX,\n int channel) {\n float outputValue;\n if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(r,") {\n outputValue = getImage(batch, coordY, coordX, channel);\n } else {\n outputValue = float(").concat(o,");\n }\n return outputValue;\n }\n\n void main() {\n ivec4 coords = getOutputCoords();\n float outputValue;\n int batch = coords[0];\n int x = coords[2];\n int y = coords[1];\n int channel = coords[3];\n float xf = float(x);\n float yf = float(y);\n float a1 = getTransforms(batch, 0);\n float a2 = getTransforms(batch, 1);\n float a3 = getTransforms(batch, 2);\n float b1 = getTransforms(batch, 3);\n float b2 = getTransforms(batch, 4);\n float b3 = getTransforms(batch, 5);\n float c1 = getTransforms(batch, 6);\n float c2 = getTransforms(batch, 7);\n float projection = c1 * xf + c2 * yf + 1.0;\n if (projection == 0.0) {\n outputValue = float(").concat(o,");\n } else {\n float inX = (a1 * xf + a2 * yf + a3) / projection;\n float inY = (b1 * xf + b2 * yf + b3) / projection;\n float mapX = mapCoord(inX, float(").concat(r,"));\n float mapY = mapCoord(inY, float(").concat(t,"));\n\n if (").concat("nearest"===n?1:2," == 1) {\n int coordY = int(round(mapY));\n int coordX = int(round(mapX));\n outputValue = readWithFillValue(batch, coordY, coordX,\n channel);\n } else {\n float yFloor = floor(mapY);\n float xFloor = floor(mapX);\n float yCeil = yFloor + 1.0;\n float xCeil = xFloor + 1.0;\n float valueYFloor = (xCeil - mapX) *\n readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n (mapX - xFloor) *\n readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n float valueYCeil = (xCeil - mapX) *\n readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n (mapX - xFloor) *\n readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n outputValue = (yCeil - mapY) * valueYFloor +\n (mapY - yFloor) * valueYCeil;\n }\n }\n setOutput(outputValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8YDva":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unique",function(){return c}),a.export(r,"uniqueConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../kernel_utils/shared"),i=e("../webgl_util");function c(e){var t=e.inputs,r=e.attrs,n=e.backend,a=r.axis,s=t.x;(0,i.assertNotComplex)(s,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var c=n.readSync(s.dataId),u=(0,o.uniqueImplCPU)(c,a,s.shape,s.dtype),l=u.outputValues,p=u.outputShape,f=u.indices;return[n.makeTensorInfo(p,s.dtype,l),n.makeTensorInfo([f.length],"int32",f)]}var u={kernelName:s.Unique,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../kernel_utils/shared":"gN7B4","../webgl_util":"4eDDt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fcfCl:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unpack",function(){return c}),a.export(r,"unpackConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("./Reshape"),i=e("./Slice");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.value,s=n.axis;s<0&&(s+=a.shape.length);for(var c=a.shape.length,u=a.shape[s],l=Array(c-1),p=0,f=0;f<c;f++)f!==s&&(l[p++]=a.shape[f]);var d=[],h=Array(c).fill(0),m=a.shape.slice();m[s]=1;for(var g=Array(u),v=0;v<g.length;v++){h[s]=v;var _=(0,i.slice)({inputs:{x:a},backend:r,attrs:{begin:h,size:m}}),x=(0,o.reshape)({inputs:{x:_},backend:r,attrs:{shape:l}});g[v]=x,d.push(_)}return d.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),g}var u={kernelName:s.Unpack,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","./Reshape":"65neR","./Slice":"ak8BR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6nf2r":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unsortedSegmentSum",function(){return p}),a.export(r,"unsortedSegmentSumConfig",function(){return f});var s=e("@tensorflow/tfjs-core"),o=e("../segment_gpu"),i=e("./Range"),c=e("./Reshape"),u=e("./Tile"),l=e("./Transpose");function p(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,p=t.segmentIds,f=n.numSegments,d=a.shape.length,h=[],m=0,g=s.backend_util.getAxesPermutation([m],d),v=a;null!=g&&(v=(0,l.transpose)({inputs:{x:a},backend:r,attrs:{perm:g}}),h.push(v),m=s.backend_util.getInnerMostAxes(1,d)[0]);var _=s.backend_util.segment_util.computeOutShape(v.shape,m,f),x=s.util.sizeFromShape([v.shape[m]]),y=(0,c.reshape)({inputs:{x:v},backend:r,attrs:{shape:[-1,x]}});h.push(y);var b=(0,s.sumOutType)(a.dtype),k=function(e,t,n,a,c){var l=e.shape[0],p=e.shape[1],f=s.backend_util.segment_util.segOpComputeOptimalWindowSize(p,c),d=new(0,o.SegmentOpProgram)({windowSize:f,inSize:p,batchSize:l,numSegments:c},t),m=r.compileAndRun(d,[e,n],a);if(h.push(m),m.shape[1]===c)return m;var g=(0,i.range)({backend:r,attrs:{start:0,stop:c,step:1,dtype:"float32"}}),v=(0,u.tile)({inputs:{x:g},backend:r,attrs:{reps:[p/f]}});return h.push(g),h.push(v),k(m,t,v,a,c)},j=k(y,"unsortedSegmentSum",p,b,f),w=(0,c.reshape)({inputs:{x:j},backend:r,attrs:{shape:_}}),I=w;if(null!=g){h.push(w);var T=s.backend_util.getUndoAxesPermutation(g);I=(0,l.transpose)({inputs:{x:I},backend:r,attrs:{perm:T}})}return h.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),I}var f={kernelName:s.UnsortedSegmentSum,backendName:"webgl",kernelFunc:p}},{"@tensorflow/tfjs-core":"aOH7b","../segment_gpu":"5WQGr","./Range":"hJGxy","./Reshape":"65neR","./Tile":"1Z6C2","./Transpose":"aDPRZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5WQGr":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SegmentOpProgram",function(){return o});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),o=function e(t,r){"use strict";(0,s._)(this,e),this.variableNames=["x","segmentIds"];var n=t.windowSize,a=t.batchSize,o=t.inSize,i=t.numSegments,c=i*Math.ceil(o/n);this.outputShape=[a,c];var u=4*Math.floor(n/4),l=n%4,p="\n sumValue += dot(values, segFilter);\n ",f="";o%n>0&&(f="\n if (inIdx< 0 || inIdx >= ".concat(o,") {\n return initializationValue;\n }\n "));var d="";o%n>0&&(d="\n if (inIdx< 0 || inIdx >= ".concat(o,") {\n return -1.0;\n }\n ")),this.userCode="\n const float initializationValue = ".concat("0.0",";\n\n float getValue(int batch, int inIdx) {\n ").concat(f,"\n return getX(batch, inIdx);\n }\n\n float getSegmentIdAtIndex(int inIdx) {\n ").concat(d,"\n return getSegmentIds(inIdx);\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int outIdx = coords[1];\n int inOffset = int(floor(float(outIdx) / float(\n ").concat(i,")) * float(").concat(n,"));\n int currentSeg = int(mod(float(outIdx), float(").concat(i,")));\n\n float sumValue = 0.0;\n\n for (int i = 0; i< ").concat(u,"; i += 4) {\n int inIdx = inOffset + i;\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n getValue(batch, inIdx + 3)\n );\n\n vec4 segFilter = vec4(\n int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n );\n\n ").concat(p,"\n }\n\n int inIdx = inOffset + ").concat(u,";\n if (").concat(1===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n initializationValue,\n initializationValue,\n initializationValue\n );\n\n int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n vec4 segFilter = vec4(\n int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n 0,\n 0,\n 0\n );\n\n ").concat(p,"\n } else if (").concat(2===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n initializationValue,\n initializationValue\n );\n\n vec4 segFilter = vec4(\n int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n 0,\n 0\n );\n\n ").concat(p,"\n } else if (").concat(3===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n initializationValue\n );\n\n vec4 segFilter = vec4(\n int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n 0\n );\n\n ").concat(p,"\n }\n setOutput(").concat("sumValue",");\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5BQ3i":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("./base");a.exportAll(s,r),e("./register_all_kernels")},{"./base":"g6MZ3","./register_all_kernels":"evTBt","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g6MZ3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MathBackendCPU",function(){return o.MathBackendCPU}),a.export(r,"version_cpu",function(){return c.version}),a.export(r,"shared",function(){return i});var s=e("@tensorflow/tfjs-core"),o=e("./backend_cpu"),i=e("./shared"),c=e("./version");(0,s.registerBackend)("cpu",function(){return new(0,o.MathBackendCPU)},1)},{"@tensorflow/tfjs-core":"aOH7b","./backend_cpu":"8uuoL","./shared":"jtOZi","./version":"2Hum6","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8uuoL":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MathBackendCPU",function(){return g});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),o=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_get.cjs"),l=e("@swc/helpers/cjs/_get_prototype_of.cjs"),p=e("@swc/helpers/cjs/_inherits.cjs"),f=e("@swc/helpers/cjs/_ts_generator.cjs"),d=e("@tensorflow/tfjs-core"),h=e("./cpu_util"),m=d.kernel_impls.whereImpl,g=function(e){"use strict";function t(){var e;return(0,i._)(this,t),(e=(0,o._)(this,t)).blockSize=48,e.firstUse=!0,e.data=new(0,d.DataStorage)(e,(0,d.engine)()),e}return(0,p._)(t,e),(0,c._)(t,[{key:"nextDataId",value:function(){return t.nextDataId++}},{key:"write",value:function(e,t,r){this.firstUse&&(this.firstUse=!1,(0,d.env)().get("IS_NODE")&&d.backend_util.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var n={id:this.nextDataId()};return this.data.set(n,{values:e,dtype:r,refCount:1}),n}},{key:"makeTensorInfo",value:function(e,t,r){var n;if("string"===t&&null!=r&&r.length>0&&d.util.isString(r[0])){var a=r.map(function(e){return d.util.encodeString(e)});n=this.write(a,e,t)}else n=this.write(r,e,t);return{dataId:n,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){var t=this.data.get(e);t.refCount++}},{key:"decRef",value:function(e){if(this.data.has(e)){var t=this.data.get(e);t.refCount--}}},{key:"move",value:function(e,t,r,n,a){this.data.set(e,{values:t,dtype:n,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(e){return(0,s._)(function(){return(0,f._)(this,function(t){return[2,this.readSync(e)]})}).call(this)}},{key:"readSync",value:function(e){var t=this.data.get(e),r=t.dtype,n=t.complexTensorInfos;if("complex64"===r){var a=this.readSync(n.real.dataId),s=this.readSync(n.imag.dataId);return d.backend_util.mergeRealAndImagArrays(a,s)}return d.util.convertBackendValuesAndArrayBuffer(this.data.get(e).values,r)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var r=t.map(function(e){return d.util.decodeString(e)});return(0,d.buffer)(e.shape,e.dtype,r)}catch(e){throw Error("Failed to decode encoded string bytes into utf-8")}return(0,d.buffer)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,r){return(0,d.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(t,r,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var r=this.data.get(e).complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(e){return(0,s._)(function(){var t;return(0,f._)(this,function(r){return t=d.util.now(),e(),[2,{kernelMs:d.util.now()-t}]})})()}},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){(0,h.assertNotComplex)([e],"where");var t=this.readSync(e.dataId);return m(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return(0,u._)((0,l._)(t.prototype),"epsilon",this).call(this)}}]),t}(d.KernelBackend);g.nextDataId=0},{"@swc/helpers/cjs/_async_to_generator.cjs":"cZn0e","@swc/helpers/cjs/_call_super.cjs":"clpdF","@swc/helpers/cjs/_class_call_check.cjs":"4Uf9M","@swc/helpers/cjs/_create_class.cjs":"igUuK","@swc/helpers/cjs/_get.cjs":"2Zl1N","@swc/helpers/cjs/_get_prototype_of.cjs":"NOGHw","@swc/helpers/cjs/_inherits.cjs":"jtSwf","@swc/helpers/cjs/_ts_generator.cjs":"eltGh","@tensorflow/tfjs-core":"aOH7b","./cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2Zl1N":[function(e,t,r,n){"use strict";var a=e("eccd5cff84eb670a");function s(e,t,n){return"undefined"!=typeof Reflect&&Reflect.get?r._=s=Reflect.get:r._=s=function(e,t,r){var n=a._(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(r||e):s.value}},s(e,t,n||e)}r._=s},{eccd5cff84eb670a:"8BvWV"}],"8BvWV":[function(e,t,r,n){"use strict";var a=e("4bc9bfb4aa5f6a");r._=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a._(e)););return e}},{"4bc9bfb4aa5f6a":"NOGHw"}],"2Hum6":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version",function(){return s});var s="4.22.0"},{"@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],evTBt:[function(e,t,r,n){var a=e("@tensorflow/tfjs-core"),s=e("./kernels/_FusedMatMul"),o=e("./kernels/Abs"),i=e("./kernels/Acos"),c=e("./kernels/Acosh"),u=e("./kernels/Add"),l=e("./kernels/AddN"),p=e("./kernels/All"),f=e("./kernels/Any"),d=e("./kernels/ArgMax"),h=e("./kernels/ArgMin"),m=e("./kernels/Asin"),g=e("./kernels/Asinh"),v=e("./kernels/Atan"),_=e("./kernels/Atan2"),x=e("./kernels/Atanh"),y=e("./kernels/AvgPool"),b=e("./kernels/AvgPool3D"),k=e("./kernels/AvgPool3DGrad"),j=e("./kernels/AvgPoolGrad"),w=e("./kernels/BatchMatMul"),I=e("./kernels/BatchNorm"),T=e("./kernels/BatchToSpaceND"),S=e("./kernels/Bincount"),N=e("./kernels/BitwiseAnd"),M=e("./kernels/BroadcastArgs"),C=e("./kernels/Cast"),E=e("./kernels/Ceil"),F=e("./kernels/ClipByValue"),A=e("./kernels/Complex"),R=e("./kernels/ComplexAbs"),P=e("./kernels/Concat"),O=e("./kernels/Conv2D"),D=e("./kernels/Conv2DBackpropFilter"),B=e("./kernels/Conv2DBackpropInput"),V=e("./kernels/Conv3D"),G=e("./kernels/Conv3DBackpropFilterV2"),L=e("./kernels/Conv3DBackpropInputV2"),q=e("./kernels/Cos"),z=e("./kernels/Cosh"),U=e("./kernels/CropAndResize"),H=e("./kernels/Cumprod"),W=e("./kernels/Cumsum"),K=e("./kernels/DenseBincount"),X=e("./kernels/DepthToSpace"),Z=e("./kernels/DepthwiseConv2dNative"),Q=e("./kernels/DepthwiseConv2dNativeBackpropFilter"),J=e("./kernels/DepthwiseConv2dNativeBackpropInput"),Y=e("./kernels/Diag"),$=e("./kernels/Dilation2D"),ee=e("./kernels/Dilation2DBackpropFilter"),et=e("./kernels/Dilation2DBackpropInput"),er=e("./kernels/Draw"),en=e("./kernels/Einsum"),ea=e("./kernels/Elu"),es=e("./kernels/EluGrad"),eo=e("./kernels/Equal"),ei=e("./kernels/Erf"),ec=e("./kernels/Exp"),eu=e("./kernels/ExpandDims"),el=e("./kernels/Expm1"),ep=e("./kernels/FFT"),ef=e("./kernels/Fill"),ed=e("./kernels/FlipLeftRight"),eh=e("./kernels/Floor"),em=e("./kernels/FloorDiv"),eg=e("./kernels/FusedConv2D"),ev=e("./kernels/FusedDepthwiseConv2D"),e_=e("./kernels/GatherNd"),ex=e("./kernels/GatherV2"),ey=e("./kernels/Greater"),eb=e("./kernels/GreaterEqual"),ek=e("./kernels/Identity"),ej=e("./kernels/IFFT"),ew=e("./kernels/Imag"),eI=e("./kernels/IsFinite"),eT=e("./kernels/IsInf"),eS=e("./kernels/IsNaN"),eN=e("./kernels/LeakyRelu"),eM=e("./kernels/Less"),eC=e("./kernels/LessEqual"),eE=e("./kernels/LinSpace"),eF=e("./kernels/Log"),eA=e("./kernels/Log1p"),eR=e("./kernels/LogicalAnd"),eP=e("./kernels/LogicalNot"),eO=e("./kernels/LogicalOr"),eD=e("./kernels/LRN"),eB=e("./kernels/LRNGrad"),eV=e("./kernels/Max"),eG=e("./kernels/Maximum"),eL=e("./kernels/MaxPool"),eq=e("./kernels/MaxPool3D"),ez=e("./kernels/MaxPool3DGrad"),eU=e("./kernels/MaxPoolGrad"),eH=e("./kernels/MaxPoolWithArgmax"),eW=e("./kernels/Mean"),eK=e("./kernels/Min"),eX=e("./kernels/Minimum"),eZ=e("./kernels/MirrorPad"),eQ=e("./kernels/Mod"),eJ=e("./kernels/Multinomial"),eY=e("./kernels/Multiply"),e$=e("./kernels/Neg"),e0=e("./kernels/NonMaxSuppressionV3"),e1=e("./kernels/NonMaxSuppressionV4"),e2=e("./kernels/NonMaxSuppressionV5"),e3=e("./kernels/NotEqual"),e4=e("./kernels/OneHot"),e6=e("./kernels/OnesLike"),e7=e("./kernels/Pack"),e5=e("./kernels/PadV2"),e9=e("./kernels/Pow"),e8=e("./kernels/Prelu"),te=e("./kernels/Prod"),tt=e("./kernels/RaggedGather"),tr=e("./kernels/RaggedRange"),tn=e("./kernels/RaggedTensorToTensor"),ta=e("./kernels/Range"),ts=e("./kernels/Real"),to=e("./kernels/RealDiv"),ti=e("./kernels/Reciprocal"),tc=e("./kernels/Relu"),tu=e("./kernels/Relu6"),tl=e("./kernels/Reshape"),tp=e("./kernels/ResizeBilinear"),tf=e("./kernels/ResizeBilinearGrad"),td=e("./kernels/ResizeNearestNeighbor"),th=e("./kernels/ResizeNearestNeighborGrad"),tm=e("./kernels/Reverse"),tg=e("./kernels/RotateWithOffset"),tv=e("./kernels/Round"),t_=e("./kernels/Rsqrt"),tx=e("./kernels/ScatterNd"),ty=e("./kernels/SearchSorted"),tb=e("./kernels/Select"),tk=e("./kernels/Selu"),tj=e("./kernels/Sigmoid"),tw=e("./kernels/Sign"),tI=e("./kernels/Sin"),tT=e("./kernels/Sinh"),tS=e("./kernels/Slice"),tN=e("./kernels/Softmax"),tM=e("./kernels/Softplus"),tC=e("./kernels/SpaceToBatchND"),tE=e("./kernels/SparseFillEmptyRows"),tF=e("./kernels/SparseReshape"),tA=e("./kernels/SparseSegmentMean"),tR=e("./kernels/SparseSegmentSum"),tP=e("./kernels/SparseToDense"),tO=e("./kernels/SplitV"),tD=e("./kernels/Sqrt"),tB=e("./kernels/Square"),tV=e("./kernels/SquaredDifference"),tG=e("./kernels/StaticRegexReplace"),tL=e("./kernels/Step"),tq=e("./kernels/StridedSlice"),tz=e("./kernels/StringNGrams"),tU=e("./kernels/StringSplit"),tH=e("./kernels/StringToHashBucketFast"),tW=e("./kernels/Sub"),tK=e("./kernels/Sum"),tX=e("./kernels/Tan"),tZ=e("./kernels/Tanh"),tQ=e("./kernels/TensorScatterUpdate"),tJ=e("./kernels/Tile"),tY=e("./kernels/TopK"),t$=e("./kernels/Transform"),t0=e("./kernels/Transpose"),t1=e("./kernels/Unique"),t2=e("./kernels/Unpack"),t3=e("./kernels/UnsortedSegmentSum"),t4=e("./kernels/ZerosLike"),t6=[s._fusedMatMulConfig,o.absConfig,i.acosConfig,c.acoshConfig,u.addConfig,l.addNConfig,p.allConfig,f.anyConfig,d.argMaxConfig,h.argMinConfig,m.asinConfig,g.asinhConfig,v.atanConfig,_.atan2Config,x.atanhConfig,y.avgPoolConfig,b.avgPool3DConfig,k.avgPool3DGradConfig,j.avgPoolGradConfig,w.batchMatMulConfig,I.batchNormConfig,T.batchToSpaceNDConfig,S.bincountConfig,N.bitwiseAndConfig,M.broadcastArgsConfig,C.castConfig,E.ceilConfig,F.clipByValueConfig,A.complexConfig,R.complexAbsConfig,P.concatConfig,O.conv2DConfig,D.conv2DBackpropFilterConfig,B.conv2DBackpropInputConfig,V.conv3DConfig,G.conv3DBackpropFilterV2Config,L.conv3DBackpropInputV2Config,q.cosConfig,z.coshConfig,U.cropAndResizeConfig,H.cumprodConfig,W.cumsumConfig,K.denseBincountConfig,X.depthToSpaceConfig,Z.depthwiseConv2dNativeConfig,Q.depthwiseConv2dNativeBackpropFilterConfig,J.depthwiseConv2dNativeBackpropInputConfig,Y.diagConfig,$.dilation2DConfig,ee.dilation2DBackpropFilterConfig,et.dilation2DBackpropInputConfig,er.drawConfig,en.einsumConfig,ea.eluConfig,es.eluGradConfig,eo.equalConfig,ei.erfConfig,ec.expConfig,eu.expandDimsConfig,el.expm1Config,ep.fftConfig,ef.fillConfig,ed.flipLeftRightConfig,eh.floorConfig,em.floorDivConfig,eg.fusedConv2DConfig,ev.fusedDepthwiseConv2DConfig,e_.gatherNdConfig,ex.gatherV2Config,ey.greaterConfig,eb.greaterEqualConfig,ek.identityConfig,ej.ifftConfig,ew.imagConfig,eI.isFiniteConfig,eT.isInfConfig,eS.isNaNConfig,eN.leakyReluConfig,eM.lessConfig,eC.lessEqualConfig,eE.linSpaceConfig,eF.logConfig,eA.log1pConfig,eR.logicalAndConfig,eP.logicalNotConfig,eO.logicalOrConfig,eD.LRNConfig,eB.LRNGradConfig,eV.maxConfig,eG.maximumConfig,eL.maxPoolConfig,eq.maxPool3DConfig,ez.maxPool3DGradConfig,eU.maxPoolGradConfig,eH.maxPoolWithArgmaxConfig,eW.meanConfig,eK.minConfig,eX.minimumConfig,eZ.mirrorPadConfig,eQ.modConfig,eJ.multinomialConfig,eY.multiplyConfig,e$.negConfig,e0.nonMaxSuppressionV3Config,e1.nonMaxSuppressionV4Config,e2.nonMaxSuppressionV5Config,e3.notEqualConfig,e4.oneHotConfig,e6.onesLikeConfig,e7.packConfig,e5.padV2Config,e9.powConfig,e8.preluConfig,te.prodConfig,tt.raggedGatherConfig,tr.raggedRangeConfig,tn.raggedTensorToTensorConfig,ta.rangeConfig,ts.realConfig,to.realDivConfig,ti.reciprocalConfig,tc.reluConfig,tu.relu6Config,tl.reshapeConfig,tp.resizeBilinearConfig,tf.resizeBilinearGradConfig,td.resizeNearestNeighborConfig,th.resizeNearestNeighborGradConfig,tm.reverseConfig,tg.rotateWithOffsetConfig,tv.roundConfig,t_.rsqrtConfig,tx.scatterNdConfig,ty.searchSortedConfig,tb.selectConfig,tk.seluConfig,tj.sigmoidConfig,tw.signConfig,tI.sinConfig,tT.sinhConfig,tS.sliceConfig,tN.softmaxConfig,tM.softplusConfig,tC.spaceToBatchNDConfig,tE.sparseFillEmptyRowsConfig,tF.sparseReshapeConfig,tA.sparseSegmentMeanConfig,tR.sparseSegmentSumConfig,tP.sparseToDenseConfig,tO.splitVConfig,tD.sqrtConfig,tB.squareConfig,tV.squaredDifferenceConfig,tG.staticRegexReplaceConfig,tL.stepConfig,tq.stridedSliceConfig,tz.stringNGramsConfig,tU.stringSplitConfig,tH.stringToHashBucketFastConfig,tW.subConfig,tK.sumConfig,tX.tanConfig,tZ.tanhConfig,tQ.tensorScatterUpdateConfig,tJ.tileConfig,tY.topKConfig,t$.transformConfig,t0.transposeConfig,t1.uniqueConfig,t2.unpackConfig,t3.unsortedSegmentSumConfig,t4.zerosLikeConfig],t7=!0,t5=!1,t9=void 0;try{for(var t8,re=t6[Symbol.iterator]();!(t7=(t8=re.next()).done);t7=!0){var rt=t8.value;(0,a.registerKernel)(rt)}}catch(e){t5=!0,t9=e}finally{try{t7||null==re.return||re.return()}finally{if(t5)throw t9}}},{"@tensorflow/tfjs-core":"aOH7b","./kernels/_FusedMatMul":"iiL7H","./kernels/Abs":"bQCnE","./kernels/Acos":"iO7wG","./kernels/Acosh":"12PK1","./kernels/Add":"3EVTG","./kernels/AddN":"8VuZ0","./kernels/All":"4Ll0P","./kernels/Any":"jcrdQ","./kernels/ArgMax":"ivjlp","./kernels/ArgMin":"dQDMc","./kernels/Asin":"8FAmk","./kernels/Asinh":"dNz6P","./kernels/Atan":"1MwFB","./kernels/Atan2":"jUan9","./kernels/Atanh":"ltBHY","./kernels/AvgPool":"8CqV5","./kernels/AvgPool3D":"5B1De","./kernels/AvgPool3DGrad":"gJSh2","./kernels/AvgPoolGrad":"jUWYO","./kernels/BatchMatMul":"llG3X","./kernels/BatchNorm":"5Av1D","./kernels/BatchToSpaceND":"jFZzA","./kernels/Bincount":"fWlT1","./kernels/BitwiseAnd":"5EzGR","./kernels/BroadcastArgs":"6WnrW","./kernels/Cast":"kWbgg","./kernels/Ceil":"eWrsC","./kernels/ClipByValue":"cGTvg","./kernels/Complex":"7QCs0","./kernels/ComplexAbs":"4dILH","./kernels/Concat":"l8WtE","./kernels/Conv2D":"2NULW","./kernels/Conv2DBackpropFilter":"hRdK5","./kernels/Conv2DBackpropInput":"gJHBe","./kernels/Conv3D":"3HkuK","./kernels/Conv3DBackpropFilterV2":"edS7H","./kernels/Conv3DBackpropInputV2":"3q4Fs","./kernels/Cos":"9oRQe","./kernels/Cosh":"byuEz","./kernels/CropAndResize":"3VJMS","./kernels/Cumprod":"5QPId","./kernels/Cumsum":"8blcH","./kernels/DenseBincount":"14vaF","./kernels/DepthToSpace":"bJ7Y7","./kernels/DepthwiseConv2dNative":"jYiIL","./kernels/DepthwiseConv2dNativeBackpropFilter":"4aYan","./kernels/DepthwiseConv2dNativeBackpropInput":"g3D1Q","./kernels/Diag":"fhLmA","./kernels/Dilation2D":"e7NMs","./kernels/Dilation2DBackpropFilter":"leVyg","./kernels/Dilation2DBackpropInput":"hvVT4","./kernels/Draw":"dVPOl","./kernels/Einsum":"icNbC","./kernels/Elu":"dCg1h","./kernels/EluGrad":"bHl1F","./kernels/Equal":"jWX2L","./kernels/Erf":"eloBO","./kernels/Exp":"9TnhL","./kernels/ExpandDims":"kufDD","./kernels/Expm1":"eJEPE","./kernels/FFT":"hCOPO","./kernels/Fill":"96JRw","./kernels/FlipLeftRight":"6LaIO","./kernels/Floor":"bu3Ph","./kernels/FloorDiv":"eHvBk","./kernels/FusedConv2D":"6Ucts","./kernels/FusedDepthwiseConv2D":"b1vNt","./kernels/GatherNd":"iEHvo","./kernels/GatherV2":"5m8L1","./kernels/Greater":"i7ONS","./kernels/GreaterEqual":"4bOZY","./kernels/Identity":"hoIfp","./kernels/IFFT":"gmsJv","./kernels/Imag":"gk69N","./kernels/IsFinite":"kjR6M","./kernels/IsInf":"ewmQi","./kernels/IsNaN":"8DUtd","./kernels/LeakyRelu":"hhJlE","./kernels/Less":"ef92N","./kernels/LessEqual":"d4FOC","./kernels/LinSpace":"6lVUl","./kernels/Log":"akLAB","./kernels/Log1p":"5xkV7","./kernels/LogicalAnd":"WTW7W","./kernels/LogicalNot":"grQHV","./kernels/LogicalOr":"5aV69","./kernels/LRN":"kqRnZ","./kernels/LRNGrad":"9YJ02","./kernels/Max":"7OuGj","./kernels/Maximum":"1dJJz","./kernels/MaxPool":"6xNof","./kernels/MaxPool3D":"d1fKi","./kernels/MaxPool3DGrad":"1sDNZ","./kernels/MaxPoolGrad":"4U6Jb","./kernels/MaxPoolWithArgmax":"keQ8v","./kernels/Mean":"e2uRi","./kernels/Min":"69bKE","./kernels/Minimum":"eXIv8","./kernels/MirrorPad":"1DsIs","./kernels/Mod":"40nMm","./kernels/Multinomial":"chLGx","./kernels/Multiply":"1KdVu","./kernels/Neg":"eJFnr","./kernels/NonMaxSuppressionV3":"6Indl","./kernels/NonMaxSuppressionV4":"bM6D9","./kernels/NonMaxSuppressionV5":"9bv12","./kernels/NotEqual":"fUUlH","./kernels/OneHot":"7ptMk","./kernels/OnesLike":"eduGs","./kernels/Pack":"f2gUP","./kernels/PadV2":"eeJad","./kernels/Pow":"8PzaQ","./kernels/Prelu":"jLEr5","./kernels/Prod":"lP33Z","./kernels/RaggedGather":"kpyNn","./kernels/RaggedRange":"48DnM","./kernels/RaggedTensorToTensor":"ekX8L","./kernels/Range":"dZyoU","./kernels/Real":"kmbU8","./kernels/RealDiv":"9XjI4","./kernels/Reciprocal":"cXxlB","./kernels/Relu":"cus5c","./kernels/Relu6":"aARW4","./kernels/Reshape":"j3OqQ","./kernels/ResizeBilinear":"bYVKL","./kernels/ResizeBilinearGrad":"dlCGa","./kernels/ResizeNearestNeighbor":"ic5Qa","./kernels/ResizeNearestNeighborGrad":"Ogux7","./kernels/Reverse":"16Buh","./kernels/RotateWithOffset":"ccfq6","./kernels/Round":"8WPmQ","./kernels/Rsqrt":"eIBuK","./kernels/ScatterNd":"a6SbL","./kernels/SearchSorted":"lA2j8","./kernels/Select":"6pc9k","./kernels/Selu":"gvZPX","./kernels/Sigmoid":"jksZb","./kernels/Sign":"8YQqt","./kernels/Sin":"fWl4V","./kernels/Sinh":"9zH29","./kernels/Slice":"28Hnf","./kernels/Softmax":"eT270","./kernels/Softplus":"stOf2","./kernels/SpaceToBatchND":"jLaop","./kernels/SparseFillEmptyRows":"czej8","./kernels/SparseReshape":"a6lHv","./kernels/SparseSegmentMean":"buUhk","./kernels/SparseSegmentSum":"2DGCr","./kernels/SparseToDense":"liQJy","./kernels/SplitV":"fktE7","./kernels/Sqrt":"4YAj6","./kernels/Square":"gHLwU","./kernels/SquaredDifference":"elmzI","./kernels/StaticRegexReplace":"98Jvt","./kernels/Step":"654jO","./kernels/StridedSlice":"fJOzh","./kernels/StringNGrams":"3PXCz","./kernels/StringSplit":"aYZAd","./kernels/StringToHashBucketFast":"djxLB","./kernels/Sub":"3yOhY","./kernels/Sum":"9djt1","./kernels/Tan":"hZj7s","./kernels/Tanh":"cFf4g","./kernels/TensorScatterUpdate":"1MqLx","./kernels/Tile":"gmSUp","./kernels/TopK":"cU2A2","./kernels/Transform":"dXXD8","./kernels/Transpose":"2CsMD","./kernels/Unique":"eZ72U","./kernels/Unpack":"1r9K5","./kernels/UnsortedSegmentSum":"hF8BD","./kernels/ZerosLike":"4uVAc"}],iiL7H:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"_fusedMatMul",function(){return u}),a.export(r,"_fusedMatMulConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/fused_utils"),i=e("./Add"),c=e("./BatchMatMul");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.a,s=t.b,u=t.bias,l=t.preluActivationWeights,p=n.transposeA,f=n.transposeB,d=n.activation,h=n.leakyreluAlpha,m=[];x=(0,c.batchMatMul)({inputs:{a:a,b:s},attrs:{transposeA:p,transposeB:f},backend:r}),u&&(y=(0,i.add)({inputs:{a:x,b:u},backend:r}),m.push(x),x=y),d&&(b=(0,o.applyActivation)(r,x,d,l,h),m.push(x),x=b);var g=!0,v=!1,_=void 0;try{for(var x,y,b,k,j=m[Symbol.iterator]();!(g=(k=j.next()).done);g=!0){var w=k.value;r.disposeIntermediateTensorInfo(w)}}catch(e){v=!0,_=e}finally{try{g||null==j.return||j.return()}finally{if(v)throw _}}return x}var l={kernelName:s._FusedMatMul,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/fused_utils":"eeSsF","./Add":"3EVTG","./BatchMatMul":"llG3X","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eeSsF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"applyActivation",function(){return f});var s=e("../kernels/Elu"),o=e("../kernels/Identity"),i=e("../kernels/LeakyRelu"),c=e("../kernels/Prelu"),u=e("../kernels/Relu"),l=e("../kernels/Relu6"),p=e("../kernels/Sigmoid");function f(e,t,r,n,a){if("linear"===r)return(0,o.identity)({inputs:{x:t},backend:e});if("relu"===r)return(0,u.relu)({inputs:{x:t},backend:e});if("elu"===r)return(0,s.elu)({inputs:{x:t},backend:e});if("relu6"===r)return(0,l.relu6)({inputs:{x:t},backend:e});if("prelu"===r)return(0,c.prelu)({inputs:{x:t,alpha:n},backend:e});else if("leakyrelu"===r)return(0,i.leakyRelu)({inputs:{x:t},backend:e,attrs:{alpha:a}});else if("sigmoid"===r)return(0,p.sigmoid)({inputs:{x:t},backend:e});throw Error("Activation ".concat(r," has not been implemented for the CPU backend."))}},{"../kernels/Elu":"dCg1h","../kernels/Identity":"hoIfp","../kernels/LeakyRelu":"hhJlE","../kernels/Prelu":"jLEr5","../kernels/Relu":"cus5c","../kernels/Relu6":"aARW4","../kernels/Sigmoid":"jksZb","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dCg1h:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"elu",function(){return o}),a.export(r,"eluConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Elu,function(e){return e>=0?e:Math.exp(e)-1}),i={kernelName:s.Elu,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hhJlE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"leakyRelu",function(){return i}),a.export(r,"leakyReluConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.alpha;(0,o.assertNotComplex)([a],"leakyRelu");for(var c=s.util.sizeFromShape(a.shape),u=r.data.get(a.dataId).values,l=s.util.getTypedArrayFromDType("float32",c),p=0;p<u.length;p++)l[p]=u[p]<0?i*u[p]:u[p];return r.makeTensorInfo(a.shape,"float32",l)}var c={kernelName:s.LeakyRelu,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jLEr5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prelu",function(){return u}),a.export(r,"preluConfig",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=(0,e("../utils/binary_impl").createSimpleBinaryKernelImpl)(function(e,t){return e<0?t*e:e});function u(e){var t=e.inputs,r=e.backend,n=t.x,a=t.alpha;(0,i.assertNotComplex)([n,a],"prelu");var o=r.data.get(n.dataId).values,u=r.data.get(a.dataId).values,l=(0,s._)(c(n.shape,a.shape,o,u,"float32"),2),p=l[0],f=l[1];return r.makeTensorInfo(f,"float32",p)}var l={kernelName:o.Prelu,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","../utils/binary_impl":"dGtkM","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cus5c:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu",function(){return o}),a.export(r,"reluConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Relu,function(e){return Math.max(0,e)}),i={kernelName:s.Relu,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aARW4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu6",function(){return o}),a.export(r,"relu6Config",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Relu6,function(e){return Math.min(Math.max(0,e),6)}),i={kernelName:s.Relu6,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],llG3X:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchMatMul",function(){return u}),a.export(r,"batchMatMulConfig",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.a,u=t.b,l=n.transposeA,p=n.transposeB;(0,i.assertNotComplex)([a,u],"matMul");var f=a.shape.length,d=u.shape.length,h=l?a.shape[f-2]:a.shape[f-1],m=p?u.shape[d-1]:u.shape[d-2],g=l?a.shape[f-1]:a.shape[f-2],v=p?u.shape[d-2]:u.shape[d-1],_=a.shape.slice(0,-2),x=u.shape.slice(0,-2),y=o.util.sizeFromShape(_),b=o.util.sizeFromShape(x),k=o.broadcast_util.assertAndGetBroadcastShape(a.shape.slice(0,-2),u.shape.slice(0,-2)).concat([g,v]);o.util.assert(h===m,function(){return"Error in matMul: inner shapes (".concat(h,") and (")+"".concat(m,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(u.shape," and transposeA=").concat(l)+" and transposeB=".concat(p," must match.")});for(var j=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:l?[y,h,g]:[y,g,h]}}),w=(0,c.reshape)({inputs:{x:u},backend:r,attrs:{shape:p?[b,v,m]:[b,m,v]}}),I=l?j.shape[1]:j.shape[2],T=l?j.shape[2]:j.shape[1],S=p?w.shape[1]:w.shape[2],N=Math.max(y,b),M=r.data.get(j.dataId).values,C=r.data.get(w.dataId).values,E=o.util.computeStrides(j.shape),F=o.util.computeStrides(w.shape),A=(0,s._)(l?[E[0],1,E[1]]:[E[0],E[1],1],3),R=A[0],P=A[1],O=A[2],D=(0,s._)(p?[1,F[1],F[0]]:[F[1],1,F[0]],3),B=D[0],V=D[1],G=D[2],L=T*S,q=(0,o.buffer)([N,T,S],j.dtype),z=q.values,U=r.blockSize,H=0;H<N;H++)for(var W=H%y,K=H%b,X=0;X<T;X+=U)for(var Z=Math.min(X+U,T),Q=0;Q<S;Q+=U)for(var J=Math.min(Q+U,S),Y=0;Y<I;Y+=U)for(var $=Math.min(Y+U,I),ee=X;ee<Z;ee++)for(var et=Q;et<J;et++){for(var er=0,en=Y;en<$;en++)er+=M[W*R+ee*P+en*O]*C[en*B+et*V+K*G];z[H*L+(ee*S+et)]+=er}return r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(w),r.makeTensorInfo(k,q.dtype,q.values)}var l={kernelName:o.BatchMatMul,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Reshape":"j3OqQ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],j3OqQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reshape",function(){return o}),a.export(r,"reshapeConfig",function(){return i});var s=e("@tensorflow/tfjs-core");function o(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.shape,i=s.util.sizeFromShape(a.shape),c=s.util.inferFromImplicitShape(o,i),u=s.util.sizeFromShape(c);s.util.assert(i===u,function(){return"The new shape (".concat(c,") has ").concat(u," elements and the old ")+"shape (".concat(a.shape,") has ").concat(i," elements. The new shape and old ")+"shape must have the same number of elements."}),r.incRef(a.dataId);var l=r.data.get(a.dataId);if(null!=l.complexTensorInfos){var p=l.complexTensorInfos.real,f=l.complexTensorInfos.imag;p.shape=c,f.shape=c}return{dataId:a.dataId,shape:c,dtype:a.dtype}}var i={kernelName:s.Reshape,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iO7wG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acos",function(){return o}),a.export(r,"acosConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Acos,function(e){return Math.acos(e)}),i={kernelName:s.Acos,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"12PK1":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acosh",function(){return o}),a.export(r,"acoshConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Acosh,function(e){return Math.acosh(e)}),i={kernelName:s.Acosh,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8VuZ0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addN",function(){return i}),a.export(r,"addNConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend;(0,o.assertNotComplex)(t,"addN");for(var n=t.map(function(e){return r.data.get(e.dataId).values}),a=(0,s.buffer)(t[0].shape,t[0].dtype),i=a.values,c=0;c<t.length;c++)for(var u=n[c],l=0;l<i.length;l++)i[l]+=u[l];return r.makeTensorInfo(a.shape,a.dtype,a.values)}var c={kernelName:s.AddN,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4Ll0P":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"all",function(){return l}),a.export(r,"allConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.axis,p=n.keepDims;(0,i.assertNotComplex)(a,"all");var f=o.util.parseAxisParam(l,a.shape),d=f,h=o.backend_util.getAxesPermutation(d,a.shape.length),m=a;null!=h&&(m=(0,u.transpose)({inputs:{x:a},backend:r,attrs:{perm:h}}),d=o.backend_util.getInnerMostAxes(d.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("all",d,m.shape.length);for(var g=(0,s._)(o.backend_util.computeOutAndReduceShapes(m.shape,d),2),v=g[0],_=g[1],x=o.util.sizeFromShape(_),y=o.util.makeZerosTypedArray(o.util.sizeFromShape(v),m.dtype),b=r.data.get(m.dataId).values,k=0;k<y.length;++k){for(var j=k*x,w=b[j],I=0;I<x;++I){var T=b[j+I];w=w&&T}y[k]=w}null!=h&&r.disposeIntermediateTensorInfo(m);var S=r.makeTensorInfo(v,m.dtype,y);if(p){var N=o.backend_util.expandShapeToKeepDim(v,f),M=(0,c.reshape)({inputs:{x:S},backend:r,attrs:{shape:N}});return r.disposeIntermediateTensorInfo(S),M}return S}var p={kernelName:o.All,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Reshape":"j3OqQ","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jcrdQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"any",function(){return l}),a.export(r,"anyConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.axis,p=n.keepDims;(0,i.assertNotComplex)(a,"any");var f=o.util.parseAxisParam(l,a.shape),d=f,h=o.backend_util.getAxesPermutation(d,a.shape.length),m=a;null!=h&&(m=(0,u.transpose)({inputs:{x:a},backend:r,attrs:{perm:h}}),d=o.backend_util.getInnerMostAxes(d.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("any",d,m.shape.length);for(var g=(0,s._)(o.backend_util.computeOutAndReduceShapes(m.shape,d),2),v=g[0],_=g[1],x=o.util.sizeFromShape(_),y=o.util.makeZerosTypedArray(o.util.sizeFromShape(v),m.dtype),b=r.data.get(m.dataId).values,k=0;k<y.length;++k){for(var j=k*x,w=b[j],I=0;I<x;++I){var T=b[j+I];w=w||T}y[k]=w}null!=h&&r.disposeIntermediateTensorInfo(m);var S=r.makeTensorInfo(v,m.dtype,y);if(p){var N=o.backend_util.expandShapeToKeepDim(v,f),M=(0,c.reshape)({inputs:{x:S},backend:r,attrs:{shape:N}});return r.disposeIntermediateTensorInfo(S),M}return S}var p={kernelName:o.Any,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Reshape":"j3OqQ","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ivjlp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMax",function(){return u}),a.export(r,"argMaxConfig",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Transpose");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.axis;(0,i.assertNotComplex)(a,"argMax");var l=o.util.parseAxisParam(u,a.shape),p=o.backend_util.getAxesPermutation(l,a.shape.length),f=a,d=[];null!=p&&(d.push(f=(0,c.transpose)({inputs:{x:a},backend:r,attrs:{perm:p}})),l=o.backend_util.getInnerMostAxes(l.length,f.shape.length)),l=[l[0]],o.backend_util.assertAxesAreInnerMostDims("argMax",l,f.shape.length);for(var h=(0,s._)(o.backend_util.computeOutAndReduceShapes(f.shape,l),2),m=h[0],g=h[1],v=o.util.sizeFromShape(m),_=o.util.makeZerosTypedArray(v,"int32"),x=o.util.sizeFromShape(g),y=r.data.get(f.dataId).values,b=0;b<_.length;++b){for(var k=b*x,j=y[k],w=0,I=0;I<x;++I){var T=y[k+I];T>j&&(j=T,w=I)}_[b]=w}return d.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.makeTensorInfo(m,"int32",_)}var l={kernelName:o.ArgMax,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dQDMc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMin",function(){return u}),a.export(r,"argMinConfig",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Transpose");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.axis;(0,i.assertNotComplex)(a,"argMin");var l=o.util.parseAxisParam(u,a.shape),p=o.backend_util.getAxesPermutation(l,a.shape.length),f=a,d=[];null!=p&&(d.push(f=(0,c.transpose)({inputs:{x:a},backend:r,attrs:{perm:p}})),l=o.backend_util.getInnerMostAxes(l.length,f.shape.length)),l=[l[0]],o.backend_util.assertAxesAreInnerMostDims("argMin",l,f.shape.length);for(var h=(0,s._)(o.backend_util.computeOutAndReduceShapes(f.shape,l),2),m=h[0],g=h[1],v=o.util.sizeFromShape(m),_=o.util.makeZerosTypedArray(v,"int32"),x=o.util.sizeFromShape(g),y=r.data.get(f.dataId).values,b=0;b<_.length;++b){for(var k=b*x,j=y[k],w=0,I=0;I<x;++I){var T=y[k+I];T<j&&(j=T,w=I)}_[b]=w}return d.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.makeTensorInfo(m,"int32",_)}var l={kernelName:o.ArgMin,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8FAmk":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asin",function(){return o}),a.export(r,"asinConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Asin,function(e){return Math.asin(e)}),i={kernelName:s.Asin,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dNz6P:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asinh",function(){return o}),a.export(r,"asinhConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Asinh,function(e){return Math.asinh(e)}),i={kernelName:s.Asinh,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1MwFB":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan",function(){return o}),a.export(r,"atanConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Atan,function(e){return Math.atan(e)}),i={kernelName:s.Atan,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jUan9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan2Impl",function(){return c}),a.export(r,"atan2",function(){return u}),a.export(r,"atan2Config",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return Math.atan2(e,t)}),u=(0,i.binaryKernelFunc)(s.Atan2,c),l={kernelName:s.Atan2,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ltBHY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atanh",function(){return o}),a.export(r,"atanhConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Atanh,function(e){return Math.atanh(e)}),i={kernelName:s.Atanh,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8CqV5":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool",function(){return u}),a.export(r,"avgPoolConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("../utils/pool_utils"),c=e("./Identity");function u(e){var t,r=e.inputs,n=e.backend,a=e.attrs,u=r.x;(0,o.assertNotComplex)(u,"avgPool");var l=a.filterSize,p=a.strides,f=a.pad,d=a.dimRoundingMode;s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(p,1),function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(p," and dilations '").concat(1,"'")});var h=s.backend_util.computePool2DInfo(u.shape,l,p,1,f,d);if(1===h.filterWidth&&1===h.filterHeight&&s.util.arraysEqual(h.inShape,h.outShape))t=(0,c.identity)({inputs:{x:u},backend:n});else{var m=n.data.get(u.dataId).values,g=s.util.computeStrides(u.shape),v=(0,i.pool)(m,u.shape,u.dtype,g,h,"avg");t=n.makeTensorInfo(h.outShape,u.dtype,v.values)}return t}var l={kernelName:s.AvgPool,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","../utils/pool_utils":"fC3Db","./Identity":"hoIfp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fC3Db:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pool",function(){return o}),a.export(r,"maxPoolPositions",function(){return i}),a.export(r,"pool3d",function(){return c}),a.export(r,"maxPool3dPositions",function(){return u});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n,a,o){for(var i=a.strideHeight,c=a.strideWidth,u=a.dilationHeight,l=a.dilationWidth,p=a.effectiveFilterHeight,f=a.effectiveFilterWidth,d=a.padInfo.top,h=a.padInfo.left,m="max"===o?-1/0:1/0,g=(0,s.buffer)(a.outShape,r),v=g.values,_=a.outShape[1]*a.outShape[2]*a.outShape[3],x=a.outShape[2]*a.outShape[3],y=a.outShape[3],b=0;b<a.batchSize;++b)for(var k=b*_,j=b*n[0],w=0;w<a.inChannels;++w)for(var I=0;I<a.outHeight;++I)for(var T=I*i-d,S=Math.max(0,T),N=Math.min(a.inHeight,p+T),M=k+I*x,C=0;C<a.outWidth;++C){for(var E=C*c-h,F=Math.max(0,E),A=Math.min(a.inWidth,f+E),R=m,P=0,O=0,D=S;D<N;D+=u){for(var B=j+D*n[1],V=F;V<A;V+=l){var G=e[B+V*n[2]+w];"max"===o&&G>R?R=G:"avg"===o&&(P+=G,O++)}if(isNaN(R))break}v[M+C*y+w]="avg"===o?P/O:R}return g}function i(e,t,r,n){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=(0,s.buffer)(n.outShape,"int32"),c=n.strideHeight,u=n.strideWidth,l=n.dilationHeight,p=n.dilationWidth,f=n.effectiveFilterHeight,d=n.effectiveFilterWidth,h=n.padInfo.top,m=n.padInfo.left,g=(0,s.buffer)(t,r,e),v=0;v<n.batchSize;++v)for(var _=0;_<n.inChannels;++_)for(var x=0;x<n.outHeight;++x){for(var y=x*c-h,b=y;b<0;)b+=l;for(var k=Math.min(n.inHeight,f+y),j=0;j<n.outWidth;++j){for(var w=j*u-m,I=w;I<0;)I+=p;for(var T=Math.min(n.inWidth,d+w),S=-1/0,N=-1,M=b;M<k;M+=l)for(var C=M-y,E=I;E<T;E+=p){var F=E-w,A=g.get(v,M,E,_);A>S&&(S=A,N=a?o?((v*n.inHeight+M)*n.inWidth+E)*n.inChannels+_:(M*n.inWidth+E)*n.inChannels+_:C*d+F)}i.set(N,v,x,j,_)}}return i}function c(e,t,r,n,a,o){for(var i=a.strideDepth,c=a.strideHeight,u=a.strideWidth,l=a.dilationDepth,p=a.dilationHeight,f=a.dilationWidth,d=a.effectiveFilterDepth,h=a.effectiveFilterHeight,m=a.effectiveFilterWidth,g=a.padInfo.front,v=a.padInfo.top,_=a.padInfo.left,x="max"===o?-1/0:1/0,y=(0,s.buffer)(a.outShape,r),b=y.values,k=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],j=a.outShape[2]*a.outShape[3]*a.outShape[4],w=a.outShape[3]*a.outShape[4],I=a.outShape[4],T=0;T<a.batchSize;++T)for(var S=T*k,N=T*n[0],M=0;M<a.inChannels;++M)for(var C=0;C<a.outDepth;++C){for(var E=C*i-g,F=E;F<0;)F+=l;for(var A=Math.min(a.inDepth,d+E),R=S+C*j,P=0;P<a.outHeight;++P){for(var O=P*c-v,D=O;D<0;)D+=p;for(var B=Math.min(a.inHeight,h+O),V=R+P*w,G=0;G<a.outWidth;++G){for(var L=G*u-_,q=L;q<0;)q+=f;for(var z=Math.min(a.inWidth,m+L),U=V+G*I,H=x,W=0,K=0,X=F;X<A;X+=l){for(var Z=N+X*n[1],Q=D;Q<B;Q+=p){for(var J=Z+Q*n[2],Y=q;Y<z;Y+=f){var $=e[J+Y*n[3]+M];if("max"===o&&$>H?H=$:"avg"===o&&(W+=$,K++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}b[U+M]="avg"===o?W/Math.max(K,1):H}}}return y}function u(e,t){for(var r=(0,s.buffer)(t.outShape,"int32"),n=t.strideDepth,a=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,c=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,p=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,m=t.padInfo.left,g=0;g<t.batchSize;++g)for(var v=0;v<t.inChannels;++v)for(var _=0;_<t.outDepth;++_){for(var x=_*n-d,y=x;y<0;)y+=i;for(var b=Math.min(t.inDepth,l+x),k=0;k<t.outHeight;++k){for(var j=k*a-h,w=j;w<0;)w+=c;for(var I=Math.min(t.inHeight,p+j),T=0;T<t.outWidth;++T){for(var S=T*o-m,N=S;N<0;)N+=u;for(var M=Math.min(t.inWidth,f+S),C=-1/0,E=-1,F=y;F<b;F+=i)for(var A=F-x,R=w;R<I;R+=c)for(var P=R-j,O=N;O<M;O+=u){var D=O-S,B=e.get(g,F,R,O,v);B>=C&&(C=B,E=A*p*f+P*p+D)}r.set(E,g,_,k,T,v)}}}return r}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5B1De":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3D",function(){return c}),a.export(r,"avgPool3DConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("../utils/pool_utils");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.filterSize,u=n.strides,l=n.pad,p=n.dimRoundingMode,f=n.dataFormat;(0,o.assertNotComplex)(a,"avgPool3d");var d=s.backend_util.computePool3DInfo(a.shape,c,u,1,l,p,f),h=r.data.get(a.dataId).values,m=(0,i.pool3d)(h,a.shape,a.dtype,s.util.computeStrides(a.shape),d,"avg");return r.makeTensorInfo(m.shape,"float32",m.values)}var u={kernelName:s.AvgPool3D,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","../utils/pool_utils":"fC3Db","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gJSh2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3DGrad",function(){return i}),a.export(r,"avgPool3DGradConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.input,c=n.filterSize,u=n.strides,l=n.pad,p=n.dimRoundingMode;(0,o.assertNotComplex)([a,i],"avgPool3DGrad");for(var f=s.backend_util.computePool3DInfo(i.shape,c,u,1,l,p),d=f.strideDepth,h=f.strideHeight,m=f.strideWidth,g=f.filterDepth,v=f.filterHeight,_=f.filterWidth,x=f.dilationDepth,y=f.dilationHeight,b=f.dilationWidth,k=f.effectiveFilterDepth,j=f.effectiveFilterHeight,w=f.effectiveFilterWidth,I=k-1-f.padInfo.front,T=w-1-f.padInfo.left,S=j-1-f.padInfo.top,N=(0,s.buffer)(i.shape,"float32"),M=1/(g*v*_),C=r.bufferSync(a),E=0;E<f.batchSize;++E)for(var F=0;F<f.inChannels;++F)for(var A=0;A<f.inDepth;++A)for(var R=0;R<f.inHeight;++R)for(var P=0;P<f.inWidth;++P){for(var O=A-I,D=R-S,B=P-T,V=0,G=0;G<k;G+=x){var L=(O+G)/d;if(!(L<0)&&!(L>=f.outDepth)&&Math.floor(L)===L)for(var q=0;q<j;q+=y){var z=(D+q)/h;if(!(z<0)&&!(z>=f.outHeight)&&Math.floor(z)===z)for(var U=0;U<w;U+=b){var H=(B+U)/m;H<0||H>=f.outWidth||Math.floor(H)!==H||(V+=C.get(E,L,z,H,F))}}}N.set(V*M,E,A,R,P,F)}return r.makeTensorInfo(N.shape,N.dtype,N.values)}var c={kernelName:s.AvgPool3DGrad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jUWYO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPoolGrad",function(){return i}),a.export(r,"avgPoolGradConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.input;(0,o.assertNotComplex)([a,i],"avgPoolGrad");for(var c=n.filterSize,u=n.strides,l=n.pad,p=s.backend_util.computePool2DInfo(i.shape,c,u,1,l),f=p.strideHeight,d=p.strideWidth,h=p.filterHeight,m=p.filterWidth,g=p.dilationHeight,v=p.dilationWidth,_=p.effectiveFilterHeight,x=p.effectiveFilterWidth,y=x-1-p.padInfo.left,b=_-1-p.padInfo.top,k=(0,s.buffer)(i.shape,"float32"),j=1/(h*m),w=r.data.get(a.dataId).values,I=(0,s.buffer)(a.shape,"float32",w),T=0;T<p.batchSize;++T)for(var S=0;S<p.inChannels;++S)for(var N=0;N<p.inHeight;++N)for(var M=0;M<p.inWidth;++M){for(var C=N-b,E=M-y,F=0,A=0;A<_;A+=g){var R=(C+A)/f;if(!(R<0)&&!(R>=p.outHeight)&&Math.floor(R)===R)for(var P=0;P<x;P+=v){var O=(E+P)/d;O<0||O>=p.outWidth||Math.floor(O)!==O||(F+=I.get(T,R,O,S))}}k.set(F*j,T,N,M,S)}return r.makeTensorInfo(k.shape,k.dtype,k.values)}var c={kernelName:s.AvgPoolGrad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5Av1D":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm",function(){return i}),a.export(r,"batchNormConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.scale,c=t.offset,u=t.mean,l=t.variance;s.util.assert(u.shape.length===l.shape.length,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),s.util.assert(null==c||u.shape.length===c.shape.length,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),s.util.assert(null==i||u.shape.length===i.shape.length,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),(0,o.assertNotComplex)([a,u,l,i,c],"batchNorm");var p=n.varianceEpsilon;null==p&&(p=.001);for(var f=r.data.get(a.dataId).values,d=r.data.get(u.dataId).values,h=r.data.get(l.dataId).values,m=i?r.data.get(i.dataId).values:new Float32Array([1]),g=c?r.data.get(c.dataId).values:new Float32Array([0]),v=new Float32Array(f.length),_=g.length,x=m.length,y=h.length,b=d.length,k=0,j=0,w=0,I=0,T=0;T<f.length;++T)v[T]=g[k++]+(f[T]-d[j++])*m[w++]/Math.sqrt(h[I++]+p),k>=_&&(k=0),j>=b&&(j=0),w>=x&&(w=0),I>=y&&(I=0);return r.makeTensorInfo(a.shape,a.dtype,v)}var c={kernelName:s.FusedBatchNorm,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jFZzA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchToSpaceND",function(){return l}),a.export(r,"batchToSpaceNDConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./Reshape"),c=e("./Slice"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.blockShape,p=n.crops;(0,o.assertNotComplex)([a],"batchToSpaceND");var f=l.reduce(function(e,t){return e*t}),d=s.backend_util.getReshaped(a.shape,l,f),h=s.backend_util.getPermuted(d.length,l.length),m=s.backend_util.getReshapedPermuted(a.shape,l,f),g=s.backend_util.getSliceBeginCoords(p,l.length),v=s.backend_util.getSliceSize(m,p,l.length),_=(0,i.reshape)({inputs:{x:a},backend:r,attrs:{shape:d}}),x=(0,u.transpose)({inputs:{x:_},backend:r,attrs:{perm:h}}),y=(0,i.reshape)({inputs:{x:x},backend:r,attrs:{shape:m}}),b=(0,c.slice)({inputs:{x:y},backend:r,attrs:{begin:g,size:v}});return r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),b}var p={kernelName:s.BatchToSpaceND,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Reshape":"j3OqQ","./Slice":"28Hnf","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fWlT1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bincount",function(){return i}),a.export(r,"bincountConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Bincount_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.weights,i=n.size,c=r.data.get(a.dataId).values,u=r.data.get(s.dataId).values,l=(0,o.bincountImpl)(c,u,s.dtype,s.shape,i);return r.makeTensorInfo([i],s.dtype,l)}var c={kernelName:s.Bincount,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Bincount_impl":"heFon","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6WnrW":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"broadcastArgs",function(){return o}),a.export(r,"broadcastArgsConfig",function(){return i});var s=e("@tensorflow/tfjs-core");function o(e){var t=e.inputs,r=e.backend,n=t.s0,a=t.s1,o=r.data.get(n.dataId).values,i=r.data.get(a.dataId).values,c=s.backend_util.assertAndGetBroadcastShape(Array.from(o),Array.from(i));return r.makeTensorInfo([c.length],"int32",Int32Array.from(c))}var i={kernelName:s.BroadcastArgs,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cGTvg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clipByValue",function(){return o}),a.export(r,"clipByValueConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.ClipByValue,function(e,t){return e>t.clipValueMax?t.clipValueMax:e<t.clipValueMin?t.clipValueMin:e}),i={kernelName:s.ClipByValue,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4dILH":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"complexAbs",function(){return o}),a.export(r,"complexAbsConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=function(e){for(var t=e.inputs.x,r=e.backend,n=new Float32Array(s.util.sizeFromShape(t.shape)),a=r.data.get(t.dataId),o=a.complexTensorInfos.real,i=a.complexTensorInfos.imag,c=r.data.get(o.dataId).values,u=r.data.get(i.dataId).values,l=0;l<c.length;l++){var p=c[l],f=u[l];n[l]=Math.hypot(p,f)}return r.makeOutput(n,t.shape,"float32")},i={kernelName:s.ComplexAbs,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],l8WtE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat",function(){return f}),a.export(r,"concatConfig",function(){return d});var s=e("@tensorflow/tfjs-core"),o=e("./Complex"),i=e("./Concat_impl"),c=e("./Identity"),u=e("./Imag"),l=e("./Real"),p=e("./Reshape");function f(e){var t=e.inputs,r=e.backend,n=e.attrs.axis,a=s.util.parseAxisParam(n,t[0].shape)[0],d=t.map(function(e){return e.shape});s.backend_util.assertParamsConsistent(d,a);var h=s.backend_util.computeOutShape(t.map(function(e){return e.shape}),a);if(0===s.util.sizeFromShape(h))return r.makeTensorInfo(h,t[0].dtype,[]);var m=t.filter(function(e){return s.util.sizeFromShape(e.shape)>0});if(1===m.length)return(0,c.identity)({inputs:{x:m[0]},backend:r});if("complex64"===m[0].dtype){var g=m.map(function(e){return(0,l.real)({inputs:{input:e},backend:r})}),v=m.map(function(e){return(0,u.imag)({inputs:{input:e},backend:r})}),_=f({inputs:g,backend:r,attrs:{axis:a}}),x=f({inputs:v,backend:r,attrs:{axis:a}}),y=(0,o.complex)({inputs:{real:_,imag:x},backend:r});return g.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),v.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),y}var b=m.map(function(e){var t=s.util.sizeFromShape(e.shape.slice(a));return(0,p.reshape)({inputs:{x:e},backend:r,attrs:{shape:[-1,t]}})}),k=b.map(function(e){return{vals:r.data.get(e.dataId).values,shape:e.shape}});h=s.backend_util.computeOutShape(b.map(function(e){return e.shape}),1);var j=1===b[0].shape[0],w=(0,i.concatImpl)(k,h,t[0].dtype,j),I=s.backend_util.computeOutShape(m.map(function(e){return e.shape}),a),T=r.makeTensorInfo(I,t[0].dtype,w);return b.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),T}var d={kernelName:s.Concat,backendName:"cpu",kernelFunc:f}},{"@tensorflow/tfjs-core":"aOH7b","./Complex":"7QCs0","./Concat_impl":"2WpsX","./Identity":"hoIfp","./Imag":"gk69N","./Real":"kmbU8","./Reshape":"j3OqQ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gk69N:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){var t=e.inputs,r=e.backend,n=t.input,a=r.data.get(n.dataId).complexTensorInfos.imag,s=r.data.get(a.dataId).values;return r.makeTensorInfo(a.shape,a.dtype,s)}a.defineInteropFlag(r),a.export(r,"imag",function(){return s}),a.export(r,"imagConfig",function(){return o});var o={kernelName:e("@tensorflow/tfjs-core").Imag,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2NULW":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2D",function(){return i}),a.export(r,"conv2DConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.filter,c=n.strides,u=n.pad,l=n.dataFormat,p=n.dilations,f=n.dimRoundingMode;(0,o.assertNotComplex)([a,i],"conv2d");for(var d=s.backend_util.convertConv2DDataFormat(l),h=s.backend_util.computeConv2DInfo(a.shape,i.shape,c,p,u,f,!1,d),m=h.filterHeight,g=h.filterWidth,v=h.dilationHeight,_=h.dilationWidth,x=h.padInfo.left,y=h.padInfo.top,b="channelsLast"===h.dataFormat,k=new(0,s.TensorBuffer)(h.outShape,a.dtype),j=s.util.computeStrides(a.shape),w=s.util.computeStrides(i.shape),I=j[0],T=b?j[1]:j[2],S=b?j[2]:1,N=b?1:j[1],M=k.strides[0],C=b?k.strides[1]:k.strides[2],E=b?k.strides[2]:1,F=b?1:k.strides[1],A=r.data.get(a.dataId).values,R=r.data.get(i.dataId).values,P=k.values,O=0;O<h.batchSize;++O)for(var D=O*I,B=O*M,V=0;V<h.outHeight;++V)for(var G=B+V*C,L=V*h.strideHeight-y,q=0;q<m;++q){var z=L+q*v;if(!(z<0)&&!(z>=h.inHeight))for(var U=q*w[0],H=D+z*T,W=0;W<h.outWidth;++W)for(var K=G+W*E,X=W*h.strideWidth-x,Z=0;Z<g;++Z){var Q=X+Z*_;if(!(Q<0)&&!(Q>=h.inWidth))for(var J=U+Z*w[1],Y=H+Q*S,$=J,ee=0;ee<h.inChannels;++ee){for(var et=A[Y+ee*N],er=0;er<h.outChannels;++er)P[K+er*F]+=et*R[$+er];$+=h.outChannels}}}return r.makeTensorInfo(k.shape,k.dtype,P)}var c={kernelName:s.Conv2D,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hRdK5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropFilter",function(){return i}),a.export(r,"conv2DBackpropFilterConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.pad,l=n.dataFormat,p=n.dimRoundingMode,f=n.filterShape;(0,o.assertNotComplex)([a,i],"conv2dBackpropFilter");for(var d=s.backend_util.convertConv2DDataFormat(l),h=s.backend_util.computeConv2DInfo(a.shape,f,c,1,u,p,!1,d),m=h.strideHeight,g=h.strideWidth,v=h.filterHeight,_=h.filterWidth,x="channelsLast"===h.dataFormat,y=new(0,s.TensorBuffer)(h.filterShape,"float32"),b=h.padInfo.left,k=h.padInfo.top,j=r.data.get(a.dataId).values,w=r.data.get(i.dataId).values,I=new(0,s.TensorBuffer)(a.shape,a.dtype,j),T=new(0,s.TensorBuffer)(i.shape,i.dtype,w),S=0;S<v;++S)for(var N=Math.max(0,Math.ceil((k-S)/m)),M=Math.min(h.outHeight,(h.inHeight+k-S)/m),C=0;C<_;++C)for(var E=Math.max(0,Math.ceil((b-C)/g)),F=Math.min(h.outWidth,(h.inWidth+b-C)/g),A=0;A<h.inChannels;++A)for(var R=0;R<h.outChannels;++R){for(var P=0,O=0;O<h.batchSize;++O)for(var D=N;D<M;++D)for(var B=S+D*m-k,V=E;V<F;++V){var G=C+V*g-b;x?P+=I.get(O,B,G,A)*T.get(O,D,V,R):P+=I.get(O,A,B,G)*T.get(O,R,D,V)}y.set(P,S,C,A,R)}return r.makeTensorInfo(y.shape,y.dtype,y.values)}var c={kernelName:s.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gJHBe:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropInput",function(){return c}),a.export(r,"conv2DBackpropInputConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.filter,u=n.inputShape,l=n.strides,p=n.pad,f=n.dataFormat,d=n.dimRoundingMode;(0,i.assertNotComplex)([a,c],"conv2dBackpropInput");var h=o.util.computeStrides(c.shape),m=o.util.computeStrides(a.shape),g=o.backend_util.convertConv2DDataFormat(f),v=o.backend_util.computeConv2DInfo(u,c.shape,l,1,p,d,!1,g),_=new(0,o.TensorBuffer)(v.inShape,"float32"),x=_.values,y=r.data.get(a.dataId).values,b=r.data.get(c.dataId).values,k=(0,s._)(h,3),j=k[0],w=k[1],I=k[2],T=v.batchSize,S=v.filterHeight,N=v.filterWidth,M=v.inChannels,C=v.inHeight,E=v.inWidth,F=v.outChannels,A=v.outHeight,R=v.outWidth,P=v.strideHeight,O=v.strideWidth;g=v.dataFormat;for(var D=S-1-v.padInfo.top,B=N-1-v.padInfo.left,V="channelsLast"===g,G=_.strides[0],L=V?_.strides[1]:_.strides[2],q=V?_.strides[2]:1,z=V?1:_.strides[1],U=m[0],H=V?m[1]:m[2],W=V?m[2]:1,K=V?1:m[1],X=0;X<T;++X)for(var Z=0;Z<M;++Z)for(var Q=0;Q<C;++Q)for(var J=Q-D,Y=Math.max(0,Math.ceil(J/P)),$=Math.min(A,(S+J)/P),ee=0;ee<E;++ee){for(var et=ee-B,er=Math.max(0,Math.ceil(et/O)),en=Math.min(R,(N+et)/O),ea=0,es=Y;es<$;++es)for(var eo=es*P-J,ei=er;ei<en;++ei)for(var ec=ei*O-et,eu=U*X+H*es+W*ei,el=j*(S-1-eo)+w*(N-1-ec)+I*Z,ep=0;ep<F;++ep)ea+=y[eu+K*ep]*b[el+ep];x[G*X+L*Q+q*ee+z*Z]=ea}return r.makeTensorInfo(_.shape,_.dtype,_.values)}var u={kernelName:o.Conv2DBackpropInput,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3HkuK":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3D",function(){return i}),a.export(r,"conv3DConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.filter,c=n.strides,u=n.pad,l=n.dilations;(0,o.assertNotComplex)([a,i],"conv3d");for(var p=s.backend_util.computeConv3DInfo(a.shape,i.shape,c,l,u),f=p.filterDepth,d=p.filterHeight,h=p.filterWidth,m=p.dilationDepth,g=p.dilationHeight,v=p.dilationWidth,_=p.padInfo,x=_.front,y=_.left,b=_.top,k=new(0,s.TensorBuffer)(p.outShape,a.dtype),j=r.data.get(a.dataId).values,w=r.data.get(i.dataId).values,I=k.values,T=s.util.computeStrides(a.shape),S=s.util.computeStrides(i.shape),N=0;N<p.batchSize;++N)for(var M=N*T[0],C=N*k.strides[0],E=0;E<p.outDepth;++E)for(var F=C+E*k.strides[1],A=E*p.strideDepth-x,R=0;R<f;++R){var P=A+R*m;if(!(P<0)&&!(P>=p.inDepth))for(var O=R*S[0],D=M+P*T[1],B=0;B<p.outHeight;++B)for(var V=F+B*k.strides[2],G=B*p.strideHeight-b,L=0;L<d;++L){var q=G+L*g;if(!(q<0)&&!(q>=p.inHeight))for(var z=O+L*S[1],U=D+q*T[2],H=0;H<p.outWidth;++H)for(var W=V+H*p.outChannels,K=H*p.strideWidth-y,X=0;X<h;++X){var Z=K+X*v;if(!(Z<0)&&!(Z>=p.inWidth))for(var Q=z+X*S[2],J=U+Z*p.inChannels,Y=Q,$=0;$<p.inChannels;++$){for(var ee=j[J+$],et=0;et<p.outChannels;++et)I[W+et]+=ee*w[Y+et];Y+=p.outChannels}}}}return r.makeTensorInfo(k.shape,k.dtype,k.values)}var c={kernelName:s.Conv3D,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],edS7H:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropFilterV2",function(){return c}),a.export(r,"conv3DBackpropFilterV2Config",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=t.dy,u=n.strides,l=n.pad,p=n.filterShape;(0,i.assertNotComplex)([a,c],"conv3dBackpropFilterV2");for(var f=o.util.computeStrides(a.shape),d=o.util.computeStrides(c.shape),h=o.backend_util.computeConv3DInfo(a.shape,p,u,1,l),m=h.strideDepth,g=h.strideHeight,v=h.strideWidth,_=h.filterDepth,x=h.filterHeight,y=h.filterWidth,b=new(0,o.TensorBuffer)(h.filterShape,"float32"),k=b.values,j=(0,s._)(b.strides,4),w=j[0],I=j[1],T=j[2],S=j[3],N=r.data.get(c.dataId).values,M=(0,s._)(d,4),C=M[0],E=M[1],F=M[2],A=M[3],R=r.data.get(a.dataId).values,P=(0,s._)(f,4),O=P[0],D=P[1],B=P[2],V=P[3],G=h.padInfo.front,L=h.padInfo.left,q=h.padInfo.top,z=0;z<_;++z)for(var U=Math.max(0,Math.ceil((G-z)/m)),H=Math.min(h.outDepth,(h.inDepth+G-z)/m),W=z*w,K=0;K<x;++K)for(var X=Math.max(0,Math.ceil((q-K)/g)),Z=Math.min(h.outHeight,(h.inHeight+q-K)/g),Q=K*I+W,J=0;J<y;++J)for(var Y=Math.max(0,Math.ceil((L-J)/v)),$=Math.min(h.outWidth,(h.inWidth+L-J)/v),ee=J*T+Q,et=0;et<h.inChannels;++et)for(var er=et*S+ee,en=0;en<h.outChannels;++en){for(var ea=0,es=0;es<h.batchSize;++es)for(var eo=es*O,ei=es*C,ec=U;ec<H;++ec)for(var eu=(z+ec*m-G)*D+eo,el=ec*E+ei,ep=X;ep<Z;++ep)for(var ef=(K+ep*g-q)*B+eu,ed=ep*F+el,eh=Y;eh<$;++eh){var em=(J+eh*v-L)*V+ef,eg=eh*A+ed;ea+=R[em+et]*N[eg+en]}k[er+en]=ea}return r.makeTensorInfo(b.shape,b.dtype,b.values)}var u={kernelName:o.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3q4Fs":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropInputV2",function(){return c}),a.export(r,"conv3DBackpropInputV2Config",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.filter,u=n.pad,l=n.strides,p=n.inputShape;(0,i.assertNotComplex)([a],"conv3dBackpropInputV2");for(var f=o.util.computeStrides(a.shape),d=o.util.computeStrides(c.shape),h=o.backend_util.computeConv3DInfo(p,c.shape,l,1,u),m=new(0,o.TensorBuffer)(h.inShape,"float32"),g=m.values,v=(0,s._)(m.strides,4),_=v[0],x=v[1],y=v[2],b=v[3],k=r.data.get(a.dataId).values,j=(0,s._)(f,4),w=j[0],I=j[1],T=j[2],S=j[3],N=r.data.get(c.dataId).values,M=(0,s._)(d,4),C=M[0],E=M[1],F=M[2],A=M[3],R=h.batchSize,P=h.filterDepth,O=h.filterHeight,D=h.filterWidth,B=h.inChannels,V=h.inDepth,G=h.inHeight,L=h.inWidth,q=h.outChannels,z=h.outDepth,U=h.outHeight,H=h.outWidth,W=h.strideDepth,K=h.strideHeight,X=h.strideWidth,Z=P-1-h.padInfo.front,Q=O-1-h.padInfo.top,J=D-1-h.padInfo.left,Y=0;Y<R;++Y)for(var $=0;$<B;++$)for(var ee=0;ee<V;++ee)for(var et=ee-Z,er=Math.max(0,Math.ceil(et/W)),en=Math.min(z,(P+et)/W),ea=0;ea<G;++ea)for(var es=ea-Q,eo=Math.max(0,Math.ceil(es/K)),ei=Math.min(U,(O+es)/K),ec=0;ec<L;++ec){for(var eu=ec-J,el=Math.max(0,Math.ceil(eu/X)),ep=Math.min(H,(D+eu)/X),ef=0,ed=er;ed<en;++ed)for(var eh=ed*W-et,em=eo;em<ei;++em)for(var eg=em*K-es,ev=el;ev<ep;++ev)for(var e_=ev*X-eu,ex=w*Y+I*ed+T*em+S*ev,ey=C*(P-1-eh)+E*(O-1-eg)+F*(D-1-e_)+A*$,eb=0;eb<q;++eb)ef+=k[ex+eb]*N[ey+eb];g[_*Y+x*ee+y*ea+b*ec+$]=ef}return r.makeTensorInfo(m.shape,m.dtype,m.values)}var u={kernelName:o.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9oRQe":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cos",function(){return o}),a.export(r,"cosConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Cos,function(e){return Math.cos(e)}),i={kernelName:s.Cos,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],byuEz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cosh",function(){return o}),a.export(r,"coshConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Cosh,function(e){return Math.cosh(e)}),i={kernelName:s.Cosh,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3VJMS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cropAndResize",function(){return i}),a.export(r,"cropAndResizeConfig",function(){return c});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core");function i(e){for(var t=e.inputs,r=e.backend,n=e.attrs,a=t.image,i=t.boxes,c=t.boxInd,u=n.cropSize,l=n.method,p=n.extrapolationValue,f=(0,s._)(a.shape,4),d=f[0],h=f[1],m=f[2],g=f[3],v=i.shape[0],_=(0,s._)(u,2),x=_[0],y=_[1],b=(0,o.buffer)([v,x,y,g],"float32"),k=r.data.get(i.dataId).values,j=r.data.get(c.dataId).values,w=r.data.get(a.dataId).values,I=o.util.computeStrides(a.shape),T=o.util.computeStrides(b.shape),S=0;S<v;S++){var N=4*S,M=k[N],C=k[N+1],E=k[N+2],F=k[N+3],A=j[S];if(!(A>=d))for(var R=x>1?(E-M)*(h-1)/(x-1):0,P=y>1?(F-C)*(m-1)/(y-1):0,O=0;O<x;O++){var D=x>1?M*(h-1)+O*R:.5*(M+E)*(h-1);if(D<0||D>h-1){for(var B=0;B<y;B++)for(var V=0;V<g;V++){var G=V+B*T[2]+O*T[1]+S*T[0];b.values[G]=p}continue}if("bilinear"===l)for(var L=Math.floor(D),q=Math.ceil(D),z=D-L,U=0;U<y;U++){var H=y>1?C*(m-1)+U*P:.5*(C+F)*(m-1);if(H<0||H>m-1){for(var W=0;W<g;W++){var K=W+U*T[2]+O*T[1]+S*T[0];b.values[K]=p}continue}for(var X=Math.floor(H),Z=Math.ceil(H),Q=H-X,J=0;J<g;J++){var Y=J+X*I[2]+L*I[1]+A*I[0],$=w[Y],ee=w[Y=J+Z*I[2]+L*I[1]+A*I[0]],et=w[Y=J+X*I[2]+q*I[1]+A*I[0]],er=w[Y=J+Z*I[2]+q*I[1]+A*I[0]],en=$+(ee-$)*Q,ea=et+(er-et)*Q;Y=J+U*T[2]+O*T[1]+S*T[0],b.values[Y]=en+(ea-en)*z}}else for(var es=0;es<y;++es){var eo=y>1?C*(m-1)+es*P:.5*(C+F)*(m-1);if(eo<0||eo>m-1){for(var ei=0;ei<g;ei++){var ec=ei+es*T[2]+O*T[1]+S*T[0];b.values[ec]=p}continue}for(var eu=Math.round(eo),el=Math.round(D),ep=0;ep<g;ep++){var ef=ep+eu*I[2]+el*I[1]+A*I[0],ed=ep+es*T[2]+O*T[1]+S*T[0];b.values[ed]=w[ef]}}}}return r.makeTensorInfo(b.shape,b.dtype,b.values)}var c={kernelName:o.CropAndResize,backendName:"cpu",kernelFunc:i}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5QPId":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumprod",function(){return c}),a.export(r,"cumprodConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./Transpose");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.axis,u=n.exclusive,l=n.reverse;(0,o.assertNotComplex)(a,"cumprod");var p=s.backend_util.getAxesPermutation([c],a.shape.length),f=a;null!=p&&(f=(0,i.transpose)({inputs:{x:a},backend:r,attrs:{perm:p}}));var d=s.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(d!==f.shape.length-1)throw Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(f.shape.length-1," but got axis=").concat(d));for(var h=(0,s.upcastType)(f.dtype,"int32"),m=s.util.makeOnesTypedArray(s.util.sizeFromShape(f.shape),h),g=r.data.get(f.dataId).values,v=f.shape[f.shape.length-1],_=l?function(e,t){return e+v-t-1}:function(e,t){return e+t},x=0;x<g.length;x+=v)for(var y=0;y<v;y++){var b=_(x,y);if(0===y)m[b]=u?1:g[b];else{var k=_(x,y-1);m[b]=u?g[k]*m[k]:g[b]*m[k]}}var j=r.makeTensorInfo(f.shape,h,m);if(null!=p){var w=s.backend_util.getUndoAxesPermutation(p),I=(0,i.transpose)({inputs:{x:j},backend:r,attrs:{perm:w}});return r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(f),I}return j}var u={kernelName:s.Cumprod,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8blcH":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumsum",function(){return c}),a.export(r,"cumsumConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./Transpose");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.axis,u=n.exclusive,l=n.reverse;(0,o.assertNotComplex)(a,"cumsum");var p=s.backend_util.getAxesPermutation([c],a.shape.length),f=a;null!=p&&(f=(0,i.transpose)({inputs:{x:a},backend:r,attrs:{perm:p}}));var d=s.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(d!==f.shape.length-1)throw Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(f.shape.length-1," but got axis=").concat(d));for(var h=(0,s.upcastType)(f.dtype,"int32"),m=s.util.makeZerosTypedArray(s.util.sizeFromShape(f.shape),h),g=r.data.get(f.dataId).values,v=f.shape[f.shape.length-1],_=l?function(e,t){return e+v-t-1}:function(e,t){return e+t},x=0;x<g.length;x+=v)for(var y=0;y<v;y++){var b=_(x,y);if(0===y)m[b]=u?0:g[b];else{var k=_(x,y-1);m[b]=u?g[k]+m[k]:g[b]+m[k]}}var j=r.makeTensorInfo(f.shape,h,m);if(null!=p){var w=s.backend_util.getUndoAxesPermutation(p),I=(0,i.transpose)({inputs:{x:j},backend:r,attrs:{perm:w}});return r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(f),I}return j}var u={kernelName:s.Cumsum,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"14vaF":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"denseBincount",function(){return i}),a.export(r,"denseBincountConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Bincount_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.weights,i=n.size,c=n.binaryOutput;if(1===a.shape.length){var u=r.data.get(a.dataId).values,l=r.data.get(s.dataId).values,p=(0,o.bincountImpl)(u,l,s.dtype,s.shape,i);return r.makeTensorInfo([i],s.dtype,p)}if(2===a.shape.length){var f=r.bufferSync(a),d=r.bufferSync(s),h=(0,o.bincountReduceImpl)(f,d,i,c);return r.makeTensorInfo(h.shape,s.dtype,h.values)}throw Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}var c={kernelName:s.DenseBincount,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Bincount_impl":"heFon","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bJ7Y7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthToSpace",function(){return o}),a.export(r,"depthToSpaceConfig",function(){return i});var s=e("@tensorflow/tfjs-core");function o(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.blockSize,i=n.dataFormat;s.util.assert("NHWC"===i,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(i)});for(var c=a.shape[0],u=a.shape[1],l=a.shape[2],p=a.shape[3],f=u*o,d=l*o,h=p/(o*o),m=r.data.get(a.dataId).values,g=new Float32Array(c*f*d*h),v=0,_=0;_<c;++_)for(var x=0;x<f;++x)for(var y=Math.floor(x/o),b=x%o,k=0;k<d;++k)for(var j=Math.floor(k/o),w=k%o,I=(b*o+w)*h,T=0;T<h;++T){var S=T+I+p*(j+l*(y+u*_));g[v++]=m[S]}return r.makeTensorInfo([c,f,d,h],a.dtype,g)}var i={kernelName:s.DepthToSpace,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jYiIL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNative",function(){return i}),a.export(r,"depthwiseConv2dNativeConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.filter,c=n.strides,u=n.pad,l=n.dilations,p=n.dimRoundingMode;(0,o.assertNotComplex)([a,i],"depthwiseConv2DNative");var f=s.util.computeStrides(a.shape),d=s.util.computeStrides(i.shape),h=l;null==h&&(h=[1,1]),s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(c,h),function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(h,"'")});for(var m=s.backend_util.computeConv2DInfo(a.shape,i.shape,c,h,u,p,!0),g=m.filterHeight,v=m.filterWidth,_=m.dilationHeight,x=m.dilationWidth,y=m.padInfo,b=y.left,k=y.top,j=m.outChannels/m.inChannels,w=new(0,s.TensorBuffer)(m.outShape,a.dtype),I=r.data.get(a.dataId).values,T=r.data.get(i.dataId).values,S=w.values,N=0;N<m.batchSize;++N)for(var M=N*f[0],C=N*w.strides[0],E=0;E<m.outHeight;++E)for(var F=C+E*w.strides[1],A=E*m.strideHeight-k,R=0;R<g;++R){var P=A+R*_;if(!(P<0)&&!(P>=m.inHeight))for(var O=R*d[0],D=M+P*f[1],B=0;B<m.outWidth;++B)for(var V=F+B*w.strides[2],G=B*m.strideWidth-b,L=0;L<v;++L){var q=G+L*x;if(!(q<0)&&!(q>=m.inWidth))for(var z=O+L*d[1],U=D+q*m.inChannels,H=V,W=z,K=0;K<m.inChannels;++K){for(var X=I[U+K],Z=0;Z<j;++Z)S[H+Z]+=X*T[W+Z];H+=j,W+=j}}}return r.makeTensorInfo(w.shape,w.dtype,w.values)}var c={kernelName:s.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4aYan":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropFilter",function(){return i}),a.export(r,"depthwiseConv2dNativeBackpropFilterConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.dilations,l=n.pad,p=n.dimRoundingMode,f=n.filterShape;(0,o.assertNotComplex)([a,i],"depthwiseConv2dNativeBackpropFilter");for(var d=s.backend_util.computeConv2DInfo(a.shape,f,c,u,l,p,!0),h=d.strideHeight,m=d.strideWidth,g=d.filterHeight,v=d.filterWidth,_=new(0,s.TensorBuffer)(d.filterShape,"float32"),x=d.padInfo.left,y=d.padInfo.top,b=d.outChannels/d.inChannels,k=r.data.get(a.dataId).values,j=new(0,s.TensorBuffer)(a.shape,a.dtype,k),w=r.data.get(i.dataId).values,I=new(0,s.TensorBuffer)(i.shape,i.dtype,w),T=0;T<g;++T)for(var S=Math.max(0,Math.ceil((y-T)/h)),N=Math.min(d.outHeight,(d.inHeight+y-T)/h),M=0;M<v;++M)for(var C=Math.max(0,Math.ceil((x-M)/m)),E=Math.min(d.outWidth,(d.inWidth+x-M)/m),F=0;F<d.outChannels;++F){for(var A=Math.trunc(F/b),R=F%b,P=0,O=0;O<d.batchSize;++O)for(var D=S;D<N;++D)for(var B=T+D*h-y,V=C;V<E;++V){var G=M+V*m-x;P+=j.get(O,B,G,A)*I.get(O,D,V,F)}_.set(P,T,M,A,R)}return r.makeTensorInfo(_.shape,_.dtype,_.values)}var c={kernelName:s.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],g3D1Q:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropInput",function(){return c}),a.export(r,"depthwiseConv2dNativeBackpropInputConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.filter,u=n.strides,l=n.dilations,p=n.pad,f=n.dimRoundingMode,d=n.inputShape;(0,i.assertNotComplex)([a,c],"depthwiseConv2DNativeBackpropInput");for(var h=o.util.computeStrides(a.shape),m=o.util.computeStrides(c.shape),g=o.backend_util.computeConv2DInfo(d,c.shape,u,l,p,f,!0),v=new(0,o.TensorBuffer)(g.inShape,"float32"),_=v.values,x=(0,s._)(v.strides,3),y=x[0],b=x[1],k=x[2],j=r.data.get(a.dataId).values,w=(0,s._)(h,3),I=w[0],T=w[1],S=w[2],N=r.data.get(c.dataId).values,M=(0,s._)(m,3),C=M[0],E=M[1],F=M[2],A=g.batchSize,R=g.filterHeight,P=g.filterWidth,O=g.inChannels,D=g.inHeight,B=g.inWidth,V=g.outChannels,G=g.outHeight,L=g.outWidth,q=g.strideHeight,z=g.strideWidth,U=R-1-g.padInfo.top,H=P-1-g.padInfo.left,W=V/O,K=0;K<A;++K)for(var X=0;X<O;++X)for(var Z=0;Z<D;++Z)for(var Q=Z-U,J=Math.max(0,Math.ceil(Q/q)),Y=Math.min(G,(R+Q)/q),$=0;$<B;++$){for(var ee=$-H,et=Math.max(0,Math.ceil(ee/z)),er=Math.min(L,(P+ee)/z),en=0,ea=J;ea<Y;++ea)for(var es=ea*q-Q,eo=et;eo<er;++eo)for(var ei=eo*z-ee,ec=I*K+T*ea+S*eo,eu=C*(R-1-es)+E*(P-1-ei)+F*X,el=0;el<W;++el)en+=j[ec+(X*W+el)]*N[eu+el];_[y*K+b*Z+k*$+X]=en}return r.makeTensorInfo(v.shape,v.dtype,v.values)}var u={kernelName:o.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fhLmA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"diag",function(){return i}),a.export(r,"diagConfig",function(){return c});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core");function i(e){for(var t=e.inputs,r=e.backend,n=t.x,a=o.util.sizeFromShape(n.shape),i=r.data.get(n.dataId).values,c=(0,o.buffer)([a,a],n.dtype),u=c.values,l=0;l<i.length;l++)u[l*a+l]=i[l];var p=(0,s._)(n.shape).concat((0,s._)(n.shape));return r.makeTensorInfo(p,c.dtype,c.values)}var c={kernelName:o.Diag,backendName:"cpu",kernelFunc:i}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],e7NMs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2DConfig",function(){return o});var s=e("@tensorflow/tfjs-core"),o={kernelName:s.Dilation2D,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.filter,i=n.strides,c=n.pad,u=n.dilations,l=r.data.get(a.dataId).values,p=a.shape.length,f=r.data.get(o.dataId).values,d=o.shape.length,h=s.backend_util.computeDilation2DInfo(a.shape,o.shape,i,c,"NHWC",u),m=h.batchSize,g=h.inHeight,v=h.inWidth,_=h.inChannels,x=h.outHeight,y=h.outWidth,b=h.padInfo,k=h.strideHeight,j=h.strideWidth,w=h.filterHeight,I=h.filterWidth,T=h.dilationHeight,S=h.dilationWidth,N=h.outShape,M=s.util.sizeFromShape(N),C=N.length,E=s.util.getArrayFromDType(a.dtype,M),F=0;F<m;++F)for(var A=0;A<x;++A)for(var R=A*k-b.top,P=0;P<y;++P)for(var O=P*j-b.left,D=0;D<_;++D){for(var B=Number.MIN_SAFE_INTEGER,V=0;V<w;++V){var G=R+V*T;if(G>=0&&G<g)for(var L=0;L<I;++L){var q=O+L*S;if(q>=0&&q<v){var z=s.util.locToIndex([F,G,q,D],p,s.util.computeStrides(a.shape)),U=s.util.locToIndex([V,L,D],d,s.util.computeStrides(o.shape)),H=l[z]+f[U];H>B&&(B=H)}}}E[s.util.locToIndex([F,A,P,D],C,s.util.computeStrides(N))]=B}return{dataId:r.write(s.util.toTypedArray(E,a.dtype),N,a.dtype),shape:N,dtype:a.dtype}}}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],leVyg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2DBackpropFilterConfig",function(){return o});var s=e("@tensorflow/tfjs-core"),o={kernelName:s.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.filter,i=t.dy,c=n.strides,u=n.pad,l=n.dilations,p=s.util.toNestedArray(a.shape,r.data.get(a.dataId).values),f=s.util.toNestedArray(o.shape,r.data.get(o.dataId).values),d=s.backend_util.computeDilation2DInfo(a.shape,o.shape,c,u,"NHWC",l),h=d.batchSize,m=d.inHeight,g=d.inWidth,v=d.inChannels,_=d.outHeight,x=d.outWidth,y=d.padInfo,b=d.strideHeight,k=d.strideWidth,j=d.filterHeight,w=d.filterWidth,I=d.dilationHeight,T=d.dilationWidth,S=d.outShape;s.util.assert(i.rank===S.length,function(){return"Error in ".concat(s.Dilation2DBackpropFilter,", dy ")+"must have the same rank as output ".concat(S.length,", but got ")+"".concat(i.rank)});for(var N=s.util.toNestedArray(S,r.data.get(i.dataId).values),M=s.util.makeZerosNestedTypedArray(o.shape,o.dtype),C=0;C<h;++C)for(var E=0;E<_;++E)for(var F=E*b-y.top,A=0;A<x;++A)for(var R=A*k-y.left,P=0;P<v;++P){for(var O=Number.MIN_SAFE_INTEGER,D=0,B=0,V=0;V<j;++V){var G=F+V*I;if(G>=0&&G<m)for(var L=0;L<w;++L){var q=R+L*T;if(q>=0&&q<g){var z=p[C][G][q][P]+f[V][L][P];z>O&&(O=z,D=V,B=L)}}}M[D][B][P]+=N[C][E][A][P]}return{dataId:r.write(s.util.toTypedArray(M,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hvVT4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2DBackpropInputConfig",function(){return o});var s=e("@tensorflow/tfjs-core"),o={kernelName:s.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.filter,i=t.dy,c=n.strides,u=n.pad,l=n.dilations,p=s.util.toNestedArray(a.shape,r.data.get(a.dataId).values),f=s.util.toNestedArray(o.shape,r.data.get(o.dataId).values),d=s.backend_util.computeDilation2DInfo(a.shape,o.shape,c,u,"NHWC",l),h=d.batchSize,m=d.inHeight,g=d.inWidth,v=d.inChannels,_=d.outHeight,x=d.outWidth,y=d.padInfo,b=d.strideHeight,k=d.strideWidth,j=d.filterHeight,w=d.filterWidth,I=d.dilationHeight,T=d.dilationWidth,S=d.outShape;s.util.assert(i.rank===S.length,function(){return"Error in ".concat(s.Dilation2DBackpropInput,", dy ")+"must have the same rank as output ".concat(S.length,", but got ")+"".concat(i.rank)});for(var N=s.util.toNestedArray(S,r.data.get(i.dataId).values),M=s.util.makeZerosNestedTypedArray(a.shape,a.dtype),C=0;C<h;++C)for(var E=0;E<_;++E)for(var F=E*b-y.top,A=0;A<x;++A)for(var R=A*k-y.left,P=0;P<v;++P){for(var O=Number.MIN_SAFE_INTEGER,D=F<0?0:F,B=R<0?0:R,V=0;V<j;++V){var G=F+V*I;if(G>=0&&G<m)for(var L=0;L<w;++L){var q=R+L*T;if(q>=0&&q<g){var z=p[C][G][q][P]+f[V][L][P];z>O&&(O=z,D=G,B=q)}}}M[C][D][B][P]+=N[C][E][A][P]}return{dataId:r.write(s.util.toTypedArray(M,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dVPOl:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"draw",function(){return o}),a.export(r,"drawConfig",function(){return i});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs");function o(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.image,o=n.canvas,i=n.options||{},c=i.contextOptions,u=i.imageOptions,l=(null==u?void 0:u.alpha)||1,p=(null==c?void 0:c.contextType)||"2d";if("2d"!==p)throw Error("Context type ".concat(c.contextType," is not supported by the CPU backend."));var f=o.getContext(p,(null==c?void 0:c.contextAttributes)||{});if(null==f)throw Error("Could not get the context with ".concat(p," type."));for(var d=(0,s._)(a.shape.slice(0,2),2),h=d[0],m=d[1],g=2===a.shape.length?1:a.shape[2],v=r.data.get(a.dataId).values,_="float32"===a.dtype?255:1,x=new Uint8ClampedArray(m*h*4),y=0;y<h*m;++y){for(var b=[0,0,0,255*l],k=0;k<g;k++){var j=v[y*g+k];if("float32"===a.dtype){if(j<0||j>1)throw Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(j,"."))}else if("int32"===a.dtype&&(j<0||j>255))throw Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(j,"."));1===g?(b[0]=j*_,b[1]=j*_,b[2]=j*_):b[k]=j*_}var w=4*y;x[w+0]=Math.round(b[0]),x[w+1]=Math.round(b[1]),x[w+2]=Math.round(b[2]),x[w+3]=Math.round(b[3])}o.width=m,o.height=h;var I=new ImageData(x,m,h);return f.putImageData(I,0,0),a}var i={kernelName:e("@tensorflow/tfjs-core").Draw,backendName:"cpu",kernelFunc:o}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],icNbC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"einsum",function(){return l}),a.export(r,"einsumConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("./Multiply"),i=e("./Reshape"),c=e("./Sum"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs.equation,a=s.backend_util.decodeEinsumEquation(n,t.length),l=a.allDims,p=a.summedDims,f=a.idDims;s.backend_util.checkEinsumDimSizes(l.length,f,t);for(var d=s.backend_util.getEinsumComputePath(p,f),h=d.path,m=d.steps,g=m.length,v=null,_=l.length,x=[],y=0;y<g;++y){var b=!0,k=!1,j=void 0;try{for(var w,I=m[y][Symbol.iterator]();!(b=(w=I.next()).done);b=!0){var T=w.value,S=s.backend_util.getEinsumPermutation(_,f[T]),N=S.permutationIndices,M=S.expandDims,C=void 0;s.backend_util.isIdentityPermutation(N)?C=t[T]:(C=(0,u.transpose)({inputs:{x:t[T]},backend:r,attrs:{perm:N}}),x.push(C));for(var E=C.shape.slice(),F=0;F<M.length;++F)E.splice(M[F],0,1);s.util.arraysEqual(C.shape,E)||(C=(0,i.reshape)({inputs:{x:C},backend:r,attrs:{shape:E}}),x.push(C)),null===v?v=C:(v=(0,o.multiply)({inputs:{a:C,b:v},backend:r}),x.push(v))}}catch(e){k=!0,j=e}finally{try{b||null==I.return||I.return()}finally{if(k)throw j}}y<g-1&&(h[y]>=0&&(v=(0,c.sum)({inputs:{x:v},backend:r,attrs:{axis:h[y]-(l.length-_),keepDims:!1}}),x.push(v)),_--)}var A=!0,R=!1,P=void 0;try{for(var O,D=x[Symbol.iterator]();!(A=(O=D.next()).done);A=!0){var B=O.value;B!==v&&r.disposeIntermediateTensorInfo(B)}}catch(e){R=!0,P=e}finally{try{A||null==D.return||D.return()}finally{if(R)throw P}}return v}var p={kernelName:s.Einsum,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","./Multiply":"1KdVu","./Reshape":"j3OqQ","./Sum":"9djt1","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9djt1":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sum",function(){return d}),a.export(r,"sumConfig",function(){return h});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("../utils/zeros_impl"),u=e("./Cast"),l=e("./Identity"),p=e("./Reshape"),f=e("./Transpose");function d(e){var t,r=e.inputs,n=e.backend,a=e.attrs,d=r.x,h=a.axis,m=a.keepDims;(0,i.assertNotComplex)(d,"sum");var g=(t="bool"===d.dtype?(0,u.cast)({inputs:{x:d},backend:n,attrs:{dtype:"int32"}}):(0,l.identity)({inputs:{x:d},backend:n})).shape.length,v=o.util.parseAxisParam(h,t.shape),_=o.backend_util.getAxesPermutation(v,g),x=v,y=t;null!=_&&(y=(0,f.transpose)({inputs:{x:t},backend:n,attrs:{perm:_}}),x=o.backend_util.getInnerMostAxes(x.length,g)),o.backend_util.assertAxesAreInnerMostDims("sum",x,y.shape.length);for(var b=(0,s._)(o.backend_util.computeOutAndReduceShapes(y.shape,x),2),k=b[0],j=b[1],w=o.backend_util.upcastType(y.dtype,"int32"),I=(0,c.zeros)(n,k,w),T=o.util.sizeFromShape(j),S=n.data.get(I.dataId).values,N=n.data.get(y.dataId).values,M=0;M<S.length;++M){for(var C=M*T,E=0,F=0;F<T;++F)E+=N[C+F];S[M]=E}if(m){var A=o.backend_util.expandShapeToKeepDim(I.shape,v),R=I;I=(0,p.reshape)({inputs:{x:I},backend:n,attrs:{shape:A}}),n.disposeIntermediateTensorInfo(R)}return n.disposeIntermediateTensorInfo(t),null!=_&&n.disposeIntermediateTensorInfo(y),I}var h={kernelName:o.Sum,backendName:"cpu",kernelFunc:d}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","../utils/zeros_impl":"j4Rzq","./Cast":"kWbgg","./Identity":"hoIfp","./Reshape":"j3OqQ","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bHl1F:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"eluGrad",function(){return i}),a.export(r,"eluGradConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=t.dy,a=t.y;(0,o.assertNotComplex)([n,a],"eluGrad");for(var i=new Float32Array(s.util.sizeFromShape(a.shape)),c=r.data.get(a.dataId).values,u=r.data.get(n.dataId).values,l=0;l<c.length;++l){var p=c[l];p>=0?i[l]=u[l]:i[l]=u[l]*(p+1)}return r.makeTensorInfo(a.shape,"float32",i)}var c={kernelName:s.EluGrad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eloBO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"erf",function(){return d}),a.export(r,"erfConfig",function(){return h});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_utils"),i=s.backend_util.ERF_P,c=s.backend_util.ERF_A1,u=s.backend_util.ERF_A2,l=s.backend_util.ERF_A3,p=s.backend_util.ERF_A4,f=s.backend_util.ERF_A5,d=(0,o.unaryKernelFunc)(s.Erf,function(e){var t=Math.sign(e),r=Math.abs(e),n=1/(1+i*r);return t*(1-((((f*n+p)*n+l)*n+u)*n+c)*n*Math.exp(-r*r))}),h={kernelName:s.Erf,backendName:"cpu",kernelFunc:d}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kufDD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expandDims",function(){return i}),a.export(r,"expandDimsConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Reshape");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.input,i=n.dim,c=a.shape.length,u=a.shape.slice(),l=i;return i<0&&(s.util.assert(-(c+1)<=i,function(){return"Axis must be in the interval [".concat(-(c+1),", ").concat(c,"]")}),l=c+i+1),u.splice(l,0,1),(0,o.reshape)({inputs:{x:a},backend:r,attrs:{shape:u}})}var c={kernelName:s.ExpandDims,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Reshape":"j3OqQ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hCOPO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fft",function(){return c}),a.export(r,"fftConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../utils/fft_utils"),i=e("./Reshape");function c(e){var t=e.inputs,r=e.backend,n=t.input,a=s.util.sizeFromShape(n.shape),c=n.shape[n.shape.length-1],u=(0,i.reshape)({inputs:{x:n},backend:r,attrs:{shape:[a/c,c]}}),l=(0,o.fftBatch)(u,!1,r),p=(0,i.reshape)({inputs:{x:l},backend:r,attrs:{shape:n.shape}});return r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(l),p}var u={kernelName:s.FFT,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../utils/fft_utils":"5xw4L","./Reshape":"j3OqQ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5xw4L":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fftBatch",function(){return g}),a.export(r,"fftImpl",function(){return v});var s=e("@tensorflow/tfjs-core"),o=e("../kernels/Add"),i=e("../kernels/Complex"),c=e("../kernels/Concat"),u=e("../kernels/Identity"),l=e("../kernels/Imag"),p=e("../kernels/Multiply"),f=e("../kernels/Real"),d=e("../kernels/RealDiv"),h=e("../kernels/Slice"),m=e("../kernels/Sub");function g(e,t,r){for(var n=e.shape,a=n[0],o=n[1],c=r.data.get(e.dataId),u=c.complexTensorInfos.real,l=c.complexTensorInfos.imag,p=[a,o],f=s.util.sizeFromShape(p),d=s.util.getTypedArrayFromDType("float32",f),m=s.util.getTypedArrayFromDType("float32",f),g=0;g<a;g++){for(var _=(0,h.slice)({inputs:{x:u},backend:r,attrs:{begin:[g,0],size:[1,o]}}),x=(0,h.slice)({inputs:{x:l},backend:r,attrs:{begin:[g,0],size:[1,o]}}),y=(0,i.complex)({inputs:{real:_,imag:x},backend:r}),b=v(y,t,r),k=b.real,j=b.imag,w=s.backend_util.mergeRealAndImagArrays(k,j),I=0;I<o;I++){var T=s.backend_util.getComplexWithIndex(w,I);d[g*o+I]=T.real,m[g*o+I]=T.imag}r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y)}var S=r.makeTensorInfo(p,"float32",d),N=r.makeTensorInfo(p,"float32",m),M=(0,i.complex)({inputs:{real:S,imag:N},backend:r});return r.disposeIntermediateTensorInfo(S),r.disposeIntermediateTensorInfo(N),M}function v(e,t,r){var n,a=s.util.sizeFromShape(e.shape),h=r.data.get(e.dataId),g=r.data.get(h.complexTensorInfos.real.dataId).values,v=r.data.get(h.complexTensorInfos.imag.dataId).values;if(((n=a)&n-1)==0){var _=function e(t,r,n,a,u){if(1===n)return{real:t,imag:r};var d=s.backend_util.mergeRealAndImagArrays(t,r),h=n/2,g=s.backend_util.complexWithEvenIndex(d),v=g.real,_=g.imag,x=[v.length],y=u.makeTensorInfo(x,"float32",v),b=u.makeTensorInfo(x,"float32",_),k=(0,i.complex)({inputs:{real:y,imag:b},backend:u}),j=s.backend_util.complexWithOddIndex(d),w=j.real,I=j.imag,T=[w.length],S=u.makeTensorInfo(T,"float32",w),N=u.makeTensorInfo(T,"float32",I),M=(0,i.complex)({inputs:{real:S,imag:N},backend:u}),C=e(v,_,h,a,u),E=C.real,F=C.imag,A=[E.length],R=u.makeTensorInfo(A,"float32",E),P=u.makeTensorInfo(A,"float32",F),O=(0,i.complex)({inputs:{real:R,imag:P},backend:u}),D=e(w,I,h,a,u),B=D.real,V=D.imag,G=[B.length],L=u.makeTensorInfo(G,"float32",B),q=u.makeTensorInfo(G,"float32",V),z=(0,i.complex)({inputs:{real:L,imag:q},backend:u}),U=s.backend_util.exponents(n,a),H=[U.real.length],W=u.makeTensorInfo(H,"float32",U.real),K=u.makeTensorInfo(H,"float32",U.imag),X=(0,i.complex)({inputs:{real:W,imag:K},backend:u}),Z=(0,p.multiply)({inputs:{a:X,b:z},backend:u}),Q=(0,o.add)({inputs:{a:O,b:Z},backend:u}),J=(0,m.sub)({inputs:{a:O,b:Z},backend:u}),Y=(0,f.real)({inputs:{input:Q},backend:u}),$=(0,f.real)({inputs:{input:J},backend:u}),ee=(0,l.imag)({inputs:{input:Q},backend:u}),et=(0,l.imag)({inputs:{input:J},backend:u}),er=(0,c.concat)({inputs:[Y,$],backend:u,attrs:{axis:0}}),en=(0,c.concat)({inputs:[ee,et],backend:u,attrs:{axis:0}}),ea=u.data.get(er.dataId).values,es=u.data.get(en.dataId).values;return u.disposeIntermediateTensorInfo(y),u.disposeIntermediateTensorInfo(b),u.disposeIntermediateTensorInfo(k),u.disposeIntermediateTensorInfo(S),u.disposeIntermediateTensorInfo(N),u.disposeIntermediateTensorInfo(M),u.disposeIntermediateTensorInfo(R),u.disposeIntermediateTensorInfo(P),u.disposeIntermediateTensorInfo(O),u.disposeIntermediateTensorInfo(L),u.disposeIntermediateTensorInfo(q),u.disposeIntermediateTensorInfo(z),u.disposeIntermediateTensorInfo(W),u.disposeIntermediateTensorInfo(K),u.disposeIntermediateTensorInfo(X),u.disposeIntermediateTensorInfo(Z),u.disposeIntermediateTensorInfo(Q),u.disposeIntermediateTensorInfo(J),u.disposeIntermediateTensorInfo(Y),u.disposeIntermediateTensorInfo(ee),u.disposeIntermediateTensorInfo($),u.disposeIntermediateTensorInfo(et),u.disposeIntermediateTensorInfo(er),u.disposeIntermediateTensorInfo(en),{real:ea,imag:es}}(g,v,a,t,r),x=[e.shape[0],e.shape[1]];if(t){var y=r.makeTensorInfo(x,"float32",_.real),b=r.makeTensorInfo(x,"float32",_.imag),k=r.makeTensorInfo([],"float32",s.util.createScalarValue(a,"float32")),j=(0,u.identity)({inputs:{x:k},backend:r}),w=d.realDivConfig.kernelFunc({inputs:{a:y,b:k},backend:r}),I=d.realDivConfig.kernelFunc({inputs:{a:b,b:j},backend:r}),T=r.data.get(w.dataId).values,S=r.data.get(I.dataId).values;return r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(k),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(I),{real:T,imag:S}}return _}var N=function(e,t,r){for(var n=new Float32Array(2*t),a=0;a<t;a++){for(var o=0,i=0,c=0;c<t;c++){var u=s.backend_util.exponent(a*c,t,r),l=s.backend_util.getComplexWithIndex(e,c);o+=l.real*u.real-l.imag*u.imag,i+=l.real*u.imag+l.imag*u.real}r&&(o/=t,i/=t),s.backend_util.assignToTypedArray(n,o,i,a)}return n}(s.backend_util.mergeRealAndImagArrays(g,v),a,t);return s.backend_util.splitRealAndImagArrays(N)}},{"@tensorflow/tfjs-core":"aOH7b","../kernels/Add":"3EVTG","../kernels/Complex":"7QCs0","../kernels/Concat":"l8WtE","../kernels/Identity":"hoIfp","../kernels/Imag":"gk69N","../kernels/Multiply":"1KdVu","../kernels/Real":"kmbU8","../kernels/RealDiv":"9XjI4","../kernels/Slice":"28Hnf","../kernels/Sub":"3yOhY","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9XjI4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"realDivImpl",function(){return c}),a.export(r,"div",function(){return u}),a.export(r,"realDivConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return e/t}),u=(0,i.binaryKernelFunc)(s.RealDiv,c),l={kernelName:s.RealDiv,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"96JRw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fill",function(){return o}),a.export(r,"fillConfig",function(){return i});var s=e("@tensorflow/tfjs-core");function o(e){var t,r,n=e.backend,a=e.attrs,o=a.shape,i=a.value,c=a.dtype||s.util.inferDtype(i),u=s.util.getArrayFromDType(c,s.util.sizeFromShape(o));return t=u,r=i,t.fill(r),n.makeTensorInfo(o,c,u)}var i={kernelName:s.Fill,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6LaIO":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"flipLeftRightConfig",function(){return i});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i={kernelName:o.FlipLeftRight,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,r=(e.attrs,e.backend),n=t.image,a=o.util.getTypedArrayFromDType(n.dtype,o.util.sizeFromShape(n.shape)),i=(0,s._)(n.shape,4),c=i[0],u=i[1],l=i[2],p=i[3],f=r.data.get(n.dataId).values,d=0;d<c;d++)for(var h=d*l*u*p,m=0;m<u;m++)for(var g=l*p*m,v=0;v<l;v++)for(var _=v*p,x=0;x<p;x++){var y=Math.round(l-v-1),b=h+g+_+x,k=f[b];y>=0&&y<l&&(k=f[h+g+y*p+x]),a[b]=k}return{dataId:r.write(a,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6Ucts":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fusedConv2D",function(){return l}),a.export(r,"fusedConv2DConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../utils/fused_utils"),i=e("./Add"),c=e("./Conv2D"),u=e("./Reshape");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.filter,l=t.bias,p=t.preluActivationWeights,f=n.strides,d=n.pad,h=n.dataFormat,m=n.dilations,g=n.dimRoundingMode,v=n.activation,_=n.leakyreluAlpha,x=(0,c.conv2D)({inputs:{x:a,filter:s},backend:r,attrs:{strides:f,pad:d,dataFormat:h,dilations:m,dimRoundingMode:g}});if(l){var y=x;if("NCHW"===h&&1===l.shape.length&&1!==l.shape[0]){var b=(0,u.reshape)({inputs:{x:l},backend:r,attrs:{shape:[l.shape[0],1,1]}});x=(0,i.add)({inputs:{a:x,b:b},backend:r}),r.disposeIntermediateTensorInfo(b)}else x=(0,i.add)({inputs:{a:x,b:l},backend:r});r.disposeIntermediateTensorInfo(y)}if(v){var k=x;if("NCHW"===h&&"prelu"===v&&1===p.shape.length&&1!==p.shape[0]){var j=(0,u.reshape)({inputs:{x:p},backend:r,attrs:{shape:[p.shape[0],1,1]}});x=(0,o.applyActivation)(r,x,v,j,_),r.disposeIntermediateTensorInfo(j)}else x=(0,o.applyActivation)(r,x,v,p,_);r.disposeIntermediateTensorInfo(k)}return x}var p={kernelName:s.FusedConv2D,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../utils/fused_utils":"eeSsF","./Add":"3EVTG","./Conv2D":"2NULW","./Reshape":"j3OqQ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],b1vNt:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fusedDepthwiseConv2D",function(){return u}),a.export(r,"fusedDepthwiseConv2DConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/fused_utils"),i=e("./Add"),c=e("./DepthwiseConv2dNative");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.filter,u=t.bias,l=t.preluActivationWeights,p=n.strides,f=n.pad,d=n.dataFormat,h=n.dilations,m=n.dimRoundingMode,g=n.activation,v=n.leakyreluAlpha,_=(0,c.depthwiseConv2dNative)({inputs:{x:a,filter:s},backend:r,attrs:{strides:p,pad:f,dataFormat:d,dilations:h,dimRoundingMode:m}});if(u){var x=_;_=(0,i.add)({inputs:{a:_,b:u},backend:r}),r.disposeIntermediateTensorInfo(x)}if(g){var y=_;_=(0,o.applyActivation)(r,_,g,l,v),r.disposeIntermediateTensorInfo(y)}return _}var l={kernelName:s.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/fused_utils":"eeSsF","./Add":"3EVTG","./DepthwiseConv2dNative":"jYiIL","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],iEHvo:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherNd",function(){return c}),a.export(r,"gatherNdConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./GatherNd_Impl");function c(e){var t=e.inputs,r=e.backend,n=t.params,a=t.indices,c=o.util.sizeFromShape(n.shape),u=a.shape,l=u[u.length-1],p=(0,s._)(o.backend_util.prepareAndValidate(n,a),4),f=p[0],d=p[1],h=p[2],m=p[3];if(0===d)return r.makeTensorInfo(f,n.dtype,[]);var g=r.data.get(a.dataId).values,v=r.bufferSync(n),_=(0,i.gatherNdImpl)(g,v,n.dtype,d,l,h,m,n.shape,c);return r.makeTensorInfo(f,n.dtype,_.values)}var u={kernelName:o.GatherNd,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./GatherNd_Impl":"96HLT","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5m8L1":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherV2",function(){return u}),a.export(r,"gatherV2Config",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./GatherV2_impl"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=t.indices,l=n.axis,p=n.batchDims;(0,o.assertNotComplex)([a,u],"gatherV2");for(var f=s.util.parseAxisParam(l,a.shape)[0],d=r.data.get(u.dataId).values,h=a.shape[f],m=0;m<d.length;++m)!function(e){var t=d[e];s.util.assert(t<=h-1&&t>=0,function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(h-1,"]")})}(m);var g=p;null==p&&(g=0);var v=s.util.sizeFromShape(u.shape),_=s.backend_util.segment_util.collectGatherOpShapeInfo(a,u,f,g),x=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:[_.batchSize,_.outerSize,_.dimSize,_.sliceSize]}}),y=(0,c.reshape)({inputs:{x:u},backend:r,attrs:{shape:[_.batchSize,v/_.batchSize]}}),b=[_.batchSize,_.outerSize,v/_.batchSize,_.sliceSize],k=r.bufferSync(y),j=r.bufferSync(x),w=(0,i.gatherV2Impl)(j,k,b);return r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),r.makeTensorInfo(_.outputShape,w.dtype,w.values)}var l={kernelName:s.GatherV2,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./GatherV2_impl":"3r3sw","./Reshape":"j3OqQ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gmsJv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ifft",function(){return c}),a.export(r,"ifftConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../utils/fft_utils"),i=e("./Reshape");function c(e){var t=e.inputs,r=e.backend,n=t.input,a=s.util.sizeFromShape(n.shape),c=n.shape[n.shape.length-1],u=(0,i.reshape)({inputs:{x:n},backend:r,attrs:{shape:[a/c,c]}}),l=(0,o.fftBatch)(u,!0,r),p=(0,i.reshape)({inputs:{x:l},backend:r,attrs:{shape:n.shape}});return r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(l),p}var u={kernelName:s.IFFT,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../utils/fft_utils":"5xw4L","./Reshape":"j3OqQ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kjR6M:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isFinite",function(){return o}),a.export(r,"isFiniteConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.IsFinite,function(e){return+!!Number.isFinite(e)},"bool"),i={kernelName:s.IsFinite,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ewmQi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isInf",function(){return o}),a.export(r,"isInfConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.IsInf,function(e){return+(Math.abs(e)===1/0)},"bool"),i={kernelName:s.IsInf,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8DUtd":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isNaN",function(){return o}),a.export(r,"isNaNConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.IsNan,function(e){return+!!Number.isNaN(e)},"bool"),i={kernelName:s.IsNan,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6lVUl":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"linSpace",function(){return i}),a.export(r,"linSpaceConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./LinSpace_impl");function i(e){var t=e.backend,r=e.attrs,n=r.start,a=r.stop,s=r.num,i=(0,o.linSpaceImpl)(n,a,s);return t.makeTensorInfo([i.length],"float32",i)}var c={kernelName:s.LinSpace,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./LinSpace_impl":"vtEqn","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5xkV7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log1p",function(){return o}),a.export(r,"log1pConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Log1p,function(e){return Math.log1p(e)}),i={kernelName:s.Log1p,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],WTW7W:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalAndImpl",function(){return c}),a.export(r,"logicalAnd",function(){return u}),a.export(r,"logicalAndConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return e&&t}),u=(0,i.binaryKernelFunc)(s.LogicalAnd,c,null,"bool"),l={kernelName:s.LogicalAnd,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],grQHV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalNot",function(){return o}),a.export(r,"logicalNotConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.LogicalNot,function(e){return+!e},"bool"),i={kernelName:s.LogicalNot,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"5aV69":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalOrImpl",function(){return c}),a.export(r,"logicalOr",function(){return u}),a.export(r,"logicalOrConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return e||t}),u=(0,i.binaryKernelFunc)(s.LogicalOr,c,null,"bool"),l={kernelName:s.LogicalOr,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kqRnZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lRN",function(){return i}),a.export(r,"LRNConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.depthRadius,c=n.bias,u=n.alpha,l=n.beta;(0,o.assertNotComplex)(a,"LRN");for(var p=a.shape[3],f=p-1,d=r.data.get(a.dataId).values,h=s.util.sizeFromShape(a.shape),m=new Float32Array(h),g=0;g<h;g++){var v=function(e){for(var t=e%p,r=e-t+Math.max(0,t-i),n=e-t+Math.min(t+i,f),a=0;r<=n;r++){var s=d[r];a+=s*s}return a}(g),_=d[g]*Math.pow(c+u*v,-l);m[g]=_}return r.makeTensorInfo(a.shape,a.dtype,m)}var c={kernelName:s.LRN,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9YJ02":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lRNGrad",function(){return i}),a.export(r,"LRNGradConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.y,c=t.dy,u=n.depthRadius,l=n.bias,p=n.alpha,f=n.beta;(0,o.assertNotComplex)(c,"LRNGrad");for(var d=s.util.sizeFromShape(c.shape),h=c.shape[3],m=r.data.get(c.dataId).values,g=r.data.get(a.dataId).values,v=r.data.get(i.dataId).values,_=new Float32Array(d),x=0;x<d;x++){for(var y=x%h,b=x-y+Math.max(0,y-u),k=x-y+Math.min(h,y+u+1),j=0,w=b;w<k;w++)j+=Math.pow(g[w],2);j=p*j+l;for(var I=b;I<k;I++){var T=-2*p*f*g[I]*v[x]/j;x===I&&(T+=Math.pow(j,-f)),T*=m[x],_[I]+=T}}return r.makeTensorInfo(c.shape,a.dtype,_)}var c={kernelName:s.LRNGrad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7OuGj":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"max",function(){return l}),a.export(r,"maxConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Max_impl"),u=e("./Transpose_impl");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.reductionIndices,p=n.keepDims,f=a.shape,d=f.length,h=o.util.parseAxisParam(l,f),m=h,g=o.backend_util.getAxesPermutation(m,d),v=r.data.get(a.dataId).values;if(null!=g){for(var _=Array(d),x=0;x<_.length;x++)_[x]=f[g[x]];v=(0,u.transposeImpl)(v,f,a.dtype,g,_),m=o.backend_util.getInnerMostAxes(m.length,d),f=_}(0,i.assertNotComplex)(a,"max"),o.backend_util.assertAxesAreInnerMostDims("max",m,d);var y=(0,s._)(o.backend_util.computeOutAndReduceShapes(f,m),2),b=y[0],k=y[1],j=o.util.sizeFromShape(k),w=(0,c.maxImpl)(v,j,b,a.dtype),I=r.write(w,b,a.dtype),T=b;return p&&(T=o.backend_util.expandShapeToKeepDim(b,h)),{dataId:I,shape:T,dtype:a.dtype}}var p={kernelName:o.Max,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Max_impl":"iWMWQ","./Transpose_impl":"juOdZ","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6xNof":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool",function(){return u}),a.export(r,"maxPoolConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("../utils/pool_utils"),c=e("./Identity");function u(e){var t,r=e.inputs,n=e.backend,a=e.attrs,u=r.x;(0,o.assertNotComplex)(u,"maxPool");var l=a.filterSize,p=a.strides,f=a.pad,d=a.dimRoundingMode;s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(p,1),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(p," and dilations '").concat(1,"'")});var h=s.backend_util.computePool2DInfo(u.shape,l,p,1,f,d);if(1===h.filterWidth&&1===h.filterHeight&&s.util.arraysEqual(h.inShape,h.outShape))t=(0,c.identity)({inputs:{x:u},backend:n});else{var m=n.data.get(u.dataId).values,g=s.util.computeStrides(u.shape),v=(0,i.pool)(m,u.shape,u.dtype,g,h,"max");t=n.makeTensorInfo(h.outShape,u.dtype,v.values)}return t}var l={kernelName:s.MaxPool,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","../utils/pool_utils":"fC3Db","./Identity":"hoIfp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],d1fKi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3D",function(){return c}),a.export(r,"maxPool3DConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("../utils/pool_utils");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.filterSize,u=n.strides,l=n.pad,p=n.dimRoundingMode,f=n.dataFormat;(0,o.assertNotComplex)(a,"maxPool3d");var d=s.backend_util.computePool3DInfo(a.shape,c,u,1,l,p,f),h=r.data.get(a.dataId).values,m=(0,i.pool3d)(h,a.shape,a.dtype,s.util.computeStrides(a.shape),d,"max");return r.makeTensorInfo(m.shape,"float32",m.values)}var u={kernelName:s.MaxPool3D,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","../utils/pool_utils":"fC3Db","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1sDNZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3DGrad",function(){return c}),a.export(r,"maxPool3DGradConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("../utils/pool_utils");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.input,u=n.filterSize,l=n.strides,p=n.pad,f=n.dimRoundingMode;(0,o.assertNotComplex)([a,c],"maxPool3DGrad");for(var d=s.backend_util.computePool3DInfo(c.shape,u,l,1,p,f),h=r.bufferSync(c),m=(0,i.maxPool3dPositions)(h,d),g=d.strideDepth,v=d.strideHeight,_=d.strideWidth,x=d.dilationDepth,y=d.dilationHeight,b=d.dilationWidth,k=d.effectiveFilterDepth,j=d.effectiveFilterHeight,w=d.effectiveFilterWidth,I=k-1-d.padInfo.front,T=w-1-d.padInfo.left,S=j-1-d.padInfo.top,N=(0,s.buffer)(c.shape,"float32"),M=r.bufferSync(a),C=0;C<d.batchSize;++C)for(var E=0;E<d.inChannels;++E)for(var F=0;F<d.inDepth;++F)for(var A=0;A<d.inHeight;++A)for(var R=0;R<d.inWidth;++R){for(var P=F-I,O=A-S,D=R-T,B=0,V=0;V<k;V+=x){var G=(P+V)/g;if(!(G<0)&&!(G>=d.outDepth)&&Math.floor(G)===G)for(var L=0;L<j;L+=y){var q=(O+L)/v;if(!(q<0)&&!(q>=d.outHeight)&&Math.floor(q)===q)for(var z=0;z<w;z+=b){var U=(D+z)/_;if(!(U<0)&&!(U>=d.outWidth)&&Math.floor(U)===U){var H=+(k*j*w-1-m.get(C,G,q,U,E)===V*j*w+L*w+z);0!==H&&(B+=M.get(C,G,q,U,E)*H)}}}}N.set(B,C,F,A,R,E)}return r.makeTensorInfo(N.shape,N.dtype,N.values)}var u={kernelName:s.MaxPool3DGrad,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","../utils/pool_utils":"fC3Db","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4U6Jb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolGrad",function(){return c}),a.export(r,"maxPoolGradConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("../utils/pool_utils");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.input,u=t.output;(0,o.assertNotComplex)([c,u],"maxPoolGrad");for(var l=n.filterSize,p=n.strides,f=n.pad,d=n.dimRoundingMode,h=s.backend_util.computePool2DInfo(c.shape,l,p,1,f,d),m=r.data.get(c.dataId).values,g=(0,s.buffer)(h.outShape,c.dtype,(0,i.maxPoolPositions)(m,c.shape,c.dtype,h).values),v=h.strideHeight,_=h.strideWidth,x=h.dilationHeight,y=h.dilationWidth,b=h.effectiveFilterHeight,k=h.effectiveFilterWidth,j=k-1-h.padInfo.left,w=b-1-h.padInfo.top,I=(0,s.buffer)(c.shape,"float32"),T=r.data.get(a.dataId).values,S=(0,s.buffer)(a.shape,"float32",T),N=0;N<h.batchSize;++N)for(var M=0;M<h.inChannels;++M)for(var C=0;C<h.inHeight;++C)for(var E=0;E<h.inWidth;++E){for(var F=C-w,A=E-j,R=0,P=0;P<b;P+=x){var O=(F+P)/v;if(!(O<0)&&!(O>=h.outHeight)&&Math.floor(O)===O)for(var D=0;D<k;D+=y){var B=(A+D)/_;if(!(B<0)&&!(B>=h.outWidth)&&Math.floor(B)===B){var V=+(b*k-1-g.get(N,O,B,M)===P*k+D);0!==V&&(R+=S.get(N,O,B,M)*V)}}}I.set(R,N,C,E,M)}return r.makeTensorInfo(I.shape,I.dtype,I.values)}var u={kernelName:s.MaxPoolGrad,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","../utils/pool_utils":"fC3Db","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],keQ8v:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmaxConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./MaxPoolWithArgmax_impl"),u={kernelName:o.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,u=r.filterSize,l=r.strides,p=r.pad,f=r.includeBatchInIndex;(0,i.assertNotComplex)(a,"MaxPoolWithArgmax");var d=n.data.get(a.dataId).values,h=o.backend_util.computePool2DInfo(a.shape,u,l,[1,1],p),m=(0,s._)((0,c.maxPoolWithArgmaxImpl)(d,a.shape,a.dtype,f,h),2),g=m[0],v=m[1],_=n.write(g,h.outShape,a.dtype),x=n.write(v,h.outShape,a.dtype);return[{dataId:_,shape:h.outShape,dtype:a.dtype},{dataId:x,shape:h.outShape,dtype:"int32"}]}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./MaxPoolWithArgmax_impl":"4TWR2","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4TWR2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmaxImpl",function(){return i});var s=e("@tensorflow/tfjs-core"),o=e("../utils/pool_utils");function i(e,t,r,n,a){var i=s.util.computeStrides(t),c=(0,o.pool)(e,t,r,i,a,"max"),u=(0,o.maxPoolPositions)(e,t,r,a,!0,n);return[c.values,u.values]}},{"@tensorflow/tfjs-core":"aOH7b","../utils/pool_utils":"fC3Db","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],e2uRi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mean",function(){return u}),a.export(r,"meanConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("./Cast"),i=e("./RealDiv"),c=e("./Sum");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.axis,l=n.keepDims,p=s.util.parseAxisParam(u,a.shape),f=s.backend_util.computeOutAndReduceShapes(a.shape,p)[1],d=s.util.sizeFromShape(f),h=[],m=r.makeTensorInfo([],"float32",new Float32Array([d]));h.push(m);var g=(0,o.cast)({inputs:{x:a},backend:r,attrs:{dtype:"float32"}});h.push(g);var v=(0,i.div)({inputs:{a:g,b:m},backend:r});h.push(v);var _=(0,c.sum)({inputs:{x:v},backend:r,attrs:{axis:u,keepDims:l}});return h.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),_}var l={kernelName:s.Mean,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","./Cast":"kWbgg","./RealDiv":"9XjI4","./Sum":"9djt1","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"69bKE":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"min",function(){return l}),a.export(r,"minConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.axis,p=n.keepDims;(0,i.assertNotComplex)(a,"min");var f=o.util.parseAxisParam(l,a.shape),d=f,h=o.backend_util.getAxesPermutation(d,a.shape.length),m=a;null!=h&&(m=(0,u.transpose)({inputs:{x:a},backend:r,attrs:{perm:h}}),d=o.backend_util.getInnerMostAxes(d.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("min",d,m.shape.length);for(var g=(0,s._)(o.backend_util.computeOutAndReduceShapes(m.shape,d),2),v=g[0],_=g[1],x=o.util.sizeFromShape(_),y=o.util.makeZerosTypedArray(o.util.sizeFromShape(v),m.dtype),b=r.data.get(m.dataId).values,k=0;k<y.length;++k){for(var j=k*x,w=b[j],I=0;I<x;++I){var T=b[j+I];(Number.isNaN(T)||T<w)&&(w=T)}y[k]=w}null!=h&&r.disposeIntermediateTensorInfo(m);var S=r.makeTensorInfo(v,m.dtype,y);if(p){var N=o.backend_util.expandShapeToKeepDim(v,f),M=(0,c.reshape)({inputs:{x:S},backend:r,attrs:{shape:N}});return r.disposeIntermediateTensorInfo(S),M}return S}var p={kernelName:o.Min,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Reshape":"j3OqQ","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1DsIs":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mirrorPad",function(){return i}),a.export(r,"mirrorPadConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.paddings,c=n.mode;(0,o.assertNotComplex)(a,"mirrorPad");for(var u=i.map(function(e,t){return e[0]+a.shape[t]+e[1]}),l=i.map(function(e){return e[0]}),p=i.map(function(e,t){return e[0]+a.shape[t]}),f=+("reflect"!==c),d=r.data.get(a.dataId).values,h=a.shape.length,m=s.util.computeStrides(a.shape),g=s.util.sizeFromShape(u),v=u.length,_=s.util.computeStrides(u),x=s.util.getTypedArrayFromDType(a.dtype,g),y=0;y<g;y++){for(var b=s.util.indexToLoc(y,v,_),k=0;k<v;k++)b[k]<l[k]?b[k]=2*l[k]-b[k]-f:b[k]>=p[k]&&(b[k]=(p[k]-1)*2-b[k]+f);b=b.map(function(e,t){return e-l[t]});var j=s.util.locToIndex(b,h,m);x[y]=d[j]}return{dataId:r.write(x,u,a.dtype),shape:u,dtype:a.dtype}}var c={kernelName:s.MirrorPad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"40nMm":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"modImpl",function(){return c}),a.export(r,"mod",function(){return u}),a.export(r,"modConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){var r=e%t;return e<0&&t<0||e>=0&&t>=0?r:(r+t)%t}),u=(0,i.binaryKernelFunc)(s.Mod,c),l={kernelName:s.Mod,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],chLGx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multinomial",function(){return u}),a.export(r,"multinomialConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("seedrandom"),i=e("../cpu_util"),c=e("./Softmax");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.logits,u=n.numSamples,l=n.seed,p=n.normalized;(0,i.assertNotComplex)(a,"multinomial");for(var f=p?a:(0,c.softmax)({inputs:{logits:a},backend:r,attrs:{dim:-1}}),d=f.shape[0],h=f.shape[1],m=r.data.get(f.dataId).values,g=[d,u],v=s.util.makeZerosTypedArray(s.util.sizeFromShape(g),"int32"),_=0;_<d;++_){var x=_*h,y=new Float32Array(h-1);y[0]=m[x];for(var b=1;b<y.length;++b)y[b]=y[b-1]+m[x+b];for(var k=o.alea(l.toString()),j=_*u,w=0;w<u;++w){var I=k();v[j+w]=y.length;for(var T=0;T<y.length;T++)if(I<y[T]){v[j+w]=T;break}}}return p||r.disposeIntermediateTensorInfo(f),r.makeTensorInfo(g,"int32",v)}var l={kernelName:s.Multinomial,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b",seedrandom:"gRsNz","../cpu_util":"aNlof","./Softmax":"eT270","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eT270:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softmax",function(){return f}),a.export(r,"softmaxConfig",function(){return d});var s=e("@tensorflow/tfjs-core"),o=e("./Exp"),i=e("./Max"),c=e("./RealDiv"),u=e("./Reshape"),l=e("./Sub"),p=e("./Sum");function f(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.logits,f=n.dim,d=a.shape.length,h=f;if(-1===h&&(h=d-1),h!==d-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(d," and dim was ").concat(h));var m=s.util.parseAxisParam([h],a.shape),g=(0,i.max)({inputs:{x:a},backend:r,attrs:{reductionIndices:m,keepDims:!1}}),v=s.backend_util.expandShapeToKeepDim(g.shape,m),_=(0,u.reshape)({inputs:{x:g},backend:r,attrs:{shape:v}}),x=(0,l.sub)({inputs:{a:a,b:_},backend:r}),y=(0,o.exp)({inputs:{x:x},backend:r}),b=(0,p.sum)({inputs:{x:y},backend:r,attrs:{axis:m,keepDims:!1}}),k=(0,u.reshape)({inputs:{x:b},backend:r,attrs:{shape:v}}),j=(0,c.div)({inputs:{a:y,b:k},backend:r});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(k),j}var d={kernelName:s.Softmax,backendName:"cpu",kernelFunc:f}},{"@tensorflow/tfjs-core":"aOH7b","./Exp":"9TnhL","./Max":"7OuGj","./RealDiv":"9XjI4","./Reshape":"j3OqQ","./Sub":"3yOhY","./Sum":"9djt1","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6Indl":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV3",function(){return c}),a.export(r,"nonMaxSuppressionV3Config",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=s.kernel_impls.nonMaxSuppressionV3Impl;function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,s=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold;(0,o.assertNotComplex)(a,"NonMaxSuppression");var p=i(r.data.get(a.dataId).values,r.data.get(s.dataId).values,c,u,l).selectedIndices;return r.makeTensorInfo([p.length],"int32",new Int32Array(p))}var u={kernelName:s.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bM6D9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV4",function(){return c}),a.export(r,"nonMaxSuppressionV4Config",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=s.kernel_impls.nonMaxSuppressionV4Impl;function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,s=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=n.padToMaxOutputSize;(0,o.assertNotComplex)(a,"NonMaxSuppressionPadded");var f=i(r.data.get(a.dataId).values,r.data.get(s.dataId).values,c,u,l,p),d=f.selectedIndices,h=f.validOutputs;return[r.makeTensorInfo([d.length],"int32",new Int32Array(d)),r.makeTensorInfo([],"int32",new Int32Array([h]))]}var u={kernelName:s.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9bv12":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV5",function(){return c}),a.export(r,"nonMaxSuppressionV5Config",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=s.kernel_impls.nonMaxSuppressionV5Impl;function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,s=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=n.softNmsSigma;(0,o.assertNotComplex)(a,"NonMaxSuppressionWithScore");var f=i(r.data.get(a.dataId).values,r.data.get(s.dataId).values,c,u,l,p),d=f.selectedIndices,h=f.selectedScores;return[r.makeTensorInfo([d.length],"int32",new Int32Array(d)),r.makeTensorInfo([h.length],"float32",new Float32Array(h))]}var u={kernelName:s.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"7ptMk":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"oneHot",function(){return c}),a.export(r,"oneHotConfig",function(){return u});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.indices,c=n.dtype,u=n.depth,l=n.onValue,p=n.offValue;(0,i.assertNotComplex)(a,"oneHot");var f=o.util.sizeFromShape(a.shape),d=new Float32Array(f*u);d.fill(p);for(var h=r.data.get(a.dataId).values,m=0;m<f;++m)h[m]>=0&&h[m]<u&&(d[m*u+h[m]]=l);return r.makeTensorInfo((0,s._)(a.shape).concat([u]),c,d)}var u={kernelName:o.OneHot,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eduGs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"onesLike",function(){return p}),a.export(r,"onesLikeConfig",function(){return f});var s=e("@tensorflow/tfjs-core"),o=e("./Complex"),i=e("./Fill"),c=e("./Imag"),u=e("./Real"),l=e("./ZerosLike");function p(e){var t=e.inputs,r=e.backend,n=t.x;if("string"===n.dtype)throw Error("onesLike is not supported for string tensors");if("complex64"!==n.dtype)return(0,i.fill)({backend:r,attrs:{shape:n.shape,value:1,dtype:n.dtype}});var a=(0,u.real)({inputs:{input:n},backend:r}),s=p({inputs:{x:a},backend:r}),f=(0,c.imag)({inputs:{input:n},backend:r}),d=(0,l.zerosLike)({inputs:{x:f},backend:r}),h=(0,o.complex)({inputs:{real:s,imag:d},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(d),h}var f={kernelName:s.OnesLike,backendName:"cpu",kernelFunc:p}},{"@tensorflow/tfjs-core":"aOH7b","./Complex":"7QCs0","./Fill":"96JRw","./Imag":"gk69N","./Real":"kmbU8","./ZerosLike":"4uVAc","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"4uVAc":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zerosLike",function(){return l}),a.export(r,"zerosLikeConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("./Complex"),i=e("./Fill"),c=e("./Imag"),u=e("./Real");function l(e){var t=e.inputs,r=e.backend,n=t.x;if("string"===n.dtype)throw Error("zerosLike is not supported for string tensors");if("complex64"!==n.dtype)return(0,i.fill)({backend:r,attrs:{shape:n.shape,value:0,dtype:n.dtype}});var a=(0,u.real)({inputs:{input:n},backend:r}),s=l({inputs:{x:a},backend:r}),p=(0,c.imag)({inputs:{input:n},backend:r}),f=l({inputs:{x:p},backend:r}),d=(0,o.complex)({inputs:{real:s,imag:f},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(f),d}var p={kernelName:s.ZerosLike,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","./Complex":"7QCs0","./Fill":"96JRw","./Imag":"gk69N","./Real":"kmbU8","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],f2gUP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pack",function(){return c}),a.export(r,"packConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("./Concat"),i=e("./ExpandDims");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.axis;if(1===t.length)return(0,i.expandDims)({inputs:{input:t[0]},backend:r,attrs:{dim:n}});var a=t[0].shape,c=t[0].dtype;t.forEach(function(e){s.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),s.util.assert(c===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var u=[],l=t.map(function(e){var t=(0,i.expandDims)({inputs:{input:e},backend:r,attrs:{dim:n}});return u.push(t),t}),p=(0,o.concat)({inputs:l,backend:r,attrs:{axis:n}});return u.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),p}var u={kernelName:s.Pack,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","./Concat":"l8WtE","./ExpandDims":"kufDD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eeJad:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"padV2",function(){return i}),a.export(r,"padV2Config",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.paddings,c=n.constantValue;(0,o.assertNotComplex)(a,"pad");var u=i.map(function(e,t){return e[0]+a.shape[t]+e[1]}),l=i.map(function(e){return e[0]}),p=r.data.get(a.dataId).values,f=s.util.sizeFromShape(a.shape),d=a.shape.length,h=s.util.computeStrides(a.shape),m=s.util.sizeFromShape(u),g=u.length,v=s.util.computeStrides(u),_=s.util.getTypedArrayFromDType(a.dtype,m);0!==c&&_.fill(c);for(var x=0;x<f;x++){var y=s.util.indexToLoc(x,d,h).map(function(e,t){return e+l[t]});_[s.util.locToIndex(y,g,v)]=p[x]}return{dataId:r.write(_,u,a.dtype),shape:u,dtype:a.dtype}}var c={kernelName:s.PadV2,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8PzaQ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"powImpl",function(){return c}),a.export(r,"pow",function(){return u}),a.export(r,"powConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,o.createSimpleBinaryKernelImpl)(function(e,t){return Math.pow(e,t)}),u=(0,i.binaryKernelFunc)(s.Pow,c),l={kernelName:s.Pow,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/binary_impl":"dGtkM","../utils/binary_utils":"iyKoU","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],kpyNn:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedGather",function(){return c}),a.export(r,"raggedGatherConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./RaggedGather_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.paramsNestedSplits,o=t.paramsDenseValues,c=t.indices,u=n.outputRaggedRank,l=a.map(function(e){return r.data.get(e.dataId).values}),p=a.map(function(e){return e.shape}),f=r.data.get(o.dataId).values,d=r.data.get(c.dataId).values,h=(0,s._)((0,i.raggedGatherImpl)(l,p,f,o.shape,o.dtype,d,c.shape,u),3),m=h[0],g=h[1],v=h[2],_=m.map(function(e){return r.makeTensorInfo([e.length],"int32",e)}),x=r.makeTensorInfo(v,o.dtype,g);return _.concat([x])}var u={kernelName:o.RaggedGather,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./RaggedGather_impl":"4XXgR","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"48DnM":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedRange",function(){return c}),a.export(r,"raggedRangeConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./RaggedRange_impl");function c(e){var t=e.inputs,r=e.backend,n=t.starts,a=t.limits,o=t.deltas,c=r.data.get(n.dataId).values,u=r.data.get(a.dataId).values,l=r.data.get(o.dataId).values,p=(0,s._)((0,i.raggedRangeImpl)(c,n.shape,n.dtype,u,a.shape,l,o.shape),2),f=p[0],d=p[1];return[r.makeTensorInfo([f.length],"int32",f),r.makeTensorInfo([d.length],n.dtype,d)]}var u={kernelName:o.RaggedRange,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./RaggedRange_impl":"jyzgr","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ekX8L:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedTensorToTensor",function(){return c}),a.export(r,"raggedTensorToTensorConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./RaggedTensorToTensor_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.shape,o=t.values,c=t.defaultValue,u=t.rowPartitionTensors,l=n.rowPartitionTypes,p=r.data.get(a.dataId).values,f=r.data.get(o.dataId).values,d=r.data.get(c.dataId).values,h=u.map(function(e){return r.data.get(e.dataId).values}),m=u.map(function(e){return e.shape}),g=(0,s._)((0,i.raggedTensorToTensorImpl)(p,a.shape,f,o.shape,o.dtype,d,c.shape,h,m,l),2),v=g[0],_=g[1];return r.makeTensorInfo(v,o.dtype,_)}var u={kernelName:o.RaggedTensorToTensor,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./RaggedTensorToTensor_impl":"QkyPi","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dZyoU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"range",function(){return i}),a.export(r,"rangeConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Range_impl");function i(e){var t=e.backend,r=e.attrs,n=r.start,a=r.stop,s=r.dtype,i=r.step,c=(0,o.rangeImpl)(n,a,i,s);return t.makeTensorInfo([c.length],s,c)}var c={kernelName:s.Range,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Range_impl":"brzI2","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cXxlB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reciprocal",function(){return o}),a.export(r,"reciprocalConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Reciprocal,function(e){return 1/e}),i={kernelName:s.Reciprocal,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],bYVKL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinear",function(){return c}),a.export(r,"resizeBilinearConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,c=n.alignCorners,u=n.halfPixelCenters,l=n.size;(0,i.assertNotComplex)(a,"resizeBilinear");for(var p=o.util.computeStrides(a.shape),f=(0,s._)(l,2),d=f[0],h=f[1],m=(0,s._)(a.shape,4),g=m[0],v=m[1],_=m[2],x=m[3],y=r.data.get(a.dataId).values,b=new Float32Array(o.util.sizeFromShape([g,d,h,x])),k=[c&&d>1?v-1:v,c&&h>1?_-1:_],j=[c&&d>1?d-1:d,c&&h>1?h-1:h],w=0,I=k[0]/j[0],T=k[1]/j[1],S=0;S<g;S++)for(var N=0;N<d;N++)for(var M=void 0,C=Math.max(0,Math.floor(M=u?I*(N+.5)-.5:I*N)),E=M-C,F=Math.min(v-1,Math.ceil(M)),A=S*p[0]+C*p[1],R=S*p[0]+F*p[1],P=0;P<h;P++)for(var O=void 0,D=Math.max(0,Math.floor(O=u?T*(P+.5)-.5:T*P)),B=O-D,V=Math.min(_-1,Math.ceil(O)),G=A+D*p[2],L=R+D*p[2],q=A+V*p[2],z=R+V*p[2],U=0;U<x;U++){var H=y[G+U],W=y[L+U],K=y[q+U],X=y[z+U],Z=H+(K-H)*B,Q=Z+(W+(X-W)*B-Z)*E;b[w++]=Q}return r.makeTensorInfo([g,d,h,x],"float32",b)}var u={kernelName:o.ResizeBilinear,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dlCGa:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinearGrad",function(){return c}),a.export(r,"resizeBilinearGradConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,c=t.dy,u=n.alignCorners;(0,i.assertNotComplex)([c,a],"resizeBilinearGrad");for(var l=o.util.computeStrides(a.shape),p=(0,s._)(a.shape,4),f=p[0],d=p[1],h=p[2],m=p[3],g=(0,s._)(c.shape,3),v=g[1],_=g[2],x=new Float32Array(f*d*h*m),y=[u&&v>1?d-1:d,u&&_>1?h-1:h],b=[u&&v>1?v-1:v,u&&_>1?_-1:_],k=y[0]/b[0],j=y[1]/b[1],w=r.data.get(c.dataId).values,I=0,T=0;T<f;T++)for(var S=T*l[0],N=0;N<v;N++)for(var M=N*k,C=Math.floor(M),E=Math.min(Math.ceil(M),d-1),F=S+C*l[1],A=S+E*l[1],R=M-C,P=1-R,O=0;O<_;O++)for(var D=O*j,B=Math.floor(D),V=Math.min(Math.ceil(D),h-1),G=D-B,L=1-G,q=F+B*l[2],z=F+V*l[2],U=A+B*l[2],H=A+V*l[2],W=P*L,K=P*G,X=R*L,Z=R*G,Q=0;Q<m;Q++){var J=w[I++];x[q+Q]+=J*W,x[z+Q]+=J*K,x[U+Q]+=J*X,x[H+Q]+=J*Z}return r.makeTensorInfo([f,h,d,m],"float32",x)}var u={kernelName:o.ResizeBilinearGrad,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ic5Qa:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighbor",function(){return c}),a.export(r,"resizeNearestNeighborConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,c=n.alignCorners,u=n.halfPixelCenters,l=n.size;(0,i.assertNotComplex)(a,"resizeNearestNeighbor");for(var p=o.util.computeStrides(a.shape),f=(0,s._)(l,2),d=f[0],h=f[1],m=(0,s._)(a.shape,4),g=m[0],v=m[1],_=m[2],x=m[3],y=r.data.get(a.dataId).values,b=new Float32Array(g*d*h*x),k=[c&&d>1?v-1:v,c&&h>1?_-1:_],j=[c&&d>1?d-1:d,c&&h>1?h-1:h],w=k[0]/j[0],I=k[1]/j[1],T=0,S=0;S<g;S++)for(var N=S*p[0],M=0;M<d;M++){var C=u?w*(M+.5):w*M,E=Math.min(v-1,c?Math.round(C):Math.floor(C));u&&(E=Math.max(0,E));for(var F=N+E*p[1],A=0;A<h;A++){var R=u?I*(A+.5):I*A,P=Math.min(_-1,c?Math.round(R):Math.floor(R));u&&(P=Math.max(0,P));for(var O=F+P*p[2],D=0;D<x;D++){var B=y[O+D];b[T++]=B}}}return r.makeTensorInfo([g,d,h,x],a.dtype,b)}var u={kernelName:o.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],Ogux7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighborGrad",function(){return c}),a.export(r,"resizeNearestNeighborGradConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,c=t.dy,u=n.alignCorners;(0,i.assertNotComplex)([c,a],"resizeNearestNeighborGrad");for(var l=o.util.computeStrides(a.shape),p=o.util.computeStrides(c.shape),f=(0,s._)(a.shape,4),d=f[0],h=f[1],m=f[2],g=f[3],v=(0,s._)(c.shape,3),_=v[1],x=v[2],y=new Float32Array(d*h*m*g),b=r.data.get(c.dataId).values,k=[u&&_>1?h-1:h,u&&x>1?m-1:m],j=[u&&_>1?_-1:_,u&&x>1?x-1:x],w=k[0]/j[0],I=k[1]/j[1],T=1/w,S=1/I,N=2*Math.ceil(T)+2,M=2*Math.ceil(S)+2,C=0;C<d;C++)for(var E=C*l[0],F=0;F<h;F++)for(var A=E+F*l[1],R=Math.floor(Math.floor(F*T)-N/2),P=0;P<m;P++)for(var O=A+P*l[2],D=Math.floor(Math.floor(P*S)-M/2),B=0;B<g;B++){for(var V=0,G=0;G<N;G++){var L=G+R;if(!(L<0)&&!(L>=_)){var q=E+L*p[1],z=L*w;if(F===Math.min(h-1,u?Math.round(z):Math.floor(z)))for(var U=0;U<M;U++){var H=U+D;if(!(H<0)&&!(H>=x)){var W=q+H*p[2],K=H*I;P===Math.min(m-1,u?Math.round(K):Math.floor(K))&&(V+=b[W+B])}}}}y[O+B]=V}return r.makeTensorInfo(a.shape,a.dtype,y)}var u={kernelName:o.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"16Buh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse",function(){return u}),a.export(r,"reverseConfig",function(){return l});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.dims;(0,i.assertNotComplex)(a,"reverse");var l=a.shape.length,p=o.util.parseAxisParam(u,a.shape);if(0===l)return(0,c.identity)({inputs:{x:a},backend:r});for(var f=new(0,o.TensorBuffer)(a.shape,a.dtype),d=r.bufferSync(a),h=0;h<f.size;h++)!function(e){var t=f.indexToLoc(e),r=t.slice();p.forEach(function(e){return r[e]=a.shape[e]-1-r[e]}),f.set.apply(f,[d.get.apply(d,(0,s._)(r))].concat((0,s._)(t)))}(h);return r.makeTensorInfo(f.shape,f.dtype,f.values)}var l={kernelName:o.Reverse,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Identity":"hoIfp","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],ccfq6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rotateWithOffsetConfig",function(){return i});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i={kernelName:o.RotateWithOffset,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,r=e.attrs,n=e.backend,a=t.image,i=r.radians,c=r.fillValue,u=r.center,l=o.util.getTypedArrayFromDType(a.dtype,o.util.sizeFromShape(a.shape)),p=(0,s._)(a.shape,4),f=p[0],d=p[1],h=p[2],m=p[3],g=(0,s._)(o.backend_util.getImageCenter(u,d,h),2),v=g[0],_=g[1],x=Math.sin(i),y=Math.cos(i),b=n.data.get(a.dataId).values,k=0;k<f;k++)for(var j=k*h*d*m,w=0;w<d;w++)for(var I=h*m*w,T=0;T<h;T++)for(var S=T*m,N=0;N<m;N++){var M=[f,w,T,N],C=M[2],E=M[1],F=(C-v)*y-(E-_)*x,A=(C-v)*x+(E-_)*y;F=Math.round(F+v),A=Math.round(A+_);var R=c;"number"!=typeof c&&(R=3===N?255:c[N]),F>=0&&F<h&&A>=0&&A<d&&(R=b[j+h*m*A+F*m+N]),l[j+I+S+N]=R}return{dataId:n.write(l,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8WPmQ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"round",function(){return o}),a.export(r,"roundConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Round,function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1}),i={kernelName:s.Round,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],a6SbL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scatterNd",function(){return i}),a.export(r,"scatterNdConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Scatter_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.indices,i=t.updates,c=n.shape,u=s.backend_util.calculateShapes(i,a,c),l=u.sliceRank,p=u.numUpdates,f=u.sliceSize,d=u.strides,h=u.outputSize,m=r.bufferSync(a),g=r.bufferSync(i),v=(0,o.scatterImpl)(m,g,c,h,f,p,l,d,0,!0);return r.makeTensorInfo(c,v.dtype,v.values)}var c={kernelName:s.ScatterNd,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Scatter_impl":"8sDwq","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],lA2j8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"searchSorted",function(){return i}),a.export(r,"searchSortedConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./SearchSorted_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.sortedSequence,s=t.values,i=n.side,c=r.data.get(a.dataId).values,u=r.data.get(s.dataId).values,l=(0,o.searchSortedImpl)(c,u,a.shape[0],a.shape[1],s.shape[1],i);return r.makeTensorInfo(s.shape,"int32",l)}var c={kernelName:s.SearchSorted,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./SearchSorted_impl":"9FQlI","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9FQlI":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"searchSortedImpl",function(){return o});var s=e("@tensorflow/tfjs-core");function o(e,t,r,n,a,o){for(var i=s.util.getArrayFromDType("int32",r*a),c=0;c<r;++c)for(var u=e.slice(c*n,(c+1)*n),l=c*a,p=0;p<a;++p)i[l+p]="left"===o?function(e,t){for(var r=0,n=e.length,a=0;r<n;)e[a=Math.floor((r+n)/2)]<t?r=a+1:n=a;return n}(u,t[p+l]):function(e,t){for(var r=0,n=e.length,a=0;r<n;)e[a=Math.floor((r+n)/2)]<=t?r=a+1:n=a;return n}(u,t[p+l]);return i}},{"@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"6pc9k":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"select",function(){return i}),a.export(r,"selectConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=t.condition,a=t.t,i=t.e;(0,o.assertNotComplex)([n,a,i],"select");for(var c=n.shape.length,u=r.data.get(n.dataId).values,l=r.data.get(a.dataId).values,p=r.data.get(i.dataId).values,f=(0,s.upcastType)(a.dtype,i.dtype),d=s.util.makeZerosTypedArray(s.util.sizeFromShape(a.shape),f),h=0,m=0===c||c>1||1===a.shape.length?1:s.util.sizeFromShape(a.shape.slice(1)),g=0;g<u.length;g++)for(var v=0;v<m;v++)1===u[g]?d[h++]=l[g]:d[h++]=p[g];return r.makeTensorInfo(a.shape,f,d)}var c={kernelName:s.Select,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gvZPX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"selu",function(){return u}),a.export(r,"seluConfig",function(){return l});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_utils"),i=s.backend_util.SELU_SCALEALPHA,c=s.backend_util.SELU_SCALE,u=(0,o.unaryKernelFunc)(s.Selu,function(e){return e>=0?c*e:i*(Math.exp(e)-1)}),l={kernelName:s.Selu,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"8YQqt":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sign",function(){return o}),a.export(r,"signConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Sign,function(e){return e<0?-1:+(e>0)}),i={kernelName:s.Sign,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fWl4V:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sin",function(){return o}),a.export(r,"sinConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Sin,function(e){return Math.sin(e)}),i={kernelName:s.Sin,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"9zH29":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sinh",function(){return o}),a.export(r,"sinhConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Sinh,function(e){return Math.sinh(e)}),i={kernelName:s.Sinh,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],stOf2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softplus",function(){return c}),a.export(r,"softplusConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../utils/unary_utils"),i=Math.log(11920928955078125e-23)+2,c=(0,o.unaryKernelFunc)(s.Softplus,function(e){var t=Math.exp(e);return e<i?t:e>-i?e:Math.log(1+t)}),u={kernelName:s.Softplus,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],jLaop:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"spaceToBatchND",function(){return p}),a.export(r,"spaceToBatchNDConfig",function(){return f});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./PadV2"),u=e("./Reshape"),l=e("./Transpose");function p(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,p=n.blockShape,f=n.paddings;(0,i.assertNotComplex)([a],"spaceToBatchND");var d=o.util.sizeFromShape(p),h=[[0,0]];h.push.apply(h,(0,s._)(f));for(var m=1+p.length;m<a.shape.length;++m)h.push([0,0]);var g=c.padV2Config.kernelFunc({inputs:{x:a},backend:r,attrs:{paddings:h,constantValue:0}}),v=o.backend_util.getReshaped(g.shape,p,d,!1),_=o.backend_util.getPermuted(v.length,p.length,!1),x=o.backend_util.getReshapedPermuted(g.shape,p,d,!1),y=(0,u.reshape)({inputs:{x:g},backend:r,attrs:{shape:v}}),b=(0,l.transpose)({inputs:{x:y},backend:r,attrs:{perm:_}}),k=(0,u.reshape)({inputs:{x:b},backend:r,attrs:{shape:x}});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(b),k}var f={kernelName:o.SpaceToBatchND,backendName:"cpu",kernelFunc:p}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./PadV2":"eeJad","./Reshape":"j3OqQ","./Transpose":"2CsMD","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],czej8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseFillEmptyRows",function(){return c}),a.export(r,"sparseFillEmptyRowsConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./SparseFillEmptyRows_impl");function c(e){var t=e.inputs,r=e.backend,n=t.indices,a=t.values,o=t.denseShape,c=t.defaultValue;if(1!==o.shape.length)throw Error("Dense shape must be a vector, saw:\n ".concat(o.shape));if(2!==n.shape.length)throw Error("Indices must be a matrix, saw:\n ".concat(n.shape));if(1!==a.shape.length)throw Error("Values must be a vector, saw:\n ".concat(a.shape));if(0!==c.shape.length)throw Error("Default value must be a scalar, saw:\n ".concat(c.shape));var u=r.data.get(n.dataId).values,l=r.data.get(a.dataId).values,p=r.data.get(o.dataId).values,f=r.data.get(c.dataId).values[0],d=(0,s._)((0,i.sparseFillEmptyRowsImpl)(u,n.shape,n.dtype,l,a.dtype,p,f),5),h=d[0],m=d[1],g=d[2],v=d[3],_=d[4];return[r.makeTensorInfo(m,n.dtype,h),r.makeTensorInfo([m[0]],a.dtype,g),r.makeTensorInfo([v.length],"bool",new Uint8Array(v.map(function(e){return Number(e)}))),r.makeTensorInfo([_.length],n.dtype,new Int32Array(_))]}var u={kernelName:o.SparseFillEmptyRows,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./SparseFillEmptyRows_impl":"6Zb3O","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],a6lHv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseReshape",function(){return c}),a.export(r,"sparseReshapeConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./SparseReshape_impl");function c(e){var t=e.inputs,r=e.backend,n=t.inputIndices,a=t.inputShape,o=t.newShape;if(2!==n.shape.length)throw Error("Input indices should be a matrix but received shape\n ".concat(n.shape));if(1!==a.shape.length)throw Error("Input shape should be a vector but received shape\n ".concat(a.shape));if(1!==o.shape.length)throw Error("Target shape should be a vector but received shape ".concat(o.shape));var c=Array.from(r.data.get(a.dataId).values),u=r.data.get(n.dataId).values,l=Array.from(r.data.get(o.dataId).values),p=(0,s._)((0,i.sparseReshapeImpl)(u,n.shape,n.dtype,c,l),3),f=p[0],d=p[1],h=p[2];return[r.makeTensorInfo(d,n.dtype,f),r.makeTensorInfo([h.length],o.dtype,new Int32Array(h))]}var u={kernelName:o.SparseReshape,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./SparseReshape_impl":"6WP3w","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],buUhk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentMean",function(){return c}),a.export(r,"sparseSegmentMeanConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./SparseSegmentReduction_impl");function c(e){var t=e.inputs,r=e.backend,n=t.data,a=t.indices,o=t.segmentIds;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw Error("Indices should be a vector but received shape\n ".concat(a.shape));if(1!==o.shape.length)throw Error("Segment ids should be a vector but received shape\n ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw Error("segmentIds and indices should have same size.");var c=r.data.get(n.dataId).values,u=r.data.get(a.dataId).values,l=r.data.get(o.dataId).values,p=(0,s._)((0,i.sparseSegmentReductionImpl)(c,n.shape,n.dtype,u,l,!0),2),f=p[0],d=p[1];return r.makeTensorInfo(d,n.dtype,f)}var u={kernelName:o.SparseSegmentMean,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./SparseSegmentReduction_impl":"glo7z","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"2DGCr":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentSum",function(){return c}),a.export(r,"sparseSegmentSumConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./SparseSegmentReduction_impl");function c(e){var t=e.inputs,r=e.backend,n=t.data,a=t.indices,o=t.segmentIds;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw Error("Indices should be a vector but received shape\n ".concat(a.shape));if(1!==o.shape.length)throw Error("Segment ids should be a vector but received shape\n ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw Error("segmentIds and indices should have same size.");var c=r.data.get(n.dataId).values,u=r.data.get(a.dataId).values,l=r.data.get(o.dataId).values,p=(0,s._)((0,i.sparseSegmentReductionImpl)(c,n.shape,n.dtype,u,l),2),f=p[0],d=p[1];return r.makeTensorInfo(d,n.dtype,f)}var u={kernelName:o.SparseSegmentSum,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./SparseSegmentReduction_impl":"glo7z","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],liQJy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseToDense",function(){return i}),a.export(r,"sparseToDenseConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Scatter_impl");function i(e){var t,r=e.inputs,n=e.backend,a=e.attrs,i=r.sparseIndices,c=r.sparseValues,u=r.defaultValue,l=a.outputShape,p=s.backend_util.calculateShapes(c,i,l),f=p.sliceRank,d=p.numUpdates,h=p.sliceSize,m=p.strides,g=p.outputSize,v=n.bufferSync(i);switch(c.dtype){case"bool":var _=n.bufferSync(c),x=!!n.data.get(u.dataId).values[0];t=(0,o.scatterImpl)(v,_,l,g,h,d,f,m,x,!1);break;case"float32":var y=n.bufferSync(c),b=n.data.get(u.dataId).values[0];t=(0,o.scatterImpl)(v,y,l,g,h,d,f,m,b,!1);break;case"int32":var k=n.bufferSync(c),j=n.data.get(u.dataId).values[0];t=(0,o.scatterImpl)(v,k,l,g,h,d,f,m,j,!1);break;case"string":var w=n.bufferSync(c),I=s.util.decodeString(n.data.get(u.dataId).values[0]);t=(0,o.scatterImpl)(v,w,l,g,h,d,f,m,I,!1);break;default:throw Error("Unsupported type ".concat(c.dtype))}return n.makeTensorInfo(l,t.dtype,t.values)}var c={kernelName:s.SparseToDense,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Scatter_impl":"8sDwq","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fktE7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"splitV",function(){return c}),a.export(r,"splitVConfig",function(){return u});var s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./Slice");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.numOrSizeSplits,u=n.axis,l=o.util.parseAxisParam(u,a.shape)[0],p=o.backend_util.prepareSplitSize(a,c,l),f=Array(a.shape.length).fill(0),d=a.shape.slice();return p.map(function(e){var t=(0,s._)(d);t[l]=e;var n=(0,i.slice)({inputs:{x:a},backend:r,attrs:{begin:f,size:t}});return f[l]+=e,n})}var u={kernelName:o.SplitV,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"i81N6","@tensorflow/tfjs-core":"aOH7b","./Slice":"28Hnf","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gHLwU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squareConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i={kernelName:s.Square,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t.x;(0,o.assertNotComplex)(n,"square");for(var a=r.data.get(n.dataId).values,s=new Float32Array(a.length),i=0;i<a.length;++i){var c=a[i];s[i]=c*c}return{dataId:r.write(s,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"654jO":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"step",function(){return o}),a.export(r,"stepConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Step,function(e,t){return isNaN(e)?NaN:e>0?1:t.alpha}),i={kernelName:s.Step,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],fJOzh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stridedSlice",function(){return l}),a.export(r,"stridedSliceConfig",function(){return p});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./Reshape"),c=e("./Slice"),u=e("./StridedSlice_impl");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.begin,f=a.end,d=a.strides,h=a.beginMask,m=a.endMask,g=a.ellipsisMask,v=a.newAxisMask,_=a.shrinkAxisMask;(0,o.assertNotComplex)(l,"stridedSlice");var x=s.slice_util.sliceInfo(l.shape,p,f,d,h,m,g,v,_),y=x.finalShapeSparse,b=x.finalShape,k=x.isIdentity,j=x.sliceDim0,w=x.isSimpleSlice,I=x.begin,T=x.end,S=x.strides;if(k)t=(0,i.reshape)({inputs:{x:l},backend:n,attrs:{shape:b}});else if(j||w){s.util.assert(l.shape.length>=1,function(){return"Input must have rank at least 1, got: ".concat(l.shape.length)});var N=s.slice_util.computeOutShape(I,T,S),M=(0,c.slice)({inputs:{x:l},backend:n,attrs:{begin:I,size:N}});t=(0,i.reshape)({inputs:{x:M},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(M)}else{var C=n.bufferSync(l),E=(0,u.stridedSliceImpl)(y,C,S,I);t=n.makeTensorInfo(b,E.dtype,E.values)}return t}var p={kernelName:s.StridedSlice,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Reshape":"j3OqQ","./Slice":"28Hnf","./StridedSlice_impl":"fxoe0","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"3PXCz":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringNGrams",function(){return c}),a.export(r,"stringNGramsConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./StringNGrams_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=n.separator,o=n.nGramWidths,c=n.leftPad,u=n.rightPad,l=n.padWidth,p=n.preserveShortSequences,f=t.data,d=t.dataSplits,h=r.data.get(f.dataId).values,m=r.data.get(d.dataId).values,g=(0,s._)((0,i.stringNGramsImpl)(h,m,a,o,c,u,l,p),2),v=g[0],_=g[1];return[r.makeTensorInfo([v.length],"string",v),r.makeTensorInfo(d.shape,"int32",_)]}var u={kernelName:o.StringNGrams,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./StringNGrams_impl":"gCgj1","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],aYZAd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringSplit",function(){return c}),a.export(r,"stringSplitConfig",function(){return u});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("./StringSplit_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.skipEmpty,a=t.input,o=t.delimiter;if("string"!==a.dtype)throw Error("Input must be of datatype string");if(1!==a.shape.length)throw Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==o.shape.length)throw Error("Delimiter must be a scalar, got shape: ".concat(o.shape));var c=r.data.get(a.dataId).values,u=r.data.get(o.dataId).values[0],l=(0,s._)((0,i.stringSplitImpl)(c,u,n),3),p=l[0],f=l[1],d=l[2],h=f.length;return[r.makeTensorInfo([h,2],"int32",p),r.makeTensorInfo([h],"string",f),r.makeTensorInfo([2],"int32",new Int32Array(d))]}var u={kernelName:o.StringSplit,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","./StringSplit_impl":"euPiE","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],djxLB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringToHashBucketFast",function(){return i}),a.export(r,"stringToHashBucketFastConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./StringToHashBucketFast_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw Error("Input must be of datatype string");if(n<=0)throw Error("Number of buckets must be at least 1");var s=r.data.get(a.dataId).values,i=(0,o.stringToHashBucketFastImpl)(s,n);return r.makeTensorInfo(a.shape,"int32",i)}var c={kernelName:s.StringToHashBucketFast,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./StringToHashBucketFast_impl":"llNkF","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hZj7s:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tan",function(){return o}),a.export(r,"tanConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Tan,function(e){return Math.tan(e)}),i={kernelName:s.Tan,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cFf4g:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tanh",function(){return o}),a.export(r,"tanhConfig",function(){return i});var s=e("@tensorflow/tfjs-core"),o=(0,e("../utils/unary_utils").unaryKernelFunc)(s.Tanh,function(e){return Math.tanh(e)}),i={kernelName:s.Tanh,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"aOH7b","../utils/unary_utils":"1xh9b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1MqLx":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensorScatterUpdate",function(){return i}),a.export(r,"tensorScatterUpdateConfig",function(){return c});var s=e("@tensorflow/tfjs-core"),o=e("./Scatter_impl");function i(e){var t=e.inputs,r=e.backend,n=t.tensor,a=t.indices,i=t.updates,c=s.backend_util.calculateShapes(i,a,n.shape),u=c.sliceRank,l=c.numUpdates,p=c.sliceSize,f=c.strides,d=c.outputSize,h=r.bufferSync(a),m=r.bufferSync(i),g=r.bufferSync(n),v=(0,o.scatterImpl)(h,m,n.shape,d,p,l,u,f,g,!1);return r.makeTensorInfo(n.shape,v.dtype,v.values)}var c={kernelName:s.TensorScatterUpdate,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"aOH7b","./Scatter_impl":"8sDwq","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],gmSUp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tile",function(){return c}),a.export(r,"tileConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./Tile_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.reps;(0,o.assertNotComplex)(a,"tile");var c=(0,i.tileImpl)(r.bufferSync(a),s);return r.makeTensorInfo(c.shape,c.dtype,c.values)}var u={kernelName:s.Tile,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Tile_impl":"9aPJh","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],cU2A2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"topK",function(){return u}),a.export(r,"topKConfig",function(){return l});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./TopK_impl");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.k,u=n.sorted;(0,i.assertNotComplex)(a,"topk");var l=r.data.get(a.dataId).values,p=(0,s._)((0,c.topKImpl)(l,a.shape,a.dtype,o,u),2),f=p[0],d=p[1];return[r.makeTensorInfo(f.shape,f.dtype,f.values),r.makeTensorInfo(d.shape,d.dtype,d.values)]}var l={kernelName:o.TopK,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./TopK_impl":"jBsXV","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],dXXD8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transform",function(){return i}),a.export(r,"transformConfig",function(){return c});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),o=e("@tensorflow/tfjs-core");function i(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.image,i=t.transforms,c=r.interpolation,p=r.fillMode,f=r.fillValue,d=r.outputShape,h=(0,s._)(a.shape,4),m=h[0],g=h[1],v=h[2],_=h[3],x=(0,s._)(null!=d?d:[g,v],2),y=x[0],b=x[1],k=[m,y,b,_],j=o.util.computeStrides(a.shape),w=j[0],I=j[1],T=j[2],S=o.util.computeStrides(k),N=S[0],M=S[1],C=S[2],E=o.util.getTypedArrayFromDType(a.dtype,o.util.sizeFromShape(k));E.fill(f);for(var F=n.data.get(a.dataId).values,A=n.data.get(i.dataId).values,R=0;R<m;++R){for(var P=1===i.shape[0]?A:A.subarray(8*R,8*R+8),O=0;O<y;++O)for(var D=0;D<b;++D)for(var B=0;B<_;++B){var V=void 0,G=P[6]*D+P[7]*O+1;if(0!==G){var L=(P[0]*D+P[1]*O+P[2])/G,q=(P[3]*D+P[4]*O+P[5])/G,z=u(L,v,p),U=u(q,g,p);switch(c){case"nearest":V=l(F,g,v,w,I,T,R,Math.round(U),Math.round(z),B,f);break;case"bilinear":V=function(e,t,r,n,a,s,o,i,c,u,p){var f=Math.floor(i),d=Math.floor(c),h=f+1,m=d+1,g=(m-c)*l(e,t,r,n,a,s,o,f,d,u,p)+(c-d)*l(e,t,r,n,a,s,o,f,m,u,p),v=(m-c)*l(e,t,r,n,a,s,o,h,d,u,p)+(c-d)*l(e,t,r,n,a,s,o,h,m,u,p);return(h-i)*g+(i-f)*v}(F,g,v,w,I,T,R,U,z,B,f);break;default:throw Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(c))}E[R*N+O*M+D*C+B]=V}}return n.makeTensorInfo(k,a.dtype,E)}return{dataId:n.write(E,k,a.dtype),shape:a.shape,dtype:a.dtype}}var c={kernelName:o.Transform,backendName:"cpu",kernelFunc:i};function u(e,t,r){switch(r){case"reflect":var n,a,s,i,c,u=e,l=t,p=u;if(p<0)if(l<=1)p=0;else{var f=2*l;p<f&&(p=f*Math.trunc(-p/f)+p),p=p<-l?p+f:-p-1}else if(p>l-1)if(l<=1)p=0;else{var d=2*l;(p-=d*Math.trunc(p/d))>=l&&(p=d-p-1)}return o.util.clamp(0,p,l-1);case"wrap":return n=e,a=t,(s=n)<0?a<=1?s=0:s+=a*(Math.trunc(-s/(a-1))+1):s>a-1&&(a<=1?s=0:s-=a*Math.trunc(s/(a-1))),o.util.clamp(0,s,a-1);case"nearest":return i=e,c=t,o.util.clamp(0,i,c-1);default:return e}}function l(e,t,r,n,a,s,o,i,c,u,l){return 0<=i&&i<t&&0<=c&&c<r?e[o*n+i*a+c*s+u]:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"gIQTH","@tensorflow/tfjs-core":"aOH7b","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],eZ72U:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unique",function(){return c}),a.export(r,"uniqueConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./Unique_impl");function c(e){var t=e.inputs,r=e.attrs,n=e.backend,a=r.axis,s=t.x;(0,o.assertNotComplex)(s,"unique");var c=n.data.get(s.dataId).values,u=(0,i.uniqueImpl)(c,a,s.shape,s.dtype),l=u.outputValues,p=u.outputShape,f=u.indices;return[n.makeTensorInfo(p,s.dtype,l),n.makeTensorInfo([f.length],"int32",f)]}var u={kernelName:s.Unique,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Unique_impl":"45rzo","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],"1r9K5":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unpack",function(){return c}),a.export(r,"unpackConfig",function(){return u});var s=e("@tensorflow/tfjs-core"),o=e("./Reshape"),i=e("./Slice");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.value,s=n.axis;s<0&&(s+=a.shape.length);for(var c=a.shape.length,u=a.shape[s],l=Array(c-1),p=0,f=0;f<c;f++)f!==s&&(l[p++]=a.shape[f]);var d=Array(c).fill(0),h=a.shape.slice();h[s]=1;for(var m=Array(u),g=0;g<m.length;g++){d[s]=g;var v=(0,i.slice)({inputs:{x:a},backend:r,attrs:{begin:d,size:h}});m[g]=(0,o.reshape)({inputs:{x:v},backend:r,attrs:{shape:l}}),r.disposeIntermediateTensorInfo(v)}return m}var u={kernelName:s.Unpack,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"aOH7b","./Reshape":"j3OqQ","./Slice":"28Hnf","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}],hF8BD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unsortedSegmentSum",function(){return d}),a.export(r,"unsortedSegmentSumConfig",function(){return h});var s=e("@tensorflow/tfjs-core"),o=e("../cpu_util"),i=e("./Cast"),c=e("./Equal"),u=e("./ExpandDims"),l=e("./Multiply"),p=e("./Pack"),f=e("./Sum");function d(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,d=t.segmentIds,h=n.numSegments;(0,o.assertNotComplex)(a,"unsortedSegmentSum");for(var m=a.shape.length,g=d.shape.length,v=[],_=[],x=m-g,y=d,b=0;b<x;++b){var k=(0,u.expandDims)({inputs:{input:y},backend:r,attrs:{dim:b+1}});y=k,_.push(k)}for(var j=0;j<h;++j){var w=s.util.createScalarValue(j,"int32"),I=r.makeTensorInfo([],"int32",w),T=(0,c.equal)({inputs:{a:I,b:y},backend:r}),S=(0,i.cast)({inputs:{x:T},backend:r,attrs:{dtype:"float32"}}),N=(0,l.multiply)({inputs:{a:S,b:a},backend:r}),M=(0,f.sum)({inputs:{x:N},backend:r,attrs:{axis:0,keepDims:!1}});v.push(M),_.push(I),_.push(T),_.push(S),_.push(N),_.push(M)}var C=(0,p.pack)({inputs:v,backend:r,attrs:{axis:0}});return _.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),C}var h={kernelName:s.UnsortedSegmentSum,backendName:"cpu",kernelFunc:d}},{"@tensorflow/tfjs-core":"aOH7b","../cpu_util":"aNlof","./Cast":"kWbgg","./Equal":"jWX2L","./ExpandDims":"kufDD","./Multiply":"1KdVu","./Pack":"f2gUP","./Sum":"9djt1","@parcel/transformer-js/src/esmodule-helpers.js":"qpMMf"}]},["1FGEJ"],"1FGEJ","parcelRequire4dc0",{});